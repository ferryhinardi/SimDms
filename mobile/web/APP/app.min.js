"use strict";function isNumber(n){return!isNaN(parseFloat(n))&&isFinite(n)}window.onerror=function(n,t,i,r,u){return JL("onerrorLogger").fatalException({msg:"Exception!",errorMsg:n,url:t,"line number":i,column:r},u),!1};define(["angular","angularAMD","api/config/routes/1/","angular-sanitize","angular-animate","angular-route","ui-codemirror","xtform","ng-moment","ui-bootstrap","angular-resource","pickDay","kendo.ext","ng.nv.d3","angular-block-ui","ui-utils","ng-calendar","ngRule","pickDay","ngHandsontable","door3css","adapt-strap","adapt-strap.tpl","ng-idle","angularModalService"],function(n,t,i){var r=angular.module("app",["ng","ngRoute","ngSanitize","ngAnimate","angularMoment","nvd3","ngHandsontable","kendo.directives","ui.utils","ui.bootstrap","xtForm","ngIdle","ngResource","ui.calendar","ui.codemirror","blockUI","door3.css","adaptv.adaptStrap","angularModalService"]);return r.config(function(n,t){n.factory("MyHttpInterceptor",function(n){return{request:function(t){return t||n.when(t)},requestError:function(t){var i=t.data||"Could not connect to the server !!!";return bootbox.alert(i),n.reject(t)},response:function(t){if(t.data.success!==undefined)if(t.data.success)t.data.message!==undefined&&toastr.success(t.data.message,"success");else{var i=t.data.message||"Could not connect to the server !!!";bootbox.dialog({message:i,title:' <font color="red"><i class="fa fa-exclamation-triangle"><\/i>  Error !!!<\/font>',onEscape:function(){},show:!0,backdrop:!0,closeButton:!0,animate:!0,buttons:{'<i class="fa fa-times"><\/i> Close':{className:"btn-default",callback:function(){}}}})}return t||n.when(t)},responseError:function(t){var i=t.data||"Could not connect to the server !!!";return bootbox.alert(i),n.reject(t)}}});t.interceptors.push("MyHttpInterceptor")}),r.config(["$httpProvider",function(n){n.defaults.headers.common={"X-Requested-With":"XMLHttpRequest"}}]),r.directive("confirmPassword",[function(){return{restrict:"A",require:"ngModel",link:function(n,t,i,r){var u=function(t){var u=n.$eval(i.confirmPassword);return r.$setValidity("match",r.$isEmpty(t)||t==u),t};r.$parsers.push(u);n.$watch(i.confirmPassword,function(){u(r.$viewValue)})}}}]).directive("formField",function(n,t){return{restrict:"E",compile:function(i,r){var u=t(r.field);return function(t,i,r){var o,f,e;f=u(t);e="form-field-"+f.name;o=['<div class="form-group">','  <label class="control-label" for="'+e+'">'+f.label+"<\/label>",'  <input class="form-control" ng-model="'+r.ngModel+"."+f.name+'" type="'+(f.type||"text")+'"',f.required?" required ":"",f.minLength?' ng-minlength="'+f.minLength+'"':"",f.maxLength?' ng-maxlength="'+f.maxLength+'"':"",f.pattern?' ng-pattern="'+f.pattern+'"':"",' id="'+e+'">',"<\/div>"].join("");i.replaceWith(n(o)(t))}}}}).directive("collection",function(){return{restrict:"E",replace:!0,scope:{collection:"="},template:"<ul><member ng-repeat='member in collection' member='member'><\/member><\/ul>"}}).directive("member",function(n){return{restrict:"E",replace:!0,scope:{member:"="},template:'<li class><a href="{{member.Url}}"><i class="{{member.Icon}}"><\/i> <span class="menu-item-parent">{{member.MenuCaption}}<\/span><\/a><\/li>',link:function(t,i){angular.isArray(t.member.children)&&(i.append("<collection collection='member.Detail'><\/collection>"),n(i.contents())(t))}}}).filter("propsFilter",function(){return function(n,t){var i=[];return angular.isArray(n)?n.forEach(function(n){for(var u,o,f=!1,e=Object.keys(t),r=0;r<e.length;r++)if(u=e[r],o=t[u].toLowerCase(),n[u].toString().toLowerCase().indexOf(o)!==-1){f=!0;break}f&&i.push(n)}):i=n,i}}).controller("NavigationCtrl",function(n){n.navItems=[{MenuId:"M1",MenuCaption:"Time Management",Url:"#",Icon:null,ModuleName:null,ParentName:null,Detail:[{MenuId:"M11",MenuCaption:"test1",Url:"#",Icon:null,ModuleName:"Time Management",ParentName:"Time Management",Detail:[{MenuId:"M111",MenuCaption:"test-1.1",Url:"#",Icon:null,ModuleName:"Time Management",ParentName:"Time Management / test1",Detail:[]}]}]},{MenuId:"M2",MenuCaption:"Payroll Administration",Url:"#",Icon:null,ModuleName:null,ParentName:null,Detail:[{MenuId:"M21",MenuCaption:"test2",Url:"#",Icon:null,ModuleName:"Payroll Administration",ParentName:"Payroll Administration",Detail:[]}]},{MenuId:"M3",MenuCaption:"Personal Administration",Url:"#",Icon:null,ModuleName:null,ParentName:null,Detail:[{MenuId:"M31",MenuCaption:"test",Url:"#",Icon:null,ModuleName:"Personal Administration",ParentName:"Personal Administration",Detail:[]},{MenuId:"M32",MenuCaption:"sdsd",Url:"#",Icon:"",ModuleName:"Personal Administration",ParentName:"Personal Administration",Detail:[]}]}]}).directive("showData",function(n){return{scope:!0,link:function(t,i,r){var u;r.$observe("template",function(r){angular.isDefined(r)&&(u=n(r)(t),i.html(""),i.append(u))})}}}),r.factory("queueBlockUI",function(n,t,i){return function(r){function e(){var i=r[u];u?u<r.length?n.message(i):(n.stop(),f.resolve()):n.start(i);u++<r.length&&t(e,Math.floor(Math.random()*500+1e3))}var u=0,f=i.defer();return e(),f.promise}}),r.provider("toggleSwitchConfig",function(){this.onLabel="On";this.offLabel="Off";this.knobLabel=" ";var n=this;this.$get=function(){return{onLabel:n.onLabel,offLabel:n.offLabel,knobLabel:n.knobLabel}}}),r.directive("toggleSwitch",function(n){return{restrict:"EA",replace:!0,require:"ngModel",scope:{disabled:"@",onLabel:"@",offLabel:"@",knobLabel:"@"},template:'<div role="radio" class="ngswitch" ng-class="{ \'disabled\': disabled }"><div class="switch-animate" ng-class="{\'switch-off\': !model, \'switch-on\': model}"><span class="switch-left" ng-bind="onLabel"><\/span><span class="knob" ng-bind="knobLabel"><\/span><span class="switch-right" ng-bind="offLabel"><\/span><\/div><\/div>',compile:function(t,i){return i.onLabel||(i.onLabel=n.onLabel),i.offLabel||(i.offLabel=n.offLabel),i.knobLabel||(i.knobLabel=n.knobLabel),this.link},link:function(n,t,i,r){var u=32;t.on("click",function(){n.$apply(n.toggle)});t.on("keydown",function(t){var i=t.which?t.which:t.keyCode;i===u&&n.$apply(n.toggle)});r.$formatters.push(function(n){return n});r.$parsers.push(function(n){return n});r.$render=function(){n.model=r.$viewValue};n.toggle=function(){n.disabled||(n.model=!n.model,r.$setViewValue(n.model))}}}}),r.config(["$routeProvider","$locationProvider","$controllerProvider","$compileProvider","$filterProvider","$provide",function(n,u,f,e,o,s){r.controller=f.register;r.directive=e.directive;r.filter=o.register;r.factory=s.factory;r.service=s.service;i.routes!==undefined&&angular.forEach(i.routes,function(i,r){n.when(r,t.route({templateUrl:i.templateUrl,controllerUrl:i.controllerUrl,css:i.css||undefined}))});n.when("/page/:id",t.route({templateUrl:function(n){return"api/files/templates/"+n.id+"/html"},resolve:{load:["$q","$rootScope","$location",function(n,t,i){var f=i.path(),r=f.split("/"),s=r[1],e=r[2],o="api/files/templates/"+e+"/js",u=n.defer();return require([o],function(){t.$apply(function(){u.resolve()})}),u.promise}]}})).otherwise({redirectTo:"/"})}]),r.controller("bodyController",function(n,t,i,r,u,f){n.$on("$routeChangeSuccess",function(){});n.changePassword=function(){f.showModal({templateUrl:"change-password.html",controller:e,backdrop:"static"}).then(function(n){n.element.modal();n.close.then(function(){close(null,500)})})};var e=function(n,t,i,r){n.changePwd=function(){console.log(n.data);var u="sm/setup/user/changepassword";bootbox.confirm("Apakah anda yakin ? Pastikan anda sudah mengingat password baru yang anda masukkan !!!",function(f){f&&i.post(u,n.data).then(function(i){i.data!==null&&i.data.success===!0&&(n.display=!1,t.modal("hide"),r({data:i.data.data},500))})})};n.cancel=function(){t.modal("hide");n.display=!1;r(null,500)}}}),r.directive("passwordVerify",function(){return{require:"ngModel",scope:{passwordVerify:"="},link:function(n,t,i,r){n.$watch(function(){var t;return(n.passwordVerify||r.$viewValue)&&(t=n.passwordVerify+"_"+r.$viewValue),t},function(t){t&&r.$parsers.unshift(function(t){var i=n.passwordVerify;return i!==t?(r.$setValidity("passwordVerify",!1),undefined):(r.$setValidity("passwordVerify",!0),t)})})}}}),r.run(function(n,t,i){n.$on("$viewContentLoaded",function(){$(document).ready(function(){window.$!==undefined&&i(function(){pageSetUp()},1e3)})})}),t.bootstrap(r)});