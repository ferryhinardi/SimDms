(function(){var f,n,i,r,t,e,u;for(r={},u="area,base,br,col,frame,hr,img,input,link,meta,source,line,circle,polygon,ellipse,rect,polyline".split(","),t=0,e=u.length;t<e;t++)n=u[t],r[n]=!0;f={a:{href:[],target:["_blank","_top"]},abbr:{},address:{},article:{},aside:{},audio:{controls:["controls"],_tags:{source:{src:[],type:["audio/ogg","audio/mpeg"]}}},base:{href:[],target:["_blank","_parent","_self","_top"]},bdi:{},bdo:{},blockquote:{},body:{},button:{autofocus:["autofocus"],disabled:["disabled"],form:[],formaction:[],formenctype:["application/x-www-form-urlencoded","multipart/form-data","text/plain"],formmethod:["get","post"],formnovalidate:["formnovalidate"],formtarget:["_blank","_self","_parent","_top"],name:[],placeholder:[],readonly:["readonly"],required:["required"],type:["button","reset","submit"],value:[]},canvas:{height:[],width:[]},caption:{},cite:{},command:{checked:["checked"],disabled:["disabled"],icon:[],label:[],radiogroup:[],type:["checkbox","command","radio"]},code:{},data:{value:[]},datalist:{_tags:{option:{selected:["selected"],value:[]}}},del:{},details:{open:["open"]},dfn:{},dialog:{open:["open"]},div:{},dl:{},dt:{},dd:{},em:{},embed:{height:[],src:[],type:["application","audio","example","image","message","model","multipart","text","video"],width:[]},fieldset:{},figure:{_tags:{figcaption:{}}},form:{action:[],method:["get","post"],_tags:{label:{"for":[]},input:{autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],max:[],maxlength:[],min:[],name:[],placeholder:[],readonly:["readonly"],required:["required"],type:["button","color","checkbox","date","datetime","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","time","text","url","week"],value:[]},textarea:{autofocus:["autofocus"],cols:[],disabled:["disabled"],name:[],placeholder:[],readonly:["readonly"],required:["required"],rows:[]},select:{disabled:["disabled"],multiple:["multiple"],name:[],readonly:["readonly"],size:[],_tags:{option:{selected:["selected"],value:[]},optgroup:{label:[]}}},button:{},legend:{},fieldset:{}}},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},head:{_tags:{title:{},link:{rel:["alternate","icon","stylesheet"],href:function(){var t,n,u,i,r;for(i=design.bundles.public.files_as_array,r=[],n=0,u=i.length;n<u;n++)t=i[n],t.isStyleSheet()&&r.push(t.path);return r}},script:{src:[],type:["text/javascript"]},style:{type:["text/css"]},meta:{charset:["UTF-8"],content:[],name:["authors","description"]}}},header:{},hgroup:{},hr:{},iframe:{height:[],name:[],sandbox:["allow-forms","allow-same-origin","allow-scripts","allow-top-navigation"],seamless:["seamless"],src:[],srcdoc:[],width:[]},img:{alt:[],draggable:["false","true"],height:[],src:[],width:[]},input:{autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],max:[],maxlength:[],min:[],name:[],placeholder:[],readonly:["readonly"],required:["required"],type:["button","color","checkbox","date","datetime","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","time","text","url","week"],value:[]},ins:{},kbd:{},keygen:{autofocus:["autofocus"],challenge:["challenge"],disabled:["disabled"],form:[],keytype:["ec","dsa","rsa"],name:[]},label:{"for":[]},legend:{},li:{},main:{},map:{name:[]},mark:{},math:{},menu:{label:[],type:["context","list","toolbar"]},menuitem:{checked:[],command:[],"default":[],disabled:[],icon:[],label:[],radiogroup:[],type:["command","checkbox","radio"]},meter:{form:[],high:[],low:[],max:[],min:[],optimum:[],value:[]},mi:{},mn:{},mrow:{},msup:{},nav:{},noscript:{},object:{form:[],height:[],name:[],type:[],usemap:[],width:[]},ol:{},output:{"for":[],form:[],name:[]},p:{},param:{name:[],value:[]},pre:{},progress:{max:[],value:[]},q:{},rp:{},rt:{},ruby:{},s:{},samp:{},section:{},select:{disabled:["disabled"],multiple:["multiple"],name:[],readonly:["readonly"],size:[],_tags:{option:{selected:["selected"],value:[]},optgroup:{label:[]}}},small:{},source:{src:[],type:["audio/ogg","audio/mpeg","video/ogg","video/mp4","video/webm"]},span:{},strong:{},sub:{},summary:{},sup:{},svg:{height:[],version:["1.1"],width:[],xmlns:["http://www.w3.org/2000/svg"],_tags:{circle:{cx:["100"],cy:["100"],fill:["#cccccc"],"fill-opacity":["0.5"],r:["50"],stroke:["#000000"],"stroke-width":["3"]},ellipse:{cx:["100"],cy:["100"],fill:["#cccccc"],"fill-opacity":["0.5"],rx:["100"],ry:["50"],stroke:["#000000"],"stroke-width":["3"]},line:{x1:["100"],x2:["300"],y1:["100"],y2:["300"],stroke:["#000000"],"stroke-width":["3"]},polygon:{points:["10,10 250,250 150,200"],fill:["#cccccc"],"fill-opacity":["0.5"],stroke:["#000000"],"stroke-width":["3"]},polyline:{points:["0,50 50,50 50,100 100,100 100,150 150,150 150,0"],stroke:["#000000"],"stroke-width":["3"]},rect:{fill:["#cccccc"],"fill-opacity":["0.5"],height:["100"],stroke:["#000000"],"stroke-width":["1"],width:["100"]},text:{x:["100"],y:["100"],fill:["#cccccc"],"fill-opacity":["0.5"],transform:["rotate(30 20,40)"]}}},table:{align:["center","left","right"],border:["1"],cellpadding:[],cellspacing:[],width:[]},tbody:{},template:{},textarea:{autofocus:["autofocus"],cols:[],disabled:["disabled"],name:[],placeholder:[],readonly:["readonly"],required:["required"],rows:[]},td:{},tfoot:{},th:{},thead:{},time:{datetime:[],pubdate:[]},tr:{},track:{"default":["default"],label:[],kind:["captions","chapters","descriptions","metadata","subtitles"],src:[],srclang:[]},ul:{},"var":{},video:{controls:["controls"],height:[],width:[],_tags:{source:{src:[],type:["video/ogg","video/mp4","video/webm"]}}},wbr:{}};i=function(t,i,r){var u=[];for(n in t)n.indexOf("_")!==0&&(i===""||n.indexOf(i)===0)&&(r?u.push(r(n)):u.push(n));return u};window.HtmlCompletion=function(){function n(){this.cssCompletion||(this.cssCompletion=new CssCompletion({local:!0}))}return n.prototype.hasHints=function(n){var i,t;return(i=n.getCursor(),t=n.getTokenAt(i),t.state.mode==="css")?!0:(t.state.htmlState&&t.state.htmlState.inTag&&t.state.htmlState.tagName)?t.state.htmlState.type==="openTag"&&t.string.length<2&&t.string.indexOf("<")===0?!1:!0:!1},n.prototype.getRootTags=function(){return f},n.prototype.getContextualTags=function(n,t,i){var f,e,r,u;for(i==null&&(i=-1),f=n.state.htmlState.context,e=0;f;){if(r=t[f.tagName],r&&r.call&&(r=r()),u=r&&r._tags,u&&u.call&&(u=u(n)),u&&(i<0||e<i))return this.getContextualTags(n,u,e);f=f.prev;e++}return t},n.prototype.getTagCompletions=function(n){var t,f,r,e,u;return(u=n.state.htmlState.type,f=u==="openTag"?1:2,this.state.getString=function(n){return n.string.substr(f,n.string.length)},u==="closeTag")?(t=n.state.htmlState.context.tagName,[{value:"<\/"+t+">",label:t}]):(r=this.state.getString(n),e=this.getContextualTags(n,this.getRootTags(r)),i(e,r,function(n){return{value:"<"+n,label:n}}))},n.prototype.getAttributeCompletions=function(n){var e,t,s,r,u,f,h,o;if(u=n.state.htmlState.tagName,r=this.getContextualTags(n,this.getRootTags(u))[u],!r)return[];for(r.call&&(r=r()),s=n.state.htmlState.attrs||{},t=i(r,n.string,function(n){return{value:n,action:"insertAttribute"}}),u.indexOf("po")!==0&&(t.push({value:"class",action:"insertAttribute"}),t.push({value:"id",action:"insertAttribute"}),t.push({value:"accesskey",action:"insertAttribute"}),t.push({value:"contenteditable",action:"insertAttribute"}),t.push({value:"contextmenu",action:"insertAttribute"}),t.push({value:"dir",action:"insertAttribute"}),t.push({value:"draggable",action:"insertAttribute"}),t.push({value:"dropzone",action:"insertAttribute"}),t.push({value:"hidden",action:"insertAttribute"}),t.push({value:"lang",action:"insertAttribute"}),t.push({value:"spellcheck",action:"insertAttribute"}),t.push({value:"style",action:"insertAttribute"}),t.push({value:"tabindex",action:"insertAttribute"}),t.push({value:"title",action:"insertAttribute"}),t.push({value:"translate",action:"insertAttribute"})),o=[],f=0,h=t.length;f<h;f++)e=t[f],s[e.value]||o.push(e);return o},n.prototype.insertAttribute=function(n,t){var i,u,f,r;return i=n.getCursor(),r=n.getTokenAt(i),/^\s+$/.test(r.string)&&(r=$.extend({},r,{start:i.ch,end:i.ch,string:""})),u={line:i.line,ch:r.start},f={line:i.line,ch:r.end},n.replaceRange(""+t+'=""',u,f),i=n.getCursor(),n.setCursor(i.line,i.ch-1)},n.prototype.insertRule=function(n,t){return this.cssCompletion.insertRule(n,t)},n.prototype.getAttributeValueCompletions=function(n,t,i){var f,c,r,o,u,s,e,l,h;if(s=n.state.htmlState.tagName,u=this.getContextualTags(n,this.getRootTags(s))[s],!u)return[];for(u.call&&(u=u()),c=t.getTokenAt({line:i.line,ch:n.start-1}),r=u[c.string]||[],r.call&&(r=r(n)),this.state.getString=function(n){return n.string.replace(/(^["']|["']$)/g,"")},o=this.state.getString(n),h=[],e=0,l=r.length;e<l;e++)f=r[e],(o===""||f.indexOf(o)===0)&&h.push({value:'"'+f+'"',label:f});return h},n.prototype.getCompletions=function(n,t,i){if(n.className&&n.string.indexOf("<")===0)return this.getTagCompletions(n);if(n.state.htmlState&&n.state.htmlState.tagName&&n.state.htmlState.type!=="closeTag"){if(n.className===null||n.className.match(/attribute/))return this.getAttributeCompletions(n);if(n.className&&n.className.indexOf("string")>-1)return this.getAttributeValueCompletions(n,t,i)}},n.prototype.getHints=function(n){var i,u,r,t;i=n.getCursor();t=n.getTokenAt(i);this.state&&this.state.line===i.line&&this.state.start===t.start&&this.state.end===t.end-1||(this.state={line:i.line,start:t.start});this.state.end=t.end;switch(t.state.mode){case"html":return(/^\s+$/.test(t.string)&&(t=$.extend({},t,{start:i.ch,end:i.ch,string:""})),this.state.suggestions?(u=this.state.getString?this.state.getString(t):t.string,this.state.suggestions=function(){var n,f,t,i;for(t=this.state.suggestions,i=[],n=0,f=t.length;n<f;n++)r=t[n],r.label.indexOf(u)===0&&i.push(r);return i}.call(this)):this.state.suggestions=this.getCompletions(t,n,i),this.state.suggestions&&this.state.suggestions.length===1&&this.state.suggestions[0].value===t.string)?null:{list:this.state.suggestions,from:{line:i.line,ch:t.start},to:{line:i.line,ch:t.end}};case"css":return this.cssCompletion.getHints(n)}},n.prototype.autoAttribute=function(n,t){var i,r;return i=n.getCursor(),r=n.getTokenAt(i),r.className&&r.className.indexOf("attribute")>-1?(t.stop(),n.replaceRange('=""',i),n.setCursor(i.line,i.ch+2)):void 0},n.prototype.autoCloseTag=function(n,t){var i,e,s,f,o,u;if(i=n.getCursor(),u=n.getTokenAt(i),!u.className||!(u.className.indexOf("string")>-1)||i.ch===u.end)return u.className&&u.className.indexOf("attribute")>-1?void 0:(s=n.getRange(i,{line:i.line,ch:i.ch+1}),s===">"&&(t.stop(),n.setCursor(i.line,i.ch+1)),!s.match(/^\s?$/))?void 0:(o=u.state.htmlState&&u.state.htmlState.tagName,r[o])?(t.stop(),n.replaceRange("/>",i),n.setCursor(i.line,i.ch+2)):o&&u.string.match(/[^>\/]$/)?(t.stop(),f=n.getTokenAt({line:i.line,ch:i.ch+1}),e=f.state.htmlState&&f.state.htmlState.tagName&&f.string.match(/^\/?>$/)?{line:i.line,ch:f.end}:i,e.ch===i.ch&&u.state.htmlState.type!=="closeTag"?n.replaceRange("><\/"+o+">",i,e):n.replaceRange(">",i,e),n.setCursor(i.line,i.ch+1)):void 0},n.prototype.autoInsertions=function(n,t){switch(t.charCode){case 61:return this.autoAttribute(n,t);case 62:return this.autoCloseTag(n,t,">")}},n.prototype.newline=function(n,t){var i,u,r;return(i=n.getCursor(),r=n.getTokenAt(i),r.className&&r.className.indexOf("tag")>-1&&r.string===">"&&(u=n.getTokenAt({line:i.line,ch:i.ch+1}),u.className&&u.className.indexOf("tag")>-1&&u.state.htmlState.tagName===r.state.htmlState.tagName&&r.state.htmlState.type==="endTag"&&u.state.htmlState.type==="closeTag"))?(t.stop(),n.operation(function(){var u,t,f,r,e;for(n.replaceRange("\n\n",i),n.setCursor(i.line+1,i.ch+2),e=[],u=t=f=i.line,r=i.line+2;f<=r?t<=r:t>=r;u=f<=r?++t:--t)e.push(n.indentLine(u));return e}),!0):!1},n}()}).call(this);