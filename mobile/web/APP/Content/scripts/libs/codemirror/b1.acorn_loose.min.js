(function(n,t){if(typeof exports=="object"&&typeof module=="object")return t(exports,require("./acorn"));if(typeof define=="function"&&define.amd)return define(["exports","./acorn"],t);t(n.acorn||(n.acorn={}),n.acorn)})(this,function(n,t){"use strict";function f(){if(rt=r.end,o.locations&&(ct=r.loc&&r.loc.end),r=st.shift()||ai(),o.onToken)o.onToken(r);if(r.start>=it){while(r.start>=it)c=it,it=ii(c)+1;l=pi(c)}}function ai(){for(var e,s,c;;)try{return e=ot(),e.type===i.dot&&h.substr(e.end,1)==="."&&o.ecmaVersion>=6&&(e=ot(),e.start--,e.type=i.ellipsis),e}catch(u){if(!(u instanceof SyntaxError))throw u;var f=u.message,n=u.raisedAt,r=!0;if(/unterminated/i.test(f))if(n=ii(u.pos+1),/string/.test(f))r={start:u.pos,end:n,type:i.string,value:h.slice(u.pos+1,n)};else if(/regular expr/i.test(f)){s=h.slice(u.pos,n);try{s=new RegExp(s)}catch(u){}r={start:u.pos,end:n,type:i.regexp,value:s}}else r=/template/.test(f)?{start:u.pos,end:n,type:i.template,value:h.slice(u.pos,n)}:/comment/.test(f)?ot.current():!1;else if(/invalid (unicode|regexp|number)|expecting unicode|octal literal|is reserved|directly after number/i.test(f))while(n<h.length&&!fr(h.charCodeAt(n)))++n;else if(/character escape|expected hexadecimal/i.test(f)){while(n<h.length)if(c=h.charCodeAt(n++),c===34||c===39||ti(c))break}else if(/unexpected character/i.test(f))n++,r=!1;else if(/regular expression/i.test(f))r=!0;else throw u;if(ur(n),r===!0&&(r={start:n,end:n,type:i.name,value:"✖"}),r)return o.locations&&(r.loc=new ri(t.getLineInfo(h,r.start)),r.loc.end=t.getLineInfo(h,r.end)),r}}function ur(n){for(;;)try{var i=h.charAt(n-1),r=!i||/[\[\{\(,;:?\/*=+\-~!|&%^<>]/.test(i)||/[enwfd]/.test(i)&&/\b(keywords|case|else|return|throw|new|in|(instance|type)of|delete|void)$/.test(h.slice(n-10,n));return ot.jumpTo(n,r)}catch(t){if(!(t instanceof SyntaxError&&/unterminated comment/i.test(t.message)))throw t;if(n=ii(t.pos+1),n>=h.length)return}}function vi(n){while(n>st.length)st.push(ai());return st[n-1]}function ti(n){return n===10||n===13||n===8232||n===8329}function fr(n){return n<14&&n>8||n===32||n===160||ti(n)}function g(){gt.push(l)}function tt(){l=gt.pop()}function ii(n){while(n<h.length&&!ti(h.charCodeAt(n)))++n;return n}function pi(n){for(var i,t=0;;++n)if(i=h.charCodeAt(n),i===32)++t;else if(i===9)t+=o.tabSize;else return t}function ht(n,t,u,f){return r.type===n||r.type===i.eof?!0:u!=c&&l<t&&lt()&&(!f||it>=h.length||pi(it)<t)?!0:!1}function lt(){for(var t,n=r.start-1;n>=c;--n)if(t=h.charCodeAt(n),t!==9&&t!==32)return!1;return!0}function yt(n){this.type=null;this.start=n;this.end=null}function ri(n){this.start=n||r.loc.start||{line:1,column:0};this.end=null;ni!==null&&(this.source=ni)}function s(){var n=new yt(r.start);return o.locations&&(n.loc=new ri),o.directSourceFile&&(n.sourceFile=o.directSourceFile),o.ranges&&(n.range=[r.start,0]),n}function nt(){return o.locations?[r.start,r.loc.start]:r.start}function v(n){var t;return o.locations?(t=new yt(n[0]),t.loc=new ri(n[1]),n=n[0]):t=new yt(n),o.directSourceFile&&(t.sourceFile=o.directSourceFile),o.ranges&&(t.range=[n,0]),t}function u(n,t){return n.type=t,n.end=rt,o.locations&&(n.loc.end=ct),o.ranges&&(n.range[1]=rt),n}function b(){var n=s();return n.name="✖",u(n,"Identifier")}function at(n){return n.name=="✖"}function e(n){return r.type===n?(f(),!0):!1}function ui(n){return r.type===i.name&&r.value===n}function pt(n){return r.value===n&&e(i.name)}function wt(){return r.type===i.eof||r.type===i.braceR||yi.test(h.slice(rt,r.start))}function y(){return e(i.semi)}function a(n){return e(n)?!0:vi(1).type==n?(f(),f(),!0):vi(2).type==n?(f(),f(),f(),!0):void 0}function bt(n){if(!n)return n;switch(n.type){case"Identifier":case"MemberExpression":case"ObjectPattern":case"ArrayPattern":case"RestElement":case"AssignmentPattern":return n;default:return b()}}function er(){var n=v(o.locations?[0,t.getLineInfo(h,0)]:0);for(n.body=[];r.type!==i.eof;)n.body.push(k());return rt=r.end,ct=r.loc&&r.loc.end,u(n,"Program")}function k(){var w=r.type,n=s(),nt,o,it,rt,t,ot,h,v;switch(w){case i._break:case i._continue:return f(),nt=w===i._break,y()||wt()?n.label=null:(n.label=r.type===i.name?d():null,y()),u(n,nt?"BreakStatement":"ContinueStatement");case i._debugger:return f(),y(),u(n,"DebuggerStatement");case i._do:return f(),n.body=k(),n.test=e(i._while)?vt():b(),y(),u(n,"DoWhileStatement");case i._for:return(f(),g(),a(i.parenL),r.type===i.semi)?fi(n,null):r.type===i._var||r.type===i._let?(o=bi(!0),o.declarations.length===1&&(r.type===i._in||ui("of")))?wi(n,o):fi(n,o):(o=p(!0),r.type===i._in||ui("of"))?wi(n,et(o)):fi(n,o);case i._function:return f(),tr(n,!0);case i._if:return f(),n.test=vt(),n.consequent=k(),n.alternate=e(i._else)?k():null,u(n,"IfStatement");case i._return:return f(),e(i.semi)||wt()?n.argument=null:(n.argument=p(),y()),u(n,"ReturnStatement");case i._switch:for(it=l,rt=c,f(),n.discriminant=vt(),n.cases=[],g(),a(i.braceL);!ht(i.braceR,it,rt,!0);)r.type===i._case||r.type===i._default?(ot=r.type===i._case,t&&u(t,"SwitchCase"),n.cases.push(t=s()),t.consequent=[],f(),t.test=ot?p():null,a(i.colon)):(t||(n.cases.push(t=s()),t.consequent=[],t.test=null),t.consequent.push(k()));return t&&u(t,"SwitchCase"),tt(),e(i.braceR),u(n,"SwitchStatement");case i._throw:return f(),n.argument=p(),y(),u(n,"ThrowStatement");case i._try:return(f(),n.block=ut(),n.handler=null,r.type===i._catch&&(h=s(),f(),a(i.parenL),h.param=et(ft()),a(i.parenR),h.guard=null,h.body=ut(),n.handler=u(h,"CatchClause")),n.finalizer=e(i._finally)?ut():null,!n.handler&&!n.finalizer)?n.block:u(n,"TryStatement");case i._var:case i._let:case i._const:return bi();case i._while:return f(),n.test=vt(),n.body=k(),u(n,"WhileStatement");case i._with:return f(),n.object=vt(),n.body=k(),u(n,"WithStatement");case i.braceL:return ut();case i.semi:return f(),u(n,"EmptyStatement");case i._class:return oi(!0,!0);case i._import:return vr();case i._export:return ar();default:return v=p(),at(v)?(f(),r.type===i.eof)?u(n,"EmptyStatement"):k():w===i.name&&v.type==="Identifier"&&e(i.colon)?(n.body=k(),n.label=v,u(n,"LabeledStatement")):(n.expression=v,y(),u(n,"ExpressionStatement"))}}function ut(){var n=s(),t,r;for(g(),a(i.braceL),t=l,r=c,n.body=[];!ht(i.braceR,t,r,!0);)n.body.push(k());return tt(),e(i.braceR),u(n,"BlockStatement")}function fi(n,t){return n.init=t,n.test=n.update=null,e(i.semi)&&r.type!==i.semi&&(n.test=p()),e(i.semi)&&r.type!==i.parenR&&(n.update=p()),tt(),a(i.parenR),n.body=k(),u(n,"ForStatement")}function wi(n,t){var e=r.type===i._in?"ForInStatement":"ForOfStatement";return f(),n.left=t,n.right=p(),tt(),a(i.parenR),n.body=k(),u(n,e)}function bi(n){var h=s(),t;h.kind=r.type.keyword;f();h.declarations=[];do t=s(),t.id=o.ecmaVersion>=6?et(ft()):d(),t.init=e(i.eq)?w(n):null,h.declarations.push(u(t,"VariableDeclarator"));while(e(i.comma));return h.declarations.length||(t=s(),t.id=b(),h.declarations.push(u(t,"VariableDeclarator"))),n||y(),u(h,"VariableDeclaration")}function p(n){var o=nt(),f=w(n),t;if(r.type===i.comma){for(t=v(o),t.expressions=[f];e(i.comma);)t.expressions.push(w(n));return u(t,"SequenceExpression")}return f}function vt(){g();a(i.parenL);var n=p();return tt(),a(i.parenR),n}function w(n){var o=nt(),e=or(n),t;return r.type.isAssign?(t=v(o),t.operator=r.value,t.left=r.type===i.eq?et(e):bt(e),f(),t.right=w(n),u(t,"AssignmentExpression")):e}function or(n){var f=nt(),r=sr(n),t;return e(i.question)?(t=v(f),t.test=r,t.consequent=w(),t.alternate=a(i.colon)?w(n):b(),u(t,"ConditionalExpression")):r}function sr(n){var t=nt(),i=l,r=c;return ei(kt(n),t,-1,n,i,r)}function ei(n,t,e,o,s,h){var y,a,p;return c!=h&&l<s&&lt()?n:(y=r.type.binop,y!=null&&(!o||r.type!==i._in)&&y>e)?(a=v(t),a.left=n,a.operator=r.value,f(),c!=h&&l<s&&lt()?a.right=b():(p=nt(),a.right=ei(kt(o),p,y,o,s,h)),u(a,/&&|\|\|/.test(a.operator)?"LogicalExpression":"BinaryExpression"),ei(a,t,e,o,s,h)):n}function kt(n){var o,h,e,t;if(r.type.prefix)return t=s(),o=r.type.isUpdate,t.operator=r.value,t.prefix=!0,f(),t.argument=kt(n),o&&(t.argument=bt(t.argument)),u(t,o?"UpdateExpression":"UnaryExpression");if(r.type===i.ellipsis)return t=s(),f(),t.argument=kt(n),u(t,"SpreadElement");for(h=nt(),e=hr();r.type.postfix&&!wt();)t=v(h),t.operator=r.value,t.prefix=!1,t.argument=bt(e),f(),e=u(t,"UpdateExpression");return e}function hr(){var n=nt();return ki(ft(),n,!1,l,c)}function ki(n,t,o,s,h){for(var y;;){if(c!=h&&l<=s&&lt())if(r.type==i.dot&&l==s)--s;else return n;if(e(i.dot))y=v(t),y.object=n,y.property=c!=h&&l<=s&&lt()?b():lr()||b(),y.computed=!1,n=u(y,"MemberExpression");else if(r.type==i.bracketL)g(),f(),y=v(t),y.object=n,y.property=p(),y.computed=!0,tt(),a(i.bracketR),n=u(y,"MemberExpression");else if(o||r.type!=i.parenL)if(r.type==i.backQuote)y=v(t),y.tag=n,y.quasi=gi(),n=u(y,"TaggedTemplateExpression");else return n;else g(),y=v(t),y.callee=n,y.arguments=dt(i.parenR),n=u(y,"CallExpression")}}function ft(){var l,c,t,k,n;switch(r.type){case i._this:return n=s(),f(),u(n,"ThisExpression");case i.name:return c=nt(),l=d(),e(i.arrow)?ir(v(c),[l]):l;case i.regexp:return n=s(),t=r.value,n.regex={pattern:t.pattern,flags:t.flags},n.value=t.value,n.raw=h.slice(r.start,r.end),f(),u(n,"Literal");case i.num:case i.string:return n=s(),n.value=r.value,n.raw=h.slice(r.start,r.end),f(),u(n,"Literal");case i._null:case i._true:case i._false:return n=s(),n.value=r.type.atomValue,n.raw=r.type.keyword,f(),u(n,"Literal");case i.parenL:return(c=nt(),f(),t=p(),a(i.parenR),e(i.arrow))?ir(v(c),t.expressions||(at(t)?[]:[t])):(o.preserveParens&&(k=v(c),k.expression=t,t=u(k,"ParenthesizedExpression")),t);case i.bracketL:return n=s(),g(),n.elements=dt(i.bracketR,!0),u(n,"ArrayExpression");case i.braceL:return oi();case i._class:return oi(!0);case i._function:return n=s(),f(),tr(n,!1);case i._new:return cr();case i._yield:return n=s(),f(),y()||wt()?(n.delegate=!1,n.argument=null):(n.delegate=e(i.star),n.argument=w()),u(n,"YieldExpression");case i.backQuote:return gi();default:return b()}}function cr(){var n=s(),e=l,o=c,t;return f(),t=nt(),n.callee=ki(ft(),t,!0,e,o),r.type==i.parenL?(g(),n.arguments=dt(i.parenR)):n.arguments=[],u(n,"NewExpression")}function di(){var n=s();return n.value={raw:h.slice(r.start,r.end),cooked:r.value},f(),n.tail=r.type===i.backQuote,u(n,"TemplateElement")}function gi(){var t=s(),n;for(f(),t.expressions=[],n=di(),t.quasis=[n];!n.tail;)f(),t.expressions.push(p()),a(i.braceR)?n=di():(n=s(),n.value={cooked:"",raw:""},n.tail=!0),t.quasis.push(n);return a(i.backQuote),u(t,"TemplateLiteral")}function oi(n,t){var a=s(),it,ft,h,ut,et,k;for(n?(f(),a.id=r.type===i.name?d():t?b():null,a.superClass=e(i._extends)?p():null,a.body=s(),a.body.body=[]):a.properties=[],g(),it=l+1,ft=c,e(i.braceL),l+1<it&&(it=l,ft=c);!ht(i.braceR,it,ft);)if(!n||!y()){if(h=s(),o.ecmaVersion>=6&&(n?h["static"]=!1:(et=nt(),h.method=!1,h.shorthand=!1),ut=e(i.star)),si(h),at(h.key)){at(w())&&f();e(i.comma);continue}n&&(h.key.type!=="Identifier"||h.computed||h.key.name!=="static"||r.type==i.parenL||r.type==i.braceL?h["static"]=!1:(h["static"]=!0,ut=e(i.star),si(h)));!n&&e(i.colon)?(h.kind="init",h.value=w()):o.ecmaVersion>=6&&(r.type===i.parenL||r.type===i.braceL)?(n?h.kind="":(h.kind="init",h.method=!0),h.value=li(ut)):o.ecmaVersion>=5&&h.key.type==="Identifier"&&!h.computed&&(h.key.name==="get"||h.key.name==="set")&&r.type!=i.comma&&r.type!=i.braceR?(h.kind=h.key.name,si(h),h.value=li(!1)):n?(h.kind="",h.value=li(ut)):(h.kind="init",o.ecmaVersion>=6?e(i.eq)?(k=v(et),k.operator="=",k.left=h.key,k.right=w(),h.value=u(k,"AssignmentExpression")):h.value=h.key:h.value=b(),h.shorthand=!0);n?a.body.body.push(u(h,"MethodDefinition")):(a.properties.push(u(h,"Property")),e(i.comma))}return tt(),e(i.braceR)||(rt=r.start,o.locations&&(ct=r.loc.start)),n?(y(),u(a.body,"ClassBody"),u(a,t?"ClassDeclaration":"ClassExpression")):u(a,"ObjectExpression")}function si(n){if(o.ecmaVersion>=6){if(e(i.bracketL)){n.computed=!0;n.key=p();a(i.bracketR);return}n.computed=!1}var t=r.type===i.num||r.type===i.string?ft():d();n.key=t||b()}function lr(){if(r.type===i.name||r.type.keyword)return d()}function d(){var n=s();return n.name=r.type===i.name?r.value:r.type.keyword,f(),u(n,"Identifier")}function hi(n){n.id=null;n.params=[];o.ecmaVersion>=6&&(n.generator=!1,n.expression=!1)}function et(n){var i,t;if(o.ecmaVersion>=6&&n)switch(n.type){case"ObjectExpression":for(n.type="ObjectPattern",i=n.properties,t=0;t<i.length;t++)et(i[t].value);break;case"ArrayExpression":n.type="ArrayPattern";ci(n.elements);break;case"SpreadElement":n.type="RestElement";n.argument=et(n.argument);break;case"AssignmentExpression":n.type="AssignmentPattern"}return bt(n)}function ci(n){for(var t=0;t<n.length;t++)et(n[t]);return n}function nr(n){return g(),n=dt(i.parenR),ci(n)}function tr(n,t){return hi(n),o.ecmaVersion>=6&&(n.generator=e(i.star)),r.type===i.name?n.id=d():t&&(n.id=b()),n.params=nr(),n.body=ut(),u(n,t?"FunctionDeclaration":"FunctionExpression")}function li(n){var t=s();return hi(t),t.params=nr(),t.generator=n||!1,t.expression=o.ecmaVersion>=6&&r.type!==i.braceL,t.body=t.expression?w():ut(),u(t,"FunctionExpression")}function ir(n,t){return hi(n),n.params=ci(t),n.expression=r.type!==i.braceL,n.body=n.expression?w():ut(),u(n,"ArrowFunctionExpression")}function ar(){var n=s(),t;if(f(),n["default"]=e(i._default),n.specifiers=n.source=null,n["default"]){if(t=w(),t.id)switch(t.type){case"FunctionExpression":t.type="FunctionDeclaration";break;case"ClassExpression":t.type="ClassDeclaration"}n.declaration=t;y()}else r.type.keyword?n.declaration=k():(n.declaration=null,rr(n,"Export"));return y(),u(n,"ExportDeclaration")}function vr(){var n=s(),t,h,o;if(f(),r.type===i.string)n.specifiers=[],n.source=ft(),n.kind="";else{for(r.type===i.name&&r.value!=="from"&&(t=s(),t.id=d(),t.name=null,t["default"]=!0,u(t,"ImportSpecifier"),e(i.comma)),rr(n,"Import"),h=n.specifiers,o=0;o<h.length;o++)h[o]["default"]=!1;t&&n.specifiers.unshift(t)}return y(),u(n,"ImportDeclaration")}function rr(n,t){var a=n.specifiers=[],o;if(r.type===i.star)o=s(),f(),pt("as")&&(o.name=d()),a.push(u(o,t+"BatchSpecifier"));else{var v=l,y=c,h=it;for(g(),e(i.braceL),c>h&&(h=c);!ht(i.braceR,v+(c<=h?1:0),y);){if(o=s(),e(i.star))pt("as")&&(o.name=d()),u(o,t+"BatchSpecifier");else{if(ui("from"))break;o.id=d();o.name=pt("as")?d():null;u(o,t+"Specifier")}a.push(o);e(i.comma)}e(i.braceR);tt()}n.source=pt("from")?ft():null}function dt(n,t){var h=l,a=c,u=[],s;for(f();!ht(n,h+1,a);){if(e(i.comma)){u.push(t?null:b());continue}if(s=w(),at(s)){if(ht(n,h,a))break;f()}else u.push(s);e(i.comma)}return tt(),e(n)||(rt=r.start,o.locations&&(ct=r.loc.start)),u}var i=t.tokTypes,o,h,ot,gt,rt,r,st,c,it,l,ct,ni,yi;t.defaultOptions.tabSize=4;n.parse_dammit=function(n,i){return i||(i={}),h=String(n),ot=t.tokenize(h,i),o=ot.options,ni=o.sourceFile||null,gt=[],it=0,st.length=0,f(),er()};r={start:0,end:0};st=[];yi=/[\n\r\u2028\u2029]/;yt.prototype=t.Node.prototype});