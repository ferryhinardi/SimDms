var Showdown={extensions:{}},forEach=Showdown.forEach=function(n,t){if(typeof n.forEach=="function")n.forEach(t);else for(var r=n.length,i=0;i<r;i++)t(n[i],i,n)},stdExtName=function(n){return n.replace(/[_-]||\s/g,"").toLowerCase()};Showdown.converter=function(n){var i,r,o,s=0,k=[],h=[],c,d,g;typeof module!="undefined"&&typeof exports!="undefined"&&typeof require!="undefined"&&(c=require("fs"),c&&(d=c.readdirSync((__dirname||".")+"/extensions").filter(function(n){return~n.indexOf(".js")}).map(function(n){return n.replace(/\.js$/,"")}),Showdown.forEach(d,function(n){var t=stdExtName(n);Showdown.extensions[t]=require("./extensions/"+n)})));this.makeHtml=function(n){return i={},r={},o=[],n=n.replace(/~/g,"~T"),n=n.replace(/\$/g,"~D"),n=n.replace(/\r\n/g,"\n"),n=n.replace(/\r/g,"\n"),n="\n\n"+n+"\n\n",n=w(n),n=n.replace(/^[ \t]+$/mg,""),Showdown.forEach(k,function(t){n=nt(t,n)}),n=at(n),n=tt(n),n=et(n),n=l(n),n=ft(n),n=n.replace(/~D/g,"$$"),n=n.replace(/~T/g,"~"),Showdown.forEach(h,function(t){n=nt(t,n)}),n};n&&n.extensions&&(g=this,Showdown.forEach(n.extensions,function(n){if(typeof n=="string"&&(n=Showdown.extensions[stdExtName(n)]),typeof n=="function")Showdown.forEach(n(g),function(n){n.type?n.type==="language"||n.type==="lang"?k.push(n):(n.type==="output"||n.type==="html")&&h.push(n):h.push(n)});else throw"Extension '"+n+"' could not be loaded.  It was either not found or is not a valid extension.";}));var nt=function(n,t){if(n.regex){var i=new RegExp(n.regex,"g");return t.replace(i,n.replace)}if(n.filter)return n.filter(t)},et=function(n){return n+="~0",n=n.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|(?=~0))/gm,function(n,t,u,f,e){return(t=t.toLowerCase(),i[t]=ut(u),f)?f+e:(e&&(r[t]=e.replace(/"/g,"&quot;")),"")}),n.replace(/~0/,"")},tt=function(n){n=n.replace(/\n/g,"\n\n");return n=n.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,f),n=n.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|style|section|header|footer|nav|article|aside)\b[^\r]*?<\/\2>[ \t]*(?=\n+)\n)/gm,f),n=n.replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,f),n=n.replace(/(\n\n[ ]{0,3}<!(--[^\r]*?--\s*)+>[ \t]*(?=\n{2,}))/g,f),n=n.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,f),n.replace(/\n\n/g,"\n")},f=function(n,t){var i=t;return i=i.replace(/\n\n/g,"\n"),i=i.replace(/^\n/,""),i=i.replace(/\n+$/g,""),"\n\n~K"+(o.push(i)-1)+"K\n\n"},l=function(n){n=ct(n);var i=t("<hr />");return n=n.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,i),n=n.replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,i),n=n.replace(/^[ ]{0,2}([ ]?\_[ ]?){3,}[ \t]*$/gm,i),n=rt(n),n=lt(n),n=pt(n),n=tt(n),wt(n)},e=function(n){return n=vt(n),n=ot(n),n=bt(n),n=ht(n),n=st(n),n=kt(n),n=ut(n),n=yt(n),n.replace(/  +\n/g," <br />\n")},ot=function(n){return n.replace(/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi,function(n){var t=n.replace(/(.)<\/?code>(?=.)/g,"$1`");return u(t,"\\`*_")})},st=function(n){return n=n.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,a),n=n.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?(.*?(?:\(.*?\).*?)?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,a),n.replace(/(\[([^\[\]]+)\])()()()()()/g,a)},a=function(n,t,f,e,o,s,h,c){var y;c==undefined&&(c="");var p=t,w=f,l=e.toLowerCase(),a=o,v=c;if(a=="")if(l==""&&(l=w.toLowerCase().replace(/ ?\n/g," ")),a="#"+l,i[l]!=undefined)a=i[l],r[l]!=undefined&&(v=r[l]);else if(p.search(/\(\s*\)$/m)>-1)a="";else return p;return a=u(a,"*_"),y='<a href="'+a+'"',v!=""&&(v=v.replace(/"/g,"&quot;"),v=u(v,"*_"),y+=' title="'+v+'"'),y+(">"+w+"<\/a>")},ht=function(n){return n=n.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,it),n.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,it)},it=function(n,t,f,e,o,s,h,c){var w=t,y=f,a=e.toLowerCase(),v=o,l=c,p;if(l||(l=""),v=="")if(a==""&&(a=y.toLowerCase().replace(/ ?\n/g," ")),v="#"+a,i[a]!=undefined)v=i[a],r[a]!=undefined&&(l=r[a]);else return w;return y=y.replace(/"/g,"&quot;"),v=u(v,"*_"),p='<img src="'+v+'" alt="'+y+'"',l=l.replace(/"/g,"&quot;"),l=u(l,"*_"),p+=' title="'+l+'"',p+" />"},ct=function(n){function i(n){return n.replace(/[^\w]/g,"").toLowerCase()}return n=n.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(n,r){return t('<h1 id="'+i(r)+'">'+e(r)+"<\/h1>")}),n=n.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(n,r){return t('<h2 id="'+i(r)+'">'+e(r)+"<\/h2>")}),n.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(n,r,u){var f=r.length;return t("<h"+f+' id="'+i(u)+'">'+e(u)+"<\/h"+f+">")})},v,rt=function(n){n+="~0";var t=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return s?n=n.replace(t,function(n,t,i){var u=t,f=i.search(/[*+-]/g)>-1?"ul":"ol",r;return u=u.replace(/\n{2,}/g,"\n\n\n"),r=v(u),r=r.replace(/\s+$/,""),"<"+f+">"+r+"<\/"+f+">\n"}):(t=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,n=n.replace(t,function(n,t,i,r){var e=t,u=i,f=r.search(/[*+-]/g)>-1?"ul":"ol",u=u.replace(/\n{2,}/g,"\n\n\n"),o=v(u);return e+"<"+f+">\n"+o+"<\/"+f+">\n"})),n.replace(/~0/,"")};v=function(n){return s++,n=n.replace(/\n{2,}$/,"\n"),n+="~0",n=n.replace(/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+([^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm,function(n,t,i,r,u){var f=u,o=t,s=i;return o||f.search(/\n{2,}/)>-1?f=l(p(f)):(f=rt(p(f)),f=f.replace(/\n$/,""),f=e(f)),"<li>"+f+"<\/li>\n"}),n=n.replace(/~0/g,""),s--,n};var lt=function(n){return n+="~0",n=n.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(n,i,r){var u=i,f=r;return u=y(p(u)),u=w(u),u=u.replace(/^\n+/g,""),u=u.replace(/\n+$/g,""),u="<pre><code>"+u+"\n<\/code><\/pre>",t(u)+f}),n.replace(/~0/,"")},at=function(n){return n+="~0",n=n.replace(/(?:^|\n)```(.*)\n([\s\S]*?)\n```/g,function(n,i,r){var f=i,u=r;return u=y(u),u=w(u),u=u.replace(/^\n+/g,""),u=u.replace(/\n+$/g,""),u="<pre><code"+(f?' class="'+f+'"':"")+">"+u+"\n<\/code><\/pre>",t(u)}),n.replace(/~0/,"")},t=function(n){return n=n.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(o.push(n)-1)+"K\n\n"},vt=function(n){return n.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(n,t,i,r){var u=r;return u=u.replace(/^([ \t]*)/g,""),u=u.replace(/[ \t]*$/g,""),u=y(u),t+"<code>"+u+"<\/code>"})},y=function(n){return n=n.replace(/&/g,"&amp;"),n=n.replace(/</g,"&lt;"),n=n.replace(/>/g,"&gt;"),u(n,"*_{}[]\\",!1)},yt=function(n){return n=n.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2<\/strong>"),n.replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2<\/em>")},pt=function(n){return n.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(n,i){var r=i;return r=r.replace(/^[ \t]*>[ \t]?/gm,"~0"),r=r.replace(/~0/g,""),r=r.replace(/^[ \t]+$/gm,""),r=l(r),r=r.replace(/(^|\n)/g,"$1  "),r=r.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(n,t){var i=t;return i=i.replace(/^  /mg,"~0"),i.replace(/~0/g,"")}),t("<blockquote>\n"+r+"\n<\/blockquote>")})},wt=function(n){var i,t,u;n=n.replace(/^\n+/g,"");n=n.replace(/\n+$/g,"");var s=n.split(/\n{2,}/g),r=[],f=s.length;for(t=0;t<f;t++)i=s[t],i.search(/~K(\d+)K/g)>=0?r.push(i):i.search(/\S/)>=0&&(i=e(i),i=i.replace(/^([ \t]*)/g,"<p>"),i+="<\/p>",r.push(i));for(f=r.length,t=0;t<f;t++)while(r[t].search(/~K(\d+)K/)>=0)u=o[RegExp.$1],u=u.replace(/\$/g,"$$$$"),r[t]=r[t].replace(/~K\d+K/,u);return r.join("\n\n")},ut=function(n){return n=n.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),n.replace(/<(?![a-z\/?\$!])/gi,"&lt;")},bt=function(n){return n=n.replace(/\\(\\)/g,b),n.replace(/\\([`*_{}\[\]()>#+-.!])/g,b)},kt=function(n){return n=n.replace(/<((https?|ftp|dict):[^'">\s]+)>/gi,'<a href="$1">$1<\/a>'),n.replace(/<(?:mailto:)?([-.\w]+\@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,function(n,t){return dt(ft(t))})},dt=function(n){var t=[function(n){return"&#"+n.charCodeAt(0)+";"},function(n){return"&#x"+n.charCodeAt(0).toString(16)+";"},function(n){return n}];return n="mailto:"+n,n=n.replace(/./g,function(n){if(n=="@")n=t[Math.floor(Math.random()*2)](n);else if(n!=":"){var i=Math.random();n=i>.9?t[2](n):i>.45?t[1](n):t[0](n)}return n}),n='<a href="'+n+'">'+n+"<\/a>",n.replace(/">.+:/g,'">')},ft=function(n){return n.replace(/~E(\d+)E/g,function(n,t){var i=parseInt(t);return String.fromCharCode(i)})},p=function(n){return n=n.replace(/^(\t|[ ]{1,4})/gm,"~0"),n.replace(/~0/g,"")},w=function(n){return n=n.replace(/\t(?=\t)/g,"    "),n=n.replace(/\t/g,"~A~B"),n=n.replace(/~B(.+?)~A/g,function(n,t){for(var i=t,u=4-i.length%4,r=0;r<u;r++)i+=" ";return i}),n=n.replace(/~A/g,"    "),n.replace(/~B/g,"")},u=function(n,t,i){var r="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])",u;return i&&(r="\\\\"+r),u=new RegExp(r,"g"),n.replace(u,b)},b=function(n,t){var i=t.charCodeAt(0);return"~E"+i+"E"}};typeof module!="undefined"&&(module.exports=Showdown);typeof define=="function"&&define.amd&&define("showdown",function(){return Showdown});typeof angular!="undefined"&&typeof Showdown!="undefined"&&function(n,t){function i(){function i(){var i=new t.converter(n);this.makeHtml=function(n){return i.makeHtml(n)};this.stripHtml=function(n){return String(n).replace(/<[^>]+>/gm,"")}}var n={extensions:[],stripHtml:!0};this.setOption=function(t,i){return n.key=i,this};this.getOption=function(t){return n.hasOwnProperty(t)?n.key:null};this.loadExtension=function(t){return n.extensions.push(t),this};this.$get=function(){return new i}}function r(n){var t=function(t,i){t.$watch("model",function(t){var r;r=typeof t=="string"?n.makeHtml(t):typeof t;i.html(r)})};return{restrict:"A",link:t,scope:{model:"=sdModelToHtml"}}}function u(){return function(n){return String(n).replace(/<[^>]+>/gm,"")}}n.provider("$Showdown",i).directive("sdModelToHtml",["$Showdown",r]).filter("sdStripHtml",u)}(angular.module("Showdown",[]),Showdown);