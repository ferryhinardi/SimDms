(function(){var n=window.nv||{};if(window.nv=n,n.dev=!1,n.tooltip=n.tooltip||{},n.utils=n.utils||{},n.models=n.models||{},n.charts={},n.graphs=[],n.logs={},n.dispatch=d3.dispatch("render_start","render_end"),Function.prototype.bind||(Function.prototype.bind=function(n){if(typeof this!="function")throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var r=Array.prototype.slice.call(arguments,1),u=this,t=function(){},i=function(){return u.apply(this instanceof t&&n?this:n,r.concat(Array.prototype.slice.call(arguments)))};return t.prototype=this.prototype,i.prototype=new t,i}),n.dev){n.dispatch.on("render_start",function(){n.logs.startTime=+new Date});n.dispatch.on("render_end",function(){n.logs.endTime=+new Date;n.logs.totalTime=n.logs.endTime-n.logs.startTime;n.log("total",n.logs.totalTime)})}n.log=function(){if(n.dev&&window.console&&console.log&&console.log.apply)console.log.apply(console,arguments);else if(n.dev&&window.console&&typeof console.log=="function"&&Function.prototype.bind){var t=Function.prototype.bind.call(console.log,console);t.apply(console,arguments)}return arguments[arguments.length-1]};n.deprecated=function(t){n.dev&&console&&console.warn&&console.warn("`"+t+"` has been deprecated.")};n.render=function(t){t=t||1;n.render.active=!0;n.dispatch.render_start();setTimeout(function(){for(var u,i,r=0;r<t&&(i=n.render.queue[r]);r++)u=i.generate(),typeof i.callback==typeof Function&&i.callback(u),n.graphs.push(u);n.render.queue.splice(0,r);n.render.queue.length?setTimeout(arguments.callee,0):(n.dispatch.render_end(),n.render.active=!1)},0)};n.render.active=!1;n.render.queue=[];n.addGraph=function(t){typeof arguments[0]==typeof Function&&(t={generate:arguments[0],callback:arguments[1]});n.render.queue.push(t);n.render.active||n.render()};n.interactiveGuideline=function(){"use strict";function t(l){l.each(function(l){function a(){var e=d3.mouse(this),n=e[0],u=e[1],s=!0,l=!1,f;if(c&&(n=d3.event.offsetX,u=d3.event.offsetY,d3.event.target.tagName!=="svg"&&(s=!1),d3.event.target.className.baseVal.match("nv-legend")&&(l=!0)),s&&(n-=i.left,u-=i.top),n<0||u<0||n>w||u>v||d3.event.relatedTarget&&d3.event.relatedTarget.ownerSVGElement===undefined||l){if(c&&d3.event.relatedTarget&&d3.event.relatedTarget.ownerSVGElement===undefined&&d3.event.relatedTarget.className.match(h.nvPointerEventsClass))return;r.elementMouseout({mouseX:n,mouseY:u});t.renderGuideLine(null);return}f=o.invert(n);r.elementMousemove({mouseX:n,mouseY:u,pointXValue:f});d3.event.type==="dblclick"&&r.elementDblclick({mouseX:n,mouseY:u,pointXValue:f});d3.event.type==="click"&&r.elementClick({mouseX:n,mouseY:u,pointXValue:f})}var p=d3.select(this),w=f||960,v=e||400,y=p.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([l]),b=y.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer");if(b.append("g").attr("class","nv-interactiveGuideLine"),u){u.on("mousemove",a,!0).on("mouseout",a,!0).on("dblclick",a).on("click",a);t.renderGuideLine=function(t){if(s){var i=y.select(".nv-interactiveGuideLine").selectAll("line").data(t!=null?[n.utils.NaNtoZero(t)]:[],String);i.enter().append("line").attr("class","nv-guideline").attr("x1",function(n){return n}).attr("x2",function(n){return n}).attr("y1",v).attr("y2",0);i.exit().remove()}}}})}var h=n.models.tooltip(),f=null,e=null,i={left:0,top:0},o=d3.scale.linear(),l=d3.scale.linear(),r=d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick"),s=!0,u=null,c="ActiveXObject"in window;return t.dispatch=r,t.tooltip=h,t.margin=function(n){return arguments.length?(i.top=typeof n.top!="undefined"?n.top:i.top,i.left=typeof n.left!="undefined"?n.left:i.left,t):i},t.width=function(n){return arguments.length?(f=n,t):f},t.height=function(n){return arguments.length?(e=n,t):e},t.xScale=function(n){return arguments.length?(o=n,t):o},t.showGuideLine=function(n){return arguments.length?(s=n,t):s},t.svgContainer=function(n){return arguments.length?(u=n,t):u},t};n.interactiveBisect=function(n,t,i){"use strict";var u,e;if(!(n instanceof Array))return null;typeof i!="function"&&(i=function(n){return n.x});var o=d3.bisector(i).left,r=d3.max([0,o(n,t)-1]),f=i(n[r],r);return(typeof f=="undefined"&&(f=r),f===t)?r:(u=d3.min([r+1,n.length-1]),e=i(n[u],u),typeof e=="undefined"&&(e=u),Math.abs(e-t)>=Math.abs(f-t)?r:u)};n.nearestValueIndex=function(n,t,i){"use strict";var r=Infinity,u=null;return n.forEach(function(n,f){var e=Math.abs(t-n);e<=r&&e<i&&(r=e,u=f)}),u},function(){"use strict";window.nv.tooltip={};window.nv.models.tooltip=function(){function d(){var n,t,u;i&&(n=d3.select(i),n.node().tagName!=="svg"&&(n=n.select("svg")),t=n.node()?n.attr("viewBox"):null,t&&(t=t.split(" "),u=parseInt(n.style("width"))/t[2],r.left=r.left*u,r.top=r.top*u))}function g(n){var r,t;return r=i?d3.select(i):d3.select("body"),t=r.select(".nvtooltip"),t.node()===null&&(t=r.append("div").attr("class","nvtooltip "+(s?s:"xy-tooltip")).attr("id",b)),t.node().innerHTML=n,t.style("top",0).style("left",0).style("opacity",0),t.selectAll("div, table, td, tr").classed(a,!0),t.classed(a,!0),t.node()}function t(){var it;if(l&&k(e)){d();var y=r.left,s=o!=null?o:r.top,b=g(p(e));if(w=b,i){var a=i.getElementsByTagName("svg")[0],rt=a?a.getBoundingClientRect():i.getBoundingClientRect(),v={left:0,top:0};if(a){var nt=a.getBoundingClientRect(),tt=i.getBoundingClientRect(),f=nt.top;f<0&&(it=i.getBoundingClientRect(),f=Math.abs(f)>it.height?0:f);v.top=Math.abs(f-tt.top);v.left=Math.abs(nt.left-tt.left)}y+=i.offsetLeft+v.left-2*i.scrollLeft;s+=i.offsetTop+v.top-2*i.scrollTop}return u&&u>0&&(s=Math.floor(s/u)*u),n.tooltip.calcTooltipPosition([y,s],h,c,b),t}}var f=null,e=null,h="w",c=50,u=25,o=null,s=null,i=null,w=null,r={left:null,top:null},l=!0,b="nvtooltip-"+Math.floor(Math.random()*1e5),a="nv-pointer-events-none",v=function(n){return n},y=function(n){return n},p=function(n){var i,u,e,t,r;return f!=null?f:n==null?"":(i=d3.select(document.createElement("table")),u=i.selectAll("thead").data([n]).enter().append("thead"),u.append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(y(n.value)),e=i.selectAll("tbody").data([n]).enter().append("tbody"),t=e.selectAll("tr").data(function(n){return n.series}).enter().append("tr").classed("highlight",function(n){return n.highlight}),t.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(n){return n.color}),t.append("td").classed("key",!0).html(function(n){return n.key}),t.append("td").classed("value",!0).html(function(n,t){return v(n.value,t)}),t.selectAll("td").each(function(n){if(n.highlight){var t=d3.scale.linear().domain([0,1]).range(["#fff",n.color]),i=.6;d3.select(this).style("border-bottom-color",t(i)).style("border-top-color",t(i))}}),r=i.node().outerHTML,n.footer!==undefined&&(r+="<div class='footer'>"+n.footer+"<\/div>"),r)},k=function(n){return n&&n.series&&n.series.length>0?!0:!1};return t.nvPointerEventsClass=a,t.content=function(n){return arguments.length?(f=n,t):f},t.tooltipElem=function(){return w},t.contentGenerator=function(n){return arguments.length?(typeof n=="function"&&(p=n),t):p},t.data=function(n){return arguments.length?(e=n,t):e},t.gravity=function(n){return arguments.length?(h=n,t):h},t.distance=function(n){return arguments.length?(c=n,t):c},t.snapDistance=function(n){return arguments.length?(u=n,t):u},t.classes=function(n){return arguments.length?(s=n,t):s},t.chartContainer=function(n){return arguments.length?(i=n,t):i},t.position=function(n){return arguments.length?(r.left=typeof n.left!="undefined"?n.left:r.left,r.top=typeof n.top!="undefined"?n.top:r.top,t):r},t.fixedTop=function(n){return arguments.length?(o=n,t):o},t.enabled=function(n){return arguments.length?(l=n,t):l},t.valueFormatter=function(n){return arguments.length?(typeof n=="function"&&(v=n),t):v},t.headerFormatter=function(n){return arguments.length?(typeof n=="function"&&(y=n),t):y},t.id=function(){return b},t};n.tooltip.show=function(t,i,r,u,f,e){var o=document.createElement("div"),s;o.className="nvtooltip "+(e?e:"xy-tooltip");s=f;(!f||f.tagName.match(/g|svg/i))&&(s=document.getElementsByTagName("body")[0]);o.style.left=0;o.style.top=0;o.style.opacity=0;typeof i!="string"?o.appendChild(i):o.innerHTML=i;s.appendChild(o);f&&(t[0]=t[0]-f.scrollLeft,t[1]=t[1]-f.scrollTop);n.tooltip.calcTooltipPosition(t,r,u,o)};n.tooltip.findFirstNonSVGParent=function(n){while(n.tagName.match(/^g|svg$/i)!==null)n=n.parentNode;return n};n.tooltip.findTotalOffsetTop=function(n,t){var i=t;do isNaN(n.offsetTop)||(i+=n.offsetTop);while(n=n.offsetParent);return i};n.tooltip.findTotalOffsetLeft=function(n,t){var i=t;do isNaN(n.offsetLeft)||(i+=n.offsetLeft);while(n=n.offsetParent);return i};n.tooltip.calcTooltipPosition=function(t,i,r,u){var c=parseInt(u.offsetHeight),l=parseInt(u.offsetWidth),y=n.utils.windowSize().width,a=n.utils.windowSize().height,s=window.pageYOffset,v=window.pageXOffset,e,f,p,w,h,o;a=window.innerWidth>=document.body.scrollWidth?a:a-16;y=window.innerHeight>=document.body.scrollHeight?y:y-16;i=i||"s";r=r||20;p=function(t){return n.tooltip.findTotalOffsetTop(t,f)};w=function(t){return n.tooltip.findTotalOffsetLeft(t,e)};switch(i){case"e":e=t[0]-l-r;f=t[1]-c/2;h=w(u);o=p(u);h<v&&(e=t[0]+r>v?t[0]+r:v-h+e);o<s&&(f=s-o+f);o+c>s+a&&(f=s+a-o+f-c);break;case"w":e=t[0]+r;f=t[1]-c/2;h=w(u);o=p(u);h+l>y&&(e=t[0]-l-r);o<s&&(f=s+5);o+c>s+a&&(f=s+a-o+f-c);break;case"n":e=t[0]-l/2-5;f=t[1]+r;h=w(u);o=p(u);h<v&&(e=v+5);h+l>y&&(e=e-l/2+5);o+c>s+a&&(f=s+a-o+f-c);break;case"s":e=t[0]-l/2;f=t[1]-c-r;h=w(u);o=p(u);h<v&&(e=v+5);h+l>y&&(e=e-l/2+5);s>o&&(f=s);break;case"none":e=t[0];f=t[1]-r;h=w(u);o=p(u)}return u.style.left=e+"px",u.style.top=f+"px",u.style.opacity=1,u.style.position="absolute",u};n.tooltip.cleanup=function(){for(var n=document.getElementsByClassName("nvtooltip"),t=[];n.length;)t.push(n[0]),n[0].style.transitionDelay="0 !important",n[0].style.opacity=0,n[0].className="nvtooltip-pending-removal";setTimeout(function(){while(t.length){var n=t.pop();n.parentNode.removeChild(n)}},500)}}();n.utils.windowSize=function(){var n={width:640,height:480};return document.body&&document.body.offsetWidth&&(n.width=document.body.offsetWidth,n.height=document.body.offsetHeight),document.compatMode=="CSS1Compat"&&document.documentElement&&document.documentElement.offsetWidth&&(n.width=document.documentElement.offsetWidth,n.height=document.documentElement.offsetHeight),window.innerWidth&&window.innerHeight&&(n.width=window.innerWidth,n.height=window.innerHeight),n};n.utils.windowResize=function(t){return window.addEventListener?window.addEventListener("resize",t):n.log("ERROR: Failed to bind to window.resize with: ",t),{callback:t,clear:function(){window.removeEventListener("resize",t)}}};n.utils.getColor=function(t){return arguments.length?t instanceof Array?function(n,i){return n.color||t[i%t.length]}:t:n.utils.defaultColor()};n.utils.defaultColor=function(){var n=d3.scale.category20().range();return function(t,i){return t.color||n[i%n.length]}};n.utils.customTheme=function(n,t,i){t=t||function(n){return n.key};i=i||d3.scale.category20().range();var r=i.length;return function(u){var f=t(u);return typeof n[f]=="function"?n[f]():n[f]!==undefined?n[f]:(r||(r=i.length),r=r-1,i[r])}};n.utils.pjax=function(t,i){var r=function(r){d3.html(r,function(r){var u=d3.select(i).node();u.parentNode.replaceChild(d3.select(r).select(i).node(),u);n.utils.pjax(t,i)})};d3.selectAll(t).on("click",function(){history.pushState(this.href,this.textContent,this.href);r(this.href);d3.event.preventDefault()});d3.select(window).on("popstate",function(){d3.event.state&&r(d3.event.state)})};n.utils.calcApproxTextWidth=function(n){if(typeof n.style=="function"&&typeof n.text=="function"){var t=parseInt(n.style("font-size").replace("px","")),i=n.text().length;return i*t*.5}return 0};n.utils.NaNtoZero=function(n){return typeof n!="number"||isNaN(n)||n===null||n===Infinity||n===-Infinity?0:n};d3.selection.prototype.watchTransition=function(n){var t=[this].concat([].slice.call(arguments,1));return n.transition.apply(n,t)};n.utils.renderWatch=function(t,i){if(!(this instanceof n.utils.renderWatch))return new n.utils.renderWatch(t,i);var u=i!==undefined?i:250,r=[],f=this;this.models=function(n){return n=[].slice.call(arguments,0),n.forEach(function(n){n.__rendered=!1,function(n){n.dispatch.on("renderEnd",function(){n.__rendered=!0;f.renderEnd("model")})}(n);r.indexOf(n)<0&&r.push(n)}),this};this.reset=function(n){n!==undefined&&(u=n);r=[]};this.transition=function(n,t,i){if(t=arguments.length>1?[].slice.call(arguments,1):[],i=t.length>1?t.pop():u!==undefined?u:250,n.__rendered=!1,r.indexOf(n)<0&&r.push(n),i===0)return n.__rendered=!0,n.delay=function(){return this},n.duration=function(){return this},n;n.__rendered=n.length===0?!0:n.every(function(n){return!n.length})?!0:!1;var e=0;return n.transition().duration(i).each(function(){++e}).each("end",function(){--e==0&&(n.__rendered=!0,f.renderEnd.apply(this,t))})};this.renderEnd=function(){r.every(function(n){return n.__rendered})&&(r.forEach(function(n){n.__rendered=!1}),t.renderEnd.apply(this,arguments))}};n.utils.deepExtend=function(t){var i=arguments.length>1?[].slice.call(arguments,1):[];i.forEach(function(i){for(key in i){var r=t[key]instanceof Array,u=typeof t[key]=="object",f=typeof i[key]=="object";u&&!r&&f?n.utils.deepExtend(t[key],i[key]):t[key]=i[key]}})};n.utils.state=function(){var f;if(!(this instanceof n.utils.state))return new n.utils.state;var i={},o=this,r=function(){},u=function(){return{}},t=null,e=null;this.dispatch=d3.dispatch("change","set");this.dispatch.on("set",function(n){r(n,!0)});this.getter=function(n){return u=n,this};this.setter=function(n,t){return t||(t=function(){}),r=function(i,r){n(i);r&&t()},this};this.init=function(i){t=t||{};n.utils.deepExtend(t,i)};f=function(){var t=u(),n;if(JSON.stringify(t)===JSON.stringify(i))return!1;for(n in t)i[n]===undefined&&(i[n]={}),i[n]=t[n],e=!0;return!0};this.update=function(){t&&(r(t,!1),t=null);f.call(this)&&this.dispatch.change(i)}};n.utils.optionsFunc=function(t){return n.deprecated("nv.utils.optionsFunc"),t&&d3.map(t).forEach(function(n,t){typeof this[n]=="function"&&this[n](t)}.bind(this)),this};n.utils.calcTicksX=function(t,i){var r=1,u=0,f;for(u;u<i.length;u+=1)f=i[u]&&i[u].values?i[u].values.length:0,r=f>r?f:r;return n.log("Requested number of ticks: ",t),n.log("Calculated max values to be: ",r),t=t>r?t=r-1:t,t=t<1?1:t,t=Math.floor(t),n.log("Calculating tick count as: ",t),t};n.utils.calcTicksY=function(t,i){return n.utils.calcTicksX(t,i)};n.utils.initOption=function(n,t){n[t]=n._calls&&n._calls[t]?n._calls[t]:function(i){return arguments.length?(n._options[t]=i,n):n._options[t]}};n.utils.initOptions=function(t){var i=Object.getOwnPropertyNames(t._options||{}),u=Object.getOwnPropertyNames(t._calls||{}),r;i=i.concat(u);for(r in i)n.utils.initOption(t,i[r])};n.utils.inheritOptionsD3=function(n,t,i){n._d3options=i.concat(n._d3options||[]);i.unshift(t);i.unshift(n);d3.rebind.apply(this,i)};n.utils.arrayUnique=function(n){return n.sort().filter(function(t,i){return!i||t!=n[i-1]})};n.utils.symbolMap=d3.map();n.utils.symbol=function(){function t(t,u){var f=i.call(this,t,u),e=r.call(this,t,u);return d3.svg.symbolTypes.indexOf(f)!==-1?d3.svg.symbol().type(f).size(e)():n.utils.symbolMap.get(f)(e)}var i,r=64;return t.type=function(n){return arguments.length?(i=d3.functor(n),t):i},t.size=function(n){return arguments.length?(r=d3.functor(n),t):r},t};n.utils.inheritOptions=function(t,i){var r=Object.getOwnPropertyNames(i._options||{}),f=Object.getOwnPropertyNames(i._calls||{}),e=i._inherited||[],o=i._d3options||[],u=r.concat(f).concat(e).concat(o);u.unshift(i);u.unshift(t);d3.rebind.apply(this,u);t._inherited=n.utils.arrayUnique(r.concat(f).concat(e).concat(r).concat(t._inherited||[]));t._d3options=n.utils.arrayUnique(o.concat(t._d3options||[]))};n.utils.initSVG=function(n){n.classed({"nvd3-svg":!0})};n.models.axis=function(){"use strict";function u(v){return o.reset(),v.each(function(u){var et=d3.select(this),g,k,ft,ot,it,v,nt;n.utils.initSVG(et);var d=et.selectAll("g.nv-wrap.nv-axis").data([u]),st=d.enter().append("g").attr("class","nvd3 nv-wrap nv-axis"),ht=st.append("g"),tt=d.select("g");l!==null?i.ticks(l):(i.orient()=="top"||i.orient()=="bottom")&&i.ticks(Math.abs(t.range()[1]-t.range()[0])/100);tt.watchTransition(o,"axis").call(i);h=h||i.scale();g=i.tickFormat();g==null&&(g=h.tickFormat());k=tt.selectAll("text.nv-axislabel").data([y||null]);k.exit().remove();switch(i.orient()){case"top":k.enter().append("text").attr("class","nv-axislabel");it=t.range().length<2?0:t.range().length===2?t.range()[1]:t.range()[t.range().length-1]+(t.range()[1]-t.range()[0]);k.attr("text-anchor","middle").attr("y",0).attr("x",it/2);s&&(v=d.selectAll("g.nv-axisMaxMin").data(t.domain()),v.enter().append("g").attr("class","nv-axisMaxMin").append("text"),v.exit().remove(),v.attr("transform",function(i){return"translate("+n.utils.NaNtoZero(t(i))+",0)"}).select("text").attr("dy","-0.5em").attr("y",-i.tickPadding()).attr("text-anchor","middle").text(function(n){var t=g(n);return(""+t).match("NaN")?"":t}),v.watchTransition(o,"min-max top").attr("transform",function(i,r){return"translate("+n.utils.NaNtoZero(t.range()[r])+",0)"}));break;case"bottom":var ot=a+36,rt=30,ut=tt.selectAll("g").select("text");e%360&&(ut.each(function(){var n=this.getBoundingClientRect().width;n>rt&&(rt=n)}),ft=Math.abs(Math.sin(e*Math.PI/180)),ot=(ft?ft*rt:rt)+30,ut.attr("transform",function(){return"rotate("+e+" 0,0)"}).style("text-anchor",e%360>0?"start":"end"));k.enter().append("text").attr("class","nv-axislabel");it=t.range().length<2?0:t.range().length===2?t.range()[1]:t.range()[t.range().length-1]+(t.range()[1]-t.range()[0]);k.attr("text-anchor","middle").attr("y",ot).attr("x",it/2);s&&(v=d.selectAll("g.nv-axisMaxMin").data([t.domain()[0],t.domain()[t.domain().length-1]]),v.enter().append("g").attr("class","nv-axisMaxMin").append("text"),v.exit().remove(),v.attr("transform",function(i){return"translate("+n.utils.NaNtoZero(t(i)+(b?t.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",i.tickPadding()).attr("transform",function(){return"rotate("+e+" 0,0)"}).style("text-anchor",e?e%360>0?"start":"end":"middle").text(function(n){var t=g(n);return(""+t).match("NaN")?"":t}),v.watchTransition(o,"min-max bottom").attr("transform",function(i){return"translate("+n.utils.NaNtoZero(t(i)+(b?t.rangeBand()/2:0))+",0)"}));w&&ut.attr("transform",function(n,t){return"translate(0,"+(t%2==0?"0":"12")+")"});break;case"right":k.enter().append("text").attr("class","nv-axislabel");k.style("text-anchor",f?"middle":"begin").attr("transform",f?"rotate(90)":"").attr("y",f?-Math.max(r.right,c)+12:-10).attr("x",f?t.range()[0]/2:i.tickPadding());s&&(v=d.selectAll("g.nv-axisMaxMin").data(t.domain()),v.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),v.exit().remove(),v.attr("transform",function(i){return"translate(0,"+n.utils.NaNtoZero(t(i))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",i.tickPadding()).style("text-anchor","start").text(function(n){var t=g(n);return(""+t).match("NaN")?"":t}),v.watchTransition(o,"min-max right").attr("transform",function(i,r){return"translate(0,"+n.utils.NaNtoZero(t.range()[r])+")"}).select("text").style("opacity",1));break;case"left":k.enter().append("text").attr("class","nv-axislabel");k.style("text-anchor",f?"middle":"end").attr("transform",f?"rotate(-90)":"").attr("y",f?-Math.max(r.left,c)+25-(a||0):-10).attr("x",f?-t.range()[0]/2:-i.tickPadding());s&&(v=d.selectAll("g.nv-axisMaxMin").data(t.domain()),v.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),v.exit().remove(),v.attr("transform",function(t){return"translate(0,"+n.utils.NaNtoZero(h(t))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-i.tickPadding()).attr("text-anchor","end").text(function(n){var t=g(n);return(""+t).match("NaN")?"":t}),v.watchTransition(o,"min-max right").attr("transform",function(i,r){return"translate(0,"+n.utils.NaNtoZero(t.range()[r])+")"}).select("text").style("opacity",1))}k.text(function(n){return n});s&&(i.orient()==="left"||i.orient()==="right")&&(tt.selectAll("g").each(function(n){d3.select(this).select("text").attr("opacity",1);(t(n)<t.range()[1]+10||t(n)>t.range()[0]-10)&&((n>1e-10||n<-1e-10)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))}),t.domain()[0]==t.domain()[1]&&t.domain()[0]==0&&d.selectAll("g.nv-axisMaxMin").style("opacity",function(n,t){return t?0:1}));s&&(i.orient()==="top"||i.orient()==="bottom")&&(nt=[],d.selectAll("g.nv-axisMaxMin").each(function(n,i){try{i?nt.push(t(n)-this.getBoundingClientRect().width-4):nt.push(t(n)+this.getBoundingClientRect().width+4)}catch(r){i?nt.push(t(n)-4):nt.push(t(n)+4)}}),tt.selectAll("g").each(function(n){(t(n)<nt[0]||t(n)>nt[1])&&(n>1e-10||n<-1e-10?d3.select(this).remove():d3.select(this).select("text").remove())}));p&&tt.selectAll(".tick").filter(function(){return!parseFloat(Math.round(this.__data__*1e5)/1e6)&&this.__data__!==undefined}).classed("zero",!0);h=t.copy()}),o.renderEnd("axis immediate"),u}var i=d3.svg.axis(),t=d3.scale.linear(),r={top:0,right:0,bottom:0,left:0},c=75,k=60,y=null,s=!0,p=!0,e=0,f=!0,w=!1,b=!1,l=null,a=0,v=250,d=d3.dispatch("renderEnd"),h,o;return i.scale(t).orient("bottom").tickFormat(function(n){return n}),o=n.utils.renderWatch(d,v),u.axis=i,u.dispatch=d,u.options=n.utils.optionsFunc.bind(u),u._options=Object.create({},{axisLabelDistance:{get:function(){return a},set:function(n){a=n}},staggerLabels:{get:function(){return w},set:function(n){w=n}},rotateLabels:{get:function(){return e},set:function(n){e=n}},rotateYLabel:{get:function(){return f},set:function(n){f=n}},highlightZero:{get:function(){return p},set:function(n){p=n}},showMaxMin:{get:function(){return s},set:function(n){s=n}},axisLabel:{get:function(){return y},set:function(n){y=n}},height:{get:function(){return k},set:function(n){k=n}},ticks:{get:function(){return l},set:function(n){l=n}},width:{get:function(){return c},set:function(n){c=n}},margin:{get:function(){return r},set:function(n){r.top=n.top!==undefined?n.top:r.top;r.right=n.right!==undefined?n.right:r.right;r.bottom=n.bottom!==undefined?n.bottom:r.bottom;r.left=n.left!==undefined?n.left:r.left}},duration:{get:function(){return v},set:function(n){v=n;o.reset(v)}},scale:{get:function(){return t},set:function(r){t=r;i.scale(t);b=typeof t.rangeBands=="function";n.utils.inheritOptionsD3(u,t,["domain","range","rangeBand","rangeBands"])}}}),n.utils.initOptions(u),n.utils.inheritOptionsD3(u,i,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]),n.utils.inheritOptionsD3(u,t,["domain","range","rangeBand","rangeBands"]),u};n.models.bullet=function(){"use strict";function r(u){return u.each(function(r,u){var ct=h-t.left-t.right,k=c-t.top-t.bottom,lt=d3.select(this),tt;n.utils.initSVG(lt);var ft=f.call(this,r,u).slice().sort(d3.descending),it=e.call(this,r,u).slice().sort(d3.descending),d=o.call(this,r,u).slice().sort(d3.descending),at=y.call(this,r,u).slice(),vt=p.call(this,r,u).slice(),yt=w.call(this,r,u).slice(),v=d3.scale.linear().domain(d3.extent(d3.merge([s,ft]))).range(a?[ct,0]:[0,ct]),et=this.__chart__||d3.scale.linear().domain([0,Infinity]).range(v.range());this.__chart__=v;var g=d3.min(ft),b=d3.max(ft),ht=ft[1],ot=lt.selectAll("g.nv-wrap.nv-bullet").data([r]),pt=ot.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet"),rt=pt.append("g"),nt=ot.select("g");rt.append("rect").attr("class","nv-range nv-rangeMax");rt.append("rect").attr("class","nv-range nv-rangeAvg");rt.append("rect").attr("class","nv-range nv-rangeMin");rt.append("rect").attr("class","nv-measure");rt.append("path").attr("class","nv-markerTriangle");ot.attr("transform","translate("+t.left+","+t.top+")");var wt=function(n){return Math.abs(et(n)-et(0))},st=function(n){return Math.abs(v(n)-v(0))},bt=function(n){return n<0?et(n):et(0)},ut=function(n){return n<0?v(n):v(0)};nt.select("rect.nv-rangeMax").attr("height",k).attr("width",st(b>0?b:g)).attr("x",ut(b>0?b:g)).datum(b>0?b:g);nt.select("rect.nv-rangeAvg").attr("height",k).attr("width",st(ht)).attr("x",ut(ht)).datum(ht);nt.select("rect.nv-rangeMin").attr("height",k).attr("width",st(b)).attr("x",ut(b)).attr("width",st(b>0?g:b)).attr("x",ut(b>0?g:b)).datum(b>0?g:b);nt.select("rect.nv-measure").style("fill",l).attr("height",k/3).attr("y",k/3).attr("width",d<0?v(0)-v(d[0]):v(d[0])-v(0)).attr("x",ut(d)).on("mouseover",function(){i.elementMouseover({value:d[0],label:yt[0]||"Current",pos:[v(d[0]),k/2]})}).on("mouseout",function(){i.elementMouseout({value:d[0],label:yt[0]||"Current"})});if(tt=k/6,it[0])nt.selectAll("path.nv-markerTriangle").attr("transform",function(){return"translate("+v(it[0])+","+k/2+")"}).attr("d","M0,"+tt+"L"+tt+","+-tt+" "+-tt+","+-tt+"Z").on("mouseover",function(){i.elementMouseover({value:it[0],label:vt[0]||"Previous",pos:[v(it[0]),k/2]})}).on("mouseout",function(){i.elementMouseout({value:it[0],label:vt[0]||"Previous"})});else nt.selectAll("path.nv-markerTriangle").remove();ot.selectAll(".nv-range").on("mouseover",function(n,t){var r=at[t]||(t?t==1?"Mean":"Minimum":"Maximum");i.elementMouseover({value:n,label:r,pos:[v(n),k/2]})}).on("mouseout",function(n,t){var r=at[t]||(t?t==1?"Mean":"Minimum":"Maximum");i.elementMouseout({value:n,label:r})})}),r}var t={top:0,right:0,bottom:0,left:0},u="left",a=!1,f=function(n){return n.ranges},e=function(n){return n.markers?n.markers:[0]},o=function(n){return n.measures},y=function(n){return n.rangeLabels?n.rangeLabels:[]},p=function(n){return n.markerLabels?n.markerLabels:[]},w=function(n){return n.measureLabels?n.measureLabels:[]},s=[0],h=380,c=30,v=null,l=n.utils.getColor(["#1f77b4"]),i=d3.dispatch("elementMouseover","elementMouseout");return r.dispatch=i,r.options=n.utils.optionsFunc.bind(r),r._options=Object.create({},{ranges:{get:function(){return f},set:function(n){f=n}},markers:{get:function(){return e},set:function(n){e=n}},measures:{get:function(){return o},set:function(n){o=n}},forceX:{get:function(){return s},set:function(n){s=n}},width:{get:function(){return h},set:function(n){h=n}},height:{get:function(){return c},set:function(n){c=n}},tickFormat:{get:function(){return v},set:function(n){v=n}},margin:{get:function(){return t},set:function(n){t.top=n.top!==undefined?n.top:t.top;t.right=n.right!==undefined?n.right:t.right;t.bottom=n.bottom!==undefined?n.bottom:t.bottom;t.left=n.left!==undefined?n.left:t.left}},orient:{get:function(){return u},set:function(n){u=n;a=u=="right"||u=="bottom"}},color:{get:function(){return l},set:function(t){l=n.utils.getColor(t)}}}),n.utils.initOptions(r),r};n.models.bulletChart=function(){"use strict";function i(f){return f.each(function(v,b){var nt=d3.select(this),it,k,tt,ht,et;n.utils.initSVG(nt);var g=(l||parseInt(nt.style("width"))||960)-t.left-t.right,d=o-t.top-t.bottom,at=this;if(i.update=function(){i(f)},i.container=this,v&&e.call(this,v,b))nt.selectAll(".nv-noData").remove();else return it=nt.selectAll(".nv-noData").data([y]),it.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),it.attr("x",t.left+g/2).attr("y",18+t.top+d/2).text(function(n){return n}),i;var vt=e.call(this,v,b).slice().sort(d3.descending),yt=h.call(this,v,b).slice().sort(d3.descending),pt=c.call(this,v,b).slice().sort(d3.descending),rt=nt.selectAll("g.nv-wrap.nv-bulletChart").data([v]),wt=rt.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart"),ut=wt.append("g"),ot=rt.select("g");ut.append("g").attr("class","nv-bulletWrap");ut.append("g").attr("class","nv-titles");rt.attr("transform","translate("+t.left+","+t.top+")");k=d3.scale.linear().domain([0,Math.max(vt[0],yt[0],pt[0])]).range(p?[g,0]:[0,g]);tt=this.__chart__||d3.scale.linear().domain([0,Infinity]).range(k.range());this.__chart__=k;var bt=function(n){return Math.abs(tt(n)-tt(0))},kt=function(n){return Math.abs(k(n)-k(0))},st=ut.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(o-t.top-t.bottom)/2+")");st.append("text").attr("class","nv-title").text(function(n){return n.title});st.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(n){return n.subtitle});r.width(g).height(d);ht=ot.select(".nv-bulletWrap");d3.transition(ht).call(r);var ct=a||k.tickFormat(g/100),ft=ot.selectAll("g.nv-tick").data(k.ticks(g/50),function(n){return this.textContent||ct(n)}),lt=ft.enter().append("g").attr("class","nv-tick").attr("transform",function(n){return"translate("+tt(n)+",0)"}).style("opacity",1e-6);lt.append("line").attr("y1",d).attr("y2",d*7/6);lt.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",d*7/6).text(ct);et=d3.transition(ft).attr("transform",function(n){return"translate("+k(n)+",0)"}).style("opacity",1);et.select("line").attr("y1",d).attr("y2",d*7/6);et.select("text").attr("y",d*7/6);d3.transition(ft.exit()).attr("transform",function(n){return"translate("+k(n)+",0)"}).style("opacity",1e-6).remove();u.on("tooltipShow",function(n){n.key=v.title;s&&w(n,at.parentNode)})}),d3.timer.flush(),i}var r=n.models.bullet(),f="left",p=!1,t={top:5,right:40,bottom:20,left:120},e=function(n){return n.ranges},h=function(n){return n.markers?n.markers:[0]},c=function(n){return n.measures},l=null,o=55,a=null,s=!0,v=function(n,t,i){return"<h3>"+t+"<\/h3><p>"+i+"<\/p>"},y="No Data Available.",u=d3.dispatch("tooltipShow","tooltipHide"),w=function(r,u){var f=r.pos[0]+(u.offsetLeft||0)+t.left,e=r.pos[1]+(u.offsetTop||0)+t.top,o=v(r.key,r.label,r.value,r,i);n.tooltip.show([f,e],o,r.value<0?"e":"w",null,u)};r.dispatch.on("elementMouseover.tooltip",function(n){u.tooltipShow(n)});r.dispatch.on("elementMouseout.tooltip",function(n){u.tooltipHide(n)});u.on("tooltipHide",function(){s&&n.tooltip.cleanup()});return i.bullet=r,i.dispatch=u,i.options=n.utils.optionsFunc.bind(i),i._options=Object.create({},{ranges:{get:function(){return e},set:function(n){e=n}},markers:{get:function(){return h},set:function(n){h=n}},measures:{get:function(){return c},set:function(n){c=n}},width:{get:function(){return l},set:function(n){l=n}},height:{get:function(){return o},set:function(n){o=n}},tickFormat:{get:function(){return a},set:function(n){a=n}},tooltips:{get:function(){return s},set:function(n){s=n}},tooltipContent:{get:function(){return v},set:function(n){v=n}},noData:{get:function(){return y},set:function(n){y=n}},margin:{get:function(){return t},set:function(n){t.top=n.top!==undefined?n.top:t.top;t.right=n.right!==undefined?n.right:t.right;t.bottom=n.bottom!==undefined?n.bottom:t.bottom;t.left=n.left!==undefined?n.left:t.left}},orient:{get:function(){return f},set:function(n){f=n;p=f=="right"||f=="bottom"}}}),n.utils.inheritOptions(i,r),n.utils.initOptions(i),i};n.models.cumulativeLineChart=function(){"use strict";function t(g){return p.reset(),p.models(r),it&&p.models(c),rt&&p.models(s),g.each(function(p){function vi(){d3.select(t.container).style("cursor","ew-resize")}function yi(){f.x=d3.event.x;f.i=Math.round(y.invert(f.x));si()}function pi(){d3.select(t.container).style("cursor","auto");u.index=f.i;e.stateChange(u)}function si(){ti.data([f]);var n=t.duration();t.duration(0);t.update();t.duration(n)}var ht=d3.select(this),ni,ci,ri,ui,li,ai,fi,ei,ti;n.utils.initSVG(ht);ht.classed("nv-chart-"+vt,!0);var hi=this,g=(et||parseInt(ht.style("width"))||960)-i.left-i.right,at=(tt||parseInt(ht.style("height"))||400)-i.top-i.bottom;if(t.update=function(){h===0?ht.call(t):ht.transition().duration(h).call(t)},t.container=this,u.setter(wt(p),t.update).getter(pt(p)).update(),u.disabled=p.map(function(n){return!!n.disabled}),!v){v={};for(ni in u)v[ni]=u[ni]instanceof Array?u[ni].slice(0):u[ni]}if(ci=d3.behavior.drag().on("dragstart",vi).on("drag",yi).on("dragend",pi),p&&p.length&&p.filter(function(n){return n.values.length}).length)ht.selectAll(".nv-noData").remove();else return ri=ht.selectAll(".nv-noData").data([lt]),ri.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),ri.attr("x",i.left+g/2).attr("y",i.top+at/2).text(function(n){return n}),t;ct=r.xScale();k=r.yScale();o?r.yDomain(null):(ui=p.filter(function(n){return!n.disabled}).map(function(n){var t=d3.extent(n.values,r.y());return t[0]<-.95&&(t[0]=-.95),[(t[0]-t[1])/(1+t[1]),(t[1]-t[0])/(1+t[0])]}),li=[d3.min(ui,function(n){return n[0]}),d3.max(ui,function(n){return n[1]})],r.yDomain(li));y.domain([0,p[0].values.length-1]).range([0,g]).clamp(!0);var p=bt(f.i,p),wi=ft?"none":"all",gt=ht.selectAll("g.nv-wrap.nv-cumulativeLine").data([p]),dt=gt.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),kt=gt.select("g");dt.append("g").attr("class","nv-interactive");dt.append("g").attr("class","nv-x nv-axis").style("pointer-events","none");dt.append("g").attr("class","nv-y nv-axis");dt.append("g").attr("class","nv-background");dt.append("g").attr("class","nv-linesWrap").style("pointer-events",wi);dt.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none");dt.append("g").attr("class","nv-legendWrap");dt.append("g").attr("class","nv-controlsWrap");ot&&(l.width(g),kt.select(".nv-legendWrap").datum(p).call(l),i.top!=l.height()&&(i.top=l.height(),at=(tt||parseInt(ht.style("height"))||400)-i.top-i.bottom),kt.select(".nv-legendWrap").attr("transform","translate(0,"+-i.top+")"));st&&(ai=[{key:"Re-scale y-axis",disabled:!o}],nt.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),kt.select(".nv-controlsWrap").datum(ai).attr("transform","translate(0,"+-i.top+")").call(nt));gt.attr("transform","translate("+i.left+","+i.top+")");ut&&kt.select(".nv-y.nv-axis").attr("transform","translate("+g+",0)");fi=p.filter(function(n){return n.tempDisabled});gt.select(".tempDisabled").remove();fi.length&&gt.append("text").attr("class","tempDisabled").attr("x",g/2).attr("y","-.71em").style("text-anchor","end").text(fi.map(function(n){return n.key}).join(", ")+" values cannot be calculated for this time period.");ft&&(a.width(g).height(at).margin({left:i.left,top:i.top}).svgContainer(ht).xScale(ct),gt.select(".nv-interactive").call(a));dt.select(".nv-background").append("rect");kt.select(".nv-background rect").attr("width",g).attr("height",at);r.y(function(n){return n.display.y}).width(g).height(at).color(p.map(function(n,t){return n.color||w(n,t)}).filter(function(n,t){return!p[t].disabled&&!p[t].tempDisabled}));ei=kt.select(".nv-linesWrap").datum(p.filter(function(n){return!n.disabled&&!n.tempDisabled}));ei.call(r);p.forEach(function(n,t){n.seriesIndex=t});var bi=p.filter(function(n){return!n.disabled&&!!d(n)}),oi=kt.select(".nv-avgLinesWrap").selectAll("line").data(bi,function(n){return n.key}),ii=function(n){var t=k(d(n));return t<0?0:t>at?at:t};oi.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(n){return r.color()(n,n.seriesIndex)}).attr("x1",0).attr("x2",g).attr("y1",ii).attr("y2",ii);oi.style("stroke-opacity",function(n){var t=k(d(n));return t<0||t>at?0:1}).attr("x1",0).attr("x2",g).attr("y1",ii).attr("y2",ii);oi.exit().remove();ti=ei.selectAll(".nv-indexLine").data([f]);ti.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(ci);ti.attr("transform",function(n){return"translate("+y(n.i)+",0)"}).attr("height",at);it&&(c.scale(ct).ticks(n.utils.calcTicksX(g/70,p)).tickSize(-at,0),kt.select(".nv-x.nv-axis").attr("transform","translate(0,"+k.range()[0]+")"),kt.select(".nv-x.nv-axis").call(c));rt&&(s.scale(k).ticks(n.utils.calcTicksY(at/36,p)).tickSize(-g,0),kt.select(".nv-y.nv-axis").call(s));kt.select(".nv-background rect").on("click",function(){f.x=d3.mouse(this)[0];f.i=Math.round(y.invert(f.x));u.index=f.i;e.stateChange(u);si()});r.dispatch.on("elementClick",function(n){f.i=n.pointIndex;f.x=y(f.i);u.index=f.i;e.stateChange(u);si()});nt.dispatch.on("legendClick",function(n){n.disabled=!n.disabled;o=!n.disabled;u.rescaleY=o;e.stateChange(u);t.update()});l.dispatch.on("stateChange",function(n){for(var i in n)u[i]=n[i];e.stateChange(u);t.update()});a.dispatch.on("elementMousemove",function(u){var h,f,o,e,v;if(r.clearHighlights(),e=[],p.filter(function(n,t){return n.seriesIndex=t,!n.disabled}).forEach(function(i,s){f=n.interactiveBisect(i.values,u.pointXValue,t.x());r.highlightPoint(s,f,!0);var c=i.values[f];typeof c!="undefined"&&(typeof h=="undefined"&&(h=c),typeof o=="undefined"&&(o=t.xScale()(t.x()(c,f))),e.push({key:i.key,value:t.y()(c,f),color:w(i,i.seriesIndex)}))}),e.length>2){var y=t.yScale().invert(u.mouseY),k=Math.abs(t.yScale().domain()[0]-t.yScale().domain()[1]),d=.03*k,l=n.nearestValueIndex(e.map(function(n){return n.value}),y,d);l!==null&&(e[l].highlight=!0)}v=c.tickFormat()(t.x()(h,f),f);a.tooltip.position({left:o+i.left,top:u.mouseY+i.top}).chartContainer(hi.parentNode).enabled(b).valueFormatter(function(n){return s.tickFormat()(n)}).data({value:v,series:e})();a.renderGuideLine(o)});a.dispatch.on("elementMouseout",function(){e.tooltipHide();r.clearHighlights()});e.on("tooltipShow",function(n){b&&yt(n,hi.parentNode)});e.on("changeState",function(n){typeof n.disabled!="undefined"&&(p.forEach(function(t,i){t.disabled=n.disabled[i]}),u.disabled=n.disabled);typeof n.index!="undefined"&&(f.i=n.index,f.x=y(f.i),u.index=n.index,ti.data([f]));typeof n.rescaleY!="undefined"&&(o=n.rescaleY);t.update()})}),p.renderEnd("cumulativeLineChart immediate"),t}function bt(n,t){return g||(g=r.y()),t.map(function(t){var r,i;return t.values?(r=t.values[n],r==null)?t:(i=g(r,n),i<-.95&&!at)?(t.tempDisabled=!0,t):(t.tempDisabled=!1,t.values=t.values.map(function(n,t){return n.display={y:(g(n,t)-i)/(1+i)},n}),t):t})}var r=n.models.line(),c=n.models.axis(),s=n.models.axis(),l=n.models.legend(),nt=n.models.legend(),a=n.interactiveGuideline(),i={top:30,right:30,bottom:50,left:60},w=n.utils.defaultColor(),et=null,tt=null,ot=!0,it=!0,rt=!0,ut=!1,b=!0,st=!0,ft=!1,o=!0,ht=function(n,t,i){return"<h3>"+n+"<\/h3><p>"+i+" at "+t+"<\/p>"},ct,k,vt=r.id(),u=n.utils.state(),v=null,lt="No Data Available.",d=function(n){return n.average},e=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),h=250,at=!1,g;u.index=0;u.rescaleY=o;c.orient("bottom").tickPadding(7);s.orient(ut?"right":"left");nt.updateState(!1);var y=d3.scale.linear(),f={i:0,x:0},p=n.utils.renderWatch(e,h),yt=function(i,u){var f=i.pos[0]+(u.offsetLeft||0),e=i.pos[1]+(u.offsetTop||0),o=c.tickFormat()(r.x()(i.point,i.pointIndex)),h=s.tickFormat()(r.y()(i.point,i.pointIndex)),l=ht(i.series.key,o,h,i,t);n.tooltip.show([f,e],l,null,null,u)},pt=function(n){return function(){return{active:n.map(function(n){return!n.disabled}),index:f.i,rescaleY:o}}},wt=function(n){return function(t){t.index!==undefined&&(f.i=t.index);t.rescaleY!==undefined&&(o=t.rescaleY);t.active!==undefined&&n.forEach(function(n,i){n.disabled=!t.active[i]})}};r.dispatch.on("elementMouseover.tooltip",function(n){n.pos=[n.pos[0]+i.left,n.pos[1]+i.top];e.tooltipShow(n)});r.dispatch.on("elementMouseout.tooltip",function(n){e.tooltipHide(n)});e.on("tooltipHide",function(){b&&n.tooltip.cleanup()});return g=null,t.dispatch=e,t.lines=r,t.legend=l,t.xAxis=c,t.yAxis=s,t.interactiveLayer=a,t.state=u,t.options=n.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return et},set:function(n){et=n}},height:{get:function(){return tt},set:function(n){tt=n}},rescaleY:{get:function(){return o},set:function(n){o=n}},showControls:{get:function(){return st},set:function(n){st=n}},showLegend:{get:function(){return ot},set:function(n){ot=n}},average:{get:function(){return d},set:function(n){d=n}},tooltips:{get:function(){return b},set:function(n){b=n}},tooltipContent:{get:function(){return ht},set:function(n){ht=n}},defaultState:{get:function(){return v},set:function(n){v=n}},noData:{get:function(){return lt},set:function(n){lt=n}},showXAxis:{get:function(){return it},set:function(n){it=n}},showYAxis:{get:function(){return rt},set:function(n){rt=n}},noErrorCheck:{get:function(){return at},set:function(n){at=n}},margin:{get:function(){return i},set:function(n){i.top=n.top!==undefined?n.top:i.top;i.right=n.right!==undefined?n.right:i.right;i.bottom=n.bottom!==undefined?n.bottom:i.bottom;i.left=n.left!==undefined?n.left:i.left}},color:{get:function(){return w},set:function(t){w=n.utils.getColor(t);l.color(w)}},useInteractiveGuideline:{get:function(){return ft},set:function(n){ft=n;n===!0&&(t.interactive(!1),t.useVoronoi(!1))}},rightAlignYAxis:{get:function(){return ut},set:function(n){ut=n;s.orient(n?"right":"left")}},duration:{get:function(){return h},set:function(n){h=n;r.duration(h);c.duration(h);s.duration(h);p.reset(h)}}}),n.utils.inheritOptions(t,r),n.utils.initOptions(t),t};n.models.discreteBar=function(){"use strict";function o(y){return e.reset(),y.each(function(o){var st=p-u.left-u.right,et=w-u.top-u.bottom,ot=d3.select(this),ut,it,y,ft;n.utils.initSVG(ot);o.forEach(function(n,t){n.values.forEach(function(n){n.series=t})});ut=a&&s?[]:o.map(function(n){return n.values.map(function(n,t){return{x:f(n,t),y:r(n,t),y0:n.y0}})});i.domain(a||d3.merge(ut).map(function(n){return n.x})).rangeBands(d||[0,st],.1);t.domain(s||d3.extent(d3.merge(ut).map(function(n){return n.y}).concat(b)));l?t.range(v||[et-(t.domain()[0]<0?12:0),t.domain()[1]>0?12:0]):t.range(v||[et,0]);nt=nt||i;tt=tt||t.copy().range([t(0),t(0)]);var rt=ot.selectAll("g.nv-wrap.nv-discretebar").data([o]),ht=rt.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar"),ct=ht.append("g"),lt=rt.select("g");ct.append("g").attr("class","nv-groups");rt.attr("transform","translate("+u.left+","+u.top+")");it=rt.select(".nv-groups").selectAll(".nv-group").data(function(n){return n},function(n){return n.key});it.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);it.exit().watchTransition(e,"discreteBar: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove();it.attr("class",function(n,t){return"nv-group nv-series-"+t}).classed("hover",function(n){return n.hover});it.watchTransition(e,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",.75);y=it.selectAll("g.nv-bar").data(function(n){return n.values});y.exit().remove();ft=y.enter().append("g").attr("transform",function(n,r){return"translate("+(i(f(n,r))+i.rangeBand()*.05)+", "+t(0)+")"}).on("mouseover",function(n,u){d3.select(this).classed("hover",!0);h.elementMouseover({value:r(n,u),point:n,series:o[n.series],pos:[i(f(n,u))+i.rangeBand()*(n.series+.5)/o.length,t(r(n,u))],pointIndex:u,seriesIndex:n.series,e:d3.event})}).on("mouseout",function(n,t){d3.select(this).classed("hover",!1);h.elementMouseout({value:r(n,t),point:n,series:o[n.series],pointIndex:t,seriesIndex:n.series,e:d3.event})}).on("click",function(n,u){h.elementClick({value:r(n,u),point:n,series:o[n.series],pos:[i(f(n,u))+i.rangeBand()*(n.series+.5)/o.length,t(r(n,u))],pointIndex:u,seriesIndex:n.series,e:d3.event});d3.event.stopPropagation()}).on("dblclick",function(n,u){h.elementDblClick({value:r(n,u),point:n,series:o[n.series],pos:[i(f(n,u))+i.rangeBand()*(n.series+.5)/o.length,t(r(n,u))],pointIndex:u,seriesIndex:n.series,e:d3.event});d3.event.stopPropagation()});ft.append("rect").attr("height",0).attr("width",i.rangeBand()*.9/o.length);l?(ft.append("text").attr("text-anchor","middle"),y.select("text").text(function(n,t){return k(r(n,t))}).watchTransition(e,"discreteBar: bars text").attr("x",i.rangeBand()*.9/2).attr("y",function(n,i){return r(n,i)<0?t(r(n,i))-t(0)+12:-4})):y.selectAll("text").remove();y.attr("class",function(n,t){return r(n,t)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(n,t){return n.color||c(n,t)}).style("stroke",function(n,t){return n.color||c(n,t)}).select("rect").attr("class",g).watchTransition(e,"discreteBar: bars rect").attr("width",i.rangeBand()*.9/o.length);y.watchTransition(e,"discreteBar: bars").attr("transform",function(n,u){var e=i(f(n,u))+i.rangeBand()*.05,o=r(n,u)<0?t(0):t(0)-t(r(n,u))<1?t(0)-1:t(r(n,u));return"translate("+e+", "+o+")"}).select("rect").attr("height",function(n,i){return Math.max(Math.abs(t(r(n,i))-t(s&&s[0]||0))||1)});nt=i.copy();tt=t.copy()}),e.renderEnd("discreteBar immediate"),o}var u={top:0,right:0,bottom:0,left:0},p=960,w=500,it=Math.floor(Math.random()*1e4),i=d3.scale.ordinal(),t=d3.scale.linear(),f=function(n){return n.x},r=function(n){return n.y},b=[0],c=n.utils.defaultColor(),l=!1,k=d3.format(",.2f"),a,s,d,v,h=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),g="discreteBar",y=250,nt,tt,e=n.utils.renderWatch(h,y);return o.dispatch=h,o.options=n.utils.optionsFunc.bind(o),o._options=Object.create({},{width:{get:function(){return p},set:function(n){p=n}},height:{get:function(){return w},set:function(n){w=n}},forceY:{get:function(){return b},set:function(n){b=n}},showValues:{get:function(){return l},set:function(n){l=n}},x:{get:function(){return f},set:function(n){f=n}},y:{get:function(){return r},set:function(n){r=n}},xScale:{get:function(){return i},set:function(n){i=n}},yScale:{get:function(){return t},set:function(n){t=n}},xDomain:{get:function(){return a},set:function(n){a=n}},yDomain:{get:function(){return s},set:function(n){s=n}},xRange:{get:function(){return d},set:function(n){d=n}},yRange:{get:function(){return v},set:function(n){v=n}},valueFormat:{get:function(){return k},set:function(n){k=n}},id:{get:function(){return it},set:function(n){it=n}},rectClass:{get:function(){return g},set:function(n){g=n}},margin:{get:function(){return u},set:function(n){u.top=n.top!==undefined?n.top:u.top;u.right=n.right!==undefined?n.right:u.right;u.bottom=n.bottom!==undefined?n.bottom:u.bottom;u.left=n.left!==undefined?n.left:u.left}},color:{get:function(){return c},set:function(t){c=n.utils.getColor(t)}},duration:{get:function(){return y},set:function(n){y=n;e.reset(y)}}}),n.utils.initOptions(o),o};n.models.discreteBarChart=function(){"use strict";function r(k){return s.reset(),s.models(i),l&&s.models(e),a&&s.models(u),k.each(function(s){var d=d3.select(this),st=this,tt,it,ut,et,ot;if(n.utils.initSVG(d),tt=(w||parseInt(d.style("width"))||960)-t.left-t.right,it=(b||parseInt(d.style("height"))||400)-t.top-t.bottom,r.update=function(){o.beforeUpdate();d.transition().duration(f).call(r)},r.container=this,s&&s.length&&s.filter(function(n){return n.values.length}).length)d.selectAll(".nv-noData").remove();else return ut=d.selectAll(".nv-noData").data([g]),ut.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),ut.attr("x",t.left+tt/2).attr("y",t.top+it/2).text(function(n){return n}),r;p=i.xScale();h=i.yScale().clamp(!0);var ft=d.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([s]),rt=ft.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),ht=rt.append("defs"),k=ft.select("g");rt.append("g").attr("class","nv-x nv-axis");rt.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line");rt.append("g").attr("class","nv-barsWrap");k.attr("transform","translate("+t.left+","+t.top+")");v&&k.select(".nv-y.nv-axis").attr("transform","translate("+tt+",0)");i.width(tt).height(it);et=k.select(".nv-barsWrap").datum(s.filter(function(n){return!n.disabled}));et.transition().call(i);ht.append("clipPath").attr("id","nv-x-label-clip-"+i.id()).append("rect");k.select("#nv-x-label-clip-"+i.id()+" rect").attr("width",p.rangeBand()*(c?2:1)).attr("height",16).attr("x",-p.rangeBand()/(c?1:2));l&&(e.scale(p).ticks(n.utils.calcTicksX(tt/100,s)).tickSize(-it,0),k.select(".nv-x.nv-axis").attr("transform","translate(0,"+(h.range()[0]+(i.showValues()&&h.domain()[0]<0?16:0))+")"),k.select(".nv-x.nv-axis").call(e),ot=k.select(".nv-x.nv-axis").selectAll("g"),c&&ot.selectAll("text").attr("transform",function(n,t,i){return"translate(0,"+(i%2==0?"5":"17")+")"}));a&&(u.scale(h).ticks(n.utils.calcTicksY(it/36,s)).tickSize(-tt,0),k.select(".nv-y.nv-axis").call(u));k.select(".nv-zeroLine line").attr("x1",0).attr("x2",tt).attr("y1",h(0)).attr("y2",h(0));o.on("tooltipShow",function(n){y&&nt(n,st.parentNode)})}),s.renderEnd("discreteBar chart immediate"),r}var i=n.models.discreteBar(),e=n.models.axis(),u=n.models.axis(),t={top:15,right:10,bottom:50,left:60},w=null,b=null,k=n.utils.getColor(),l=!0,a=!0,v=!1,c=!1,y=!0,d=function(n,t,i){return"<h3>"+t+"<\/h3><p>"+i+"<\/p>"},p,h,g="No Data Available.",o=d3.dispatch("tooltipShow","tooltipHide","beforeUpdate","renderEnd"),f=250,nt,s;e.orient("bottom").highlightZero(!1).showMaxMin(!1).tickFormat(function(n){return n});u.orient(v?"right":"left").tickFormat(d3.format(",.1f"));nt=function(t,f){var o=t.pos[0]+(f.offsetLeft||0),s=t.pos[1]+(f.offsetTop||0),h=e.tickFormat()(i.x()(t.point,t.pointIndex)),c=u.tickFormat()(i.y()(t.point,t.pointIndex)),l=d(t.series.key,h,c,t,r);n.tooltip.show([o,s],l,t.value<0?"n":"s",null,f)};s=n.utils.renderWatch(o,f);i.dispatch.on("elementMouseover.tooltip",function(n){n.pos=[n.pos[0]+t.left,n.pos[1]+t.top];o.tooltipShow(n)});i.dispatch.on("elementMouseout.tooltip",function(n){o.tooltipHide(n)});o.on("tooltipHide",function(){y&&n.tooltip.cleanup()});return r.dispatch=o,r.discretebar=i,r.xAxis=e,r.yAxis=u,r.options=n.utils.optionsFunc.bind(r),r._options=Object.create({},{width:{get:function(){return w},set:function(n){w=n}},height:{get:function(){return b},set:function(n){b=n}},staggerLabels:{get:function(){return c},set:function(n){c=n}},showXAxis:{get:function(){return l},set:function(n){l=n}},showYAxis:{get:function(){return a},set:function(n){a=n}},tooltips:{get:function(){return y},set:function(n){y=n}},tooltipContent:{get:function(){return d},set:function(n){d=n}},noData:{get:function(){return g},set:function(n){g=n}},margin:{get:function(){return t},set:function(n){t.top=n.top!==undefined?n.top:t.top;t.right=n.right!==undefined?n.right:t.right;t.bottom=n.bottom!==undefined?n.bottom:t.bottom;t.left=n.left!==undefined?n.left:t.left}},duration:{get:function(){return f},set:function(n){f=n;s.reset(f);i.duration(f);e.duration(f);u.duration(f)}},color:{get:function(){return k},set:function(t){k=n.utils.getColor(t);i.color(k)}},rightAlignYAxis:{get:function(){return v},set:function(n){v=n;u.orient(n?"right":"left")}}}),n.utils.inheritOptions(r,i),n.utils.initOptions(r),r};n.models.distribution=function(){"use strict";function t(s){return o.reset(),s.each(function(t){var k=h-(r==="x"?i.left+i.right:i.top+i.bottom),y=r=="x"?"y":"x",p=d3.select(this),s,a;n.utils.initSVG(p);e=e||f;var v=p.selectAll("g.nv-distribution").data([t]),w=v.enter().append("g").attr("class","nvd3 nv-distribution"),d=w.append("g"),b=v.select("g");v.attr("transform","translate("+i.left+","+i.top+")");s=b.selectAll("g.nv-dist").data(function(n){return n},function(n){return n.key});s.enter().append("g");s.attr("class",function(n,t){return"nv-dist nv-series-"+t}).style("stroke",function(n,t){return l(n,t)});a=s.selectAll("line.nv-dist"+r).data(function(n){return n.values});a.enter().append("line").attr(r+"1",function(n,t){return e(u(n,t))}).attr(r+"2",function(n,t){return e(u(n,t))});o.transition(s.exit().selectAll("line.nv-dist"+r),"dist exit").attr(r+"1",function(n,t){return f(u(n,t))}).attr(r+"2",function(n,t){return f(u(n,t))}).style("stroke-opacity",0).remove();a.attr("class",function(n,t){return"nv-dist"+r+" nv-dist"+r+"-"+t}).attr(y+"1",0).attr(y+"2",c);o.transition(a,"dist").attr(r+"1",function(n,t){return f(u(n,t))}).attr(r+"2",function(n,t){return f(u(n,t))});e=f.copy()}),o.renderEnd("distribution immediate"),t}var i={top:0,right:0,bottom:0,left:0},h=400,c=8,r="x",u=function(n){return n[r]},l=n.utils.defaultColor(),f=d3.scale.linear(),s=250,a=d3.dispatch("renderEnd"),e,o=n.utils.renderWatch(a,s);return t.options=n.utils.optionsFunc.bind(t),t.dispatch=a,t.margin=function(n){return arguments.length?(i.top=typeof n.top!="undefined"?n.top:i.top,i.right=typeof n.right!="undefined"?n.right:i.right,i.bottom=typeof n.bottom!="undefined"?n.bottom:i.bottom,i.left=typeof n.left!="undefined"?n.left:i.left,t):i},t.width=function(n){return arguments.length?(h=n,t):h},t.axis=function(n){return arguments.length?(r=n,t):r},t.size=function(n){return arguments.length?(c=n,t):c},t.getData=function(n){return arguments.length?(u=d3.functor(n),t):u},t.scale=function(n){return arguments.length?(f=n,t):f},t.color=function(i){return arguments.length?(l=n.utils.getColor(i),t):l},t.duration=function(n){return arguments.length?(s=n,o.reset(s),t):s},t};n.models.historicalBar=function(){"use strict";function o(tt){return tt.each(function(o){var ut,ct;l.reset();var it=d3.select(this),tt=(a||parseInt(it.style("width"))||960)-r.left-r.right,ft=(v||parseInt(it.style("height"))||400)-r.top-r.bottom;n.utils.initSVG(it);i.domain(d||d3.extent(o[0].values.map(e).concat(y)));w?i.range(c||[tt*.5/o[0].values.length,tt*(o[0].values.length-.5)/o[0].values.length]):i.range(c||[0,tt]);t.domain(g||d3.extent(o[0].values.map(u).concat(p))).range(nt||[ft,0]);i.domain()[0]===i.domain()[1]&&(i.domain()[0]?i.domain([i.domain()[0]-i.domain()[0]*.01,i.domain()[1]+i.domain()[1]*.01]):i.domain([-1,1]));t.domain()[0]===t.domain()[1]&&(t.domain()[0]?t.domain([t.domain()[0]+t.domain()[0]*.01,t.domain()[1]-t.domain()[1]*.01]):t.domain([-1,1]));var rt=it.selectAll("g.nv-wrap.nv-historicalBar-"+f).data([o[0].values]),et=rt.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+f),ot=et.append("defs"),st=et.append("g"),ht=rt.select("g");st.append("g").attr("class","nv-bars");rt.attr("transform","translate("+r.left+","+r.top+")");it.on("click",function(n,t){s.chartClick({data:n,index:t,pos:d3.event,id:f})});ot.append("clipPath").attr("id","nv-chart-clip-path-"+f).append("rect");rt.select("#nv-chart-clip-path-"+f+" rect").attr("width",tt).attr("height",ft);ht.attr("clip-path",b?"url(#nv-chart-clip-path-"+f+")":"");ut=rt.select(".nv-bars").selectAll(".nv-bar").data(function(n){return n},function(n,t){return e(n,t)});ut.exit().remove();ct=ut.enter().append("rect").attr("x",0).attr("y",function(i,r){return n.utils.NaNtoZero(t(Math.max(0,u(i,r))))}).attr("height",function(i,r){return n.utils.NaNtoZero(Math.abs(t(u(i,r))-t(0)))}).attr("transform",function(n,t){return"translate("+(i(e(n,t))-tt/o[0].values.length*.45)+",0)"}).on("mouseover",function(n,r){h&&(d3.select(this).classed("hover",!0),s.elementMouseover({point:n,series:o[0],pos:[i(e(n,r)),t(u(n,r))],pointIndex:r,seriesIndex:0,e:d3.event}))}).on("mouseout",function(n,t){h&&(d3.select(this).classed("hover",!1),s.elementMouseout({point:n,series:o[0],pointIndex:t,seriesIndex:0,e:d3.event}))}).on("click",function(n,r){h&&(s.elementClick({value:u(n,r),data:n,index:r,pos:[i(e(n,r)),t(u(n,r))],e:d3.event,id:f}),d3.event.stopPropagation())}).on("dblclick",function(n,r){h&&(s.elementDblClick({value:u(n,r),data:n,index:r,pos:[i(e(n,r)),t(u(n,r))],e:d3.event,id:f}),d3.event.stopPropagation())});ut.attr("fill",function(n,t){return k(n,t)}).attr("class",function(n,t,i){return(u(n,t)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+i+"-"+t}).watchTransition(l,"bars").attr("transform",function(n,t){return"translate("+(i(e(n,t))-tt/o[0].values.length*.45)+",0)"}).attr("width",tt/o[0].values.length*.9);ut.watchTransition(l,"bars").attr("y",function(i,r){var f=u(i,r)<0?t(0):t(0)-t(u(i,r))<1?t(0)-1:t(u(i,r));return n.utils.NaNtoZero(f)}).attr("height",function(i,r){return n.utils.NaNtoZero(Math.max(Math.abs(t(u(i,r))-t(0)),1))})}),l.renderEnd("historicalBar immediate"),o}var r={top:0,right:0,bottom:0,left:0},a=null,v=null,f=Math.floor(Math.random()*1e4),i=d3.scale.linear(),t=d3.scale.linear(),e=function(n){return n.x},u=function(n){return n.y},y=[],p=[0],w=!1,b=!0,k=n.utils.defaultColor(),d,g,c,nt,s=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),h=!0,l=n.utils.renderWatch(s,0);return o.highlightPoint=function(n,t){d3.select(".nv-historicalBar-"+f).select(".nv-bars .nv-bar-0-"+n).classed("hover",t)},o.clearHighlights=function(){d3.select(".nv-historicalBar-"+f).select(".nv-bars .nv-bar.hover").classed("hover",!1)},o.dispatch=s,o.options=n.utils.optionsFunc.bind(o),o._options=Object.create({},{width:{get:function(){return a},set:function(n){a=n}},height:{get:function(){return v},set:function(n){v=n}},forceX:{get:function(){return y},set:function(n){y=n}},forceY:{get:function(){return p},set:function(n){p=n}},padData:{get:function(){return w},set:function(n){w=n}},x:{get:function(){return e},set:function(n){e=n}},y:{get:function(){return u},set:function(n){u=n}},xScale:{get:function(){return i},set:function(n){i=n}},yScale:{get:function(){return t},set:function(n){t=n}},xDomain:{get:function(){return d},set:function(n){d=n}},yDomain:{get:function(){return g},set:function(n){g=n}},xRange:{get:function(){return c},set:function(n){c=n}},yRange:{get:function(){return nt},set:function(n){nt=n}},clipEdge:{get:function(){return b},set:function(n){b=n}},id:{get:function(){return f},set:function(n){f=n}},interactive:{get:function(){return h},set:function(n){h=n}},margin:{get:function(){return r},set:function(n){r.top=n.top!==undefined?n.top:r.top;r.right=n.right!==undefined?n.right:r.right;r.bottom=n.bottom!==undefined?n.bottom:r.bottom;r.left=n.left!==undefined?n.left:r.left}},color:{get:function(){return k},set:function(t){k=n.utils.getColor(t)}}}),n.utils.initOptions(o),o};n.models.historicalBarChart=function(t){"use strict";function r(t){return t.each(function(it){var ot,yt,st,ht,at,pt,wt;if(l.reset(),l.models(u),b&&l.models(s),k&&l.models(o),ot=d3.select(this),yt=this,n.utils.initSVG(ot),st=(g||parseInt(ot.style("width"))||960)-i.left-i.right,ht=(w||parseInt(ot.style("height"))||400)-i.top-i.bottom,r.update=function(){ot.transition().duration(y).call(r)},r.container=this,f.disabled=it.map(function(n){return!!n.disabled}),!v){v={};for(at in f)v[at]=f[at]instanceof Array?f[at].slice(0):f[at]}if(it&&it.length&&it.filter(function(n){return n.values.length}).length)ot.selectAll(".nv-noData").remove();else return pt=ot.selectAll(".nv-noData").data([ft]),pt.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),pt.attr("x",i.left+st/2).attr("y",i.top+ht/2).text(function(n){return n}),r;rt=u.xScale();ut=u.yScale();var ct=ot.selectAll("g.nv-wrap.nv-historicalBarChart").data([it]),vt=ct.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),lt=ct.select("g");vt.append("g").attr("class","nv-x nv-axis");vt.append("g").attr("class","nv-y nv-axis");vt.append("g").attr("class","nv-barsWrap");vt.append("g").attr("class","nv-legendWrap");vt.append("g").attr("class","nv-interactive");nt&&(h.width(st),lt.select(".nv-legendWrap").datum(it).call(h),i.top!=h.height()&&(i.top=h.height(),ht=(w||parseInt(ot.style("height"))||400)-i.top-i.bottom),ct.select(".nv-legendWrap").attr("transform","translate(0,"+-i.top+")"));ct.attr("transform","translate("+i.left+","+i.top+")");d&&lt.select(".nv-y.nv-axis").attr("transform","translate("+st+",0)");tt&&(c.width(st).height(ht).margin({left:i.left,top:i.top}).svgContainer(ot).xScale(rt),ct.select(".nv-interactive").call(c));u.width(st).height(ht).color(it.map(function(n,t){return n.color||a(n,t)}).filter(function(n,t){return!it[t].disabled}));wt=lt.select(".nv-barsWrap").datum(it.filter(function(n){return!n.disabled}));wt.transition().call(u);b&&(s.scale(rt).tickSize(-ht,0),lt.select(".nv-x.nv-axis").attr("transform","translate(0,"+ut.range()[0]+")"),lt.select(".nv-x.nv-axis").transition().call(s));k&&(o.scale(ut).ticks(n.utils.calcTicksY(ht/36,it)).tickSize(-st,0),lt.select(".nv-y.nv-axis").transition().call(o));c.dispatch.on("elementMousemove",function(t){var h,f,e,l,v;u.clearHighlights();l=[];it.filter(function(n,t){return n.seriesIndex=t,!n.disabled}).forEach(function(i){f=n.interactiveBisect(i.values,t.pointXValue,r.x());u.highlightPoint(f,!0);var o=i.values[f];typeof o!="undefined"&&(typeof h=="undefined"&&(h=o),typeof e=="undefined"&&(e=r.xScale()(r.x()(o,f))),l.push({key:i.key,value:r.y()(o,f),color:a(i,i.seriesIndex),data:i.values[f]}))});v=s.tickFormat()(r.x()(h,f));c.tooltip.position({left:e+i.left,top:t.mouseY+i.top}).chartContainer(yt.parentNode).enabled(p).valueFormatter(function(n){return o.tickFormat()(n)}).data({value:v,series:l})();c.renderGuideLine(e)});c.dispatch.on("elementMouseout",function(){e.tooltipHide();u.clearHighlights()});h.dispatch.on("legendClick",function(n){n.disabled=!n.disabled;it.filter(function(n){return!n.disabled}).length||it.map(function(n){return n.disabled=!1,ct.selectAll(".nv-series").classed("disabled",!1),n});f.disabled=it.map(function(n){return!!n.disabled});e.stateChange(f);t.transition().call(r)});h.dispatch.on("legendDblclick",function(n){it.forEach(function(n){n.disabled=!0});n.disabled=!1;f.disabled=it.map(function(n){return!!n.disabled});e.stateChange(f);r.update()});e.on("tooltipShow",function(n){p&&et(n,yt.parentNode)});e.on("changeState",function(n){typeof n.disabled!="undefined"&&(it.forEach(function(t,i){t.disabled=n.disabled[i]}),f.disabled=n.disabled);r.update()})}),l.renderEnd("historicalBarChart immediate"),r}var u=t||n.models.historicalBar(),s=n.models.axis(),o=n.models.axis(),h=n.models.legend(),c=n.interactiveGuideline(),i={top:30,right:90,bottom:50,left:90},a=n.utils.defaultColor(),g=null,w=null,nt=!1,b=!0,k=!0,d=!1,tt=!1,p=!0,it=function(n,t,i){return"<h3>"+n+"<\/h3><p>"+i+" at "+t+"<\/p>"},rt,ut,f={},v=null,ft="No Data Available.",e=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),y=250,et,l;s.orient("bottom").tickPadding(7);o.orient(d?"right":"left");et=function(t,i){var e,f,h;i&&(e=d3.select(i).select("svg"),f=e.node()?e.attr("viewBox"):null,f&&(f=f.split(" "),h=parseInt(e.style("width"))/f[2],t.pos[0]=t.pos[0]*h,t.pos[1]=t.pos[1]*h));var c=t.pos[0]+(i.offsetLeft||0),l=t.pos[1]+(i.offsetTop||0),a=s.tickFormat()(u.x()(t.point,t.pointIndex)),v=o.tickFormat()(u.y()(t.point,t.pointIndex)),y=it(t.series.key,a,v,t,r);n.tooltip.show([c,l],y,null,null,i)};l=n.utils.renderWatch(e,0);u.dispatch.on("elementMouseover.tooltip",function(n){n.pos=[n.pos[0]+i.left,n.pos[1]+i.top];e.tooltipShow(n)});u.dispatch.on("elementMouseout.tooltip",function(n){e.tooltipHide(n)});e.on("tooltipHide",function(){p&&n.tooltip.cleanup()});return r.dispatch=e,r.bars=u,r.legend=h,r.xAxis=s,r.yAxis=o,r.interactiveLayer=c,r.options=n.utils.optionsFunc.bind(r),r._options=Object.create({},{width:{get:function(){return g},set:function(n){g=n}},height:{get:function(){return w},set:function(n){w=n}},showLegend:{get:function(){return nt},set:function(n){nt=n}},showXAxis:{get:function(){return b},set:function(n){b=n}},showYAxis:{get:function(){return k},set:function(n){k=n}},tooltips:{get:function(){return p},set:function(n){p=n}},tooltipContent:{get:function(){return it},set:function(n){it=n}},defaultState:{get:function(){return v},set:function(n){v=n}},noData:{get:function(){return ft},set:function(n){ft=n}},margin:{get:function(){return i},set:function(n){i.top=n.top!==undefined?n.top:i.top;i.right=n.right!==undefined?n.right:i.right;i.bottom=n.bottom!==undefined?n.bottom:i.bottom;i.left=n.left!==undefined?n.left:i.left}},color:{get:function(){return a},set:function(t){a=n.utils.getColor(t);h.color(a);u.color(a)}},duration:{get:function(){return y},set:function(n){y=n;l.reset(y);o.duration(y);s.duration(y)}},rightAlignYAxis:{get:function(){return d},set:function(n){d=n;o.orient(n?"right":"left")}},useInteractiveGuideline:{get:function(){return tt},set:function(n){tt=n;n===!0&&r.interactive(!1)}}}),n.utils.inheritOptions(r,u),n.utils.initOptions(r),r};n.models.ohlcBarChart=function(){var t=n.models.historicalBarChart(n.models.ohlcBar());return t.useInteractiveGuideline(!0),t.interactiveLayer.tooltip.contentGenerator(function(n){var i=n.series[0].data,r=i.open<i.close?"2ca02c":"d62728";return'<h3 style="color: #'+r+'">'+n.value+"<\/h3><table><tr><td>open:<\/td><td>"+t.yAxis.tickFormat()(i.open)+"<\/td><\/tr><tr><td>close:<\/td><td>"+t.yAxis.tickFormat()(i.close)+"<\/td><\/tr><tr><td>high<\/td><td>"+t.yAxis.tickFormat()(i.high)+"<\/td><\/tr><tr><td>low:<\/td><td>"+t.yAxis.tickFormat()(i.low)+"<\/td><\/tr><\/table>"}),t};n.models.legend=function(){"use strict";function r(a){return a.each(function(r){var ot=u-t.left-t.right,st=d3.select(this),v,it,y,p,rt,k,ut;n.utils.initSVG(st);var tt=st.selectAll("g.nv-legend").data([r]),ht=tt.enter().append("g").attr("class","nvd3 nv-legend").append("g"),g=tt.select("g");if(tt.attr("transform","translate("+t.left+","+t.top+")"),v=g.selectAll(".nv-series").data(function(n){return n}),it=v.enter().append("g").attr("class","nv-series").on("mouseover",function(n,t){i.legendMouseover(n,t)}).on("mouseout",function(n,t){i.legendMouseout(n,t)}).on("click",function(n,t){i.legendClick(n,t);o&&(l?(r.forEach(function(n){n.disabled=!0}),n.disabled=!1):(n.disabled=!n.disabled,r.every(function(n){return n.disabled})&&r.forEach(function(n){n.disabled=!1})),i.stateChange({disabled:r.map(function(n){return!!n.disabled})}))}).on("dblclick",function(n,t){i.legendDblclick(n,t);o&&(r.forEach(function(n){n.disabled=!0}),n.disabled=!1,i.stateChange({disabled:r.map(function(n){return!!n.disabled})}))}),it.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),it.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8"),v.classed("nv-disabled",function(n){return n.disabled}),v.exit().remove(),v.select("circle").style("fill",function(n,t){return n.color||e(n,t)}).style("stroke",function(n,t){return n.color||e(n,t)}),v.select("text").text(s),h){y=[];v.each(function(){var i=d3.select(this).select("text"),t;try{if(t=i.node().getComputedTextLength(),t<=0)throw Error();}catch(r){t=n.utils.calcApproxTextWidth(i)}y.push(t+28)});for(var a=0,b=0,w=[];b<ot&&a<y.length;)w[a]=y[a],b+=y[a++];for(a===0&&(a=1);b>ot&&a>1;){for(w=[],a--,p=0;p<y.length;p++)y[p]>(w[p%a]||0)&&(w[p%a]=y[p]);b=w.reduce(function(n,t){return n+t})}for(rt=[],k=0,ut=0;k<a;k++)rt[k]=ut,ut+=w[k];v.attr("transform",function(n,t){return"translate("+rt[t%a]+","+(5+Math.floor(t/a)*20)+")"});c?g.attr("transform","translate("+(u-t.right-b)+","+t.top+")"):g.attr("transform","translate(0,"+t.top+")");f=t.top+t.bottom+Math.ceil(y.length/a)*20}else{var ft=5,d=5,et=0,nt;v.attr("transform",function(){var n=d3.select(this).select("text").node().getComputedTextLength()+28;return nt=d,u<t.left+t.right+nt+n&&(d=nt=5,ft+=20),d+=n,d>et&&(et=d),"translate("+nt+","+ft+")"});g.attr("transform","translate("+(u-t.right-et)+","+t.top+")");f=t.top+t.bottom+ft+15}}),r}var t={top:5,right:0,bottom:5,left:0},u=400,f=20,s=function(n){return n.key},e=n.utils.defaultColor(),h=!0,c=!0,o=!0,l=!1,i=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange");return r.dispatch=i,r.options=n.utils.optionsFunc.bind(r),r._options=Object.create({},{width:{get:function(){return u},set:function(n){u=n}},height:{get:function(){return f},set:function(n){f=n}},key:{get:function(){return s},set:function(n){s=n}},align:{get:function(){return h},set:function(n){h=n}},rightAlign:{get:function(){return c},set:function(n){c=n}},updateState:{get:function(){return o},set:function(n){o=n}},radioButtonMode:{get:function(){return l},set:function(n){l=n}},margin:{get:function(){return t},set:function(n){t.top=n.top!==undefined?n.top:t.top;t.right=n.right!==undefined?n.right:t.right;t.bottom=n.bottom!==undefined?n.bottom:t.bottom;t.left=n.left!==undefined?n.left:t.left}},color:{get:function(){return e},set:function(t){e=n.utils.getColor(t)}}}),n.utils.initOptions(r),r};n.models.line=function(){"use strict";function u(v){return e.reset(),e.models(t),v.each(function(u){var rt=b-i.left-i.right,g=k-i.top-i.bottom,ut=d3.select(this),nt,v,tt,it;n.utils.initSVG(ut);a=t.xScale();r=t.yScale();p=p||a;c=c||r;var y=ut.selectAll("g.nv-wrap.nv-line").data([u]),ft=y.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),ot=ft.append("defs"),et=ft.append("g"),st=y.select("g");et.append("g").attr("class","nv-groups");et.append("g").attr("class","nv-scatterWrap");y.attr("transform","translate("+i.left+","+i.top+")");t.width(rt).height(g);nt=y.select(".nv-scatterWrap");nt.call(t);ot.append("clipPath").attr("id","nv-edge-clip-"+t.id()).append("rect");y.select("#nv-edge-clip-"+t.id()+" rect").attr("width",rt).attr("height",g>0?g:0);st.attr("clip-path",w?"url(#nv-edge-clip-"+t.id()+")":"");nt.attr("clip-path",w?"url(#nv-edge-clip-"+t.id()+")":"");v=y.select(".nv-groups").selectAll(".nv-group").data(function(n){return n},function(n){return n.key});v.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);v.exit().remove();v.attr("class",function(n,t){return"nv-group nv-series-"+t}).classed("hover",function(n){return n.hover}).style("fill",function(n,t){return l(n,t)}).style("stroke",function(n,t){return l(n,t)});v.watchTransition(e,"line: groups").style("stroke-opacity",1).style("fill-opacity",.5);tt=v.selectAll("path.nv-area").data(function(n){return d(n)?[n]:[]});tt.enter().append("path").attr("class","nv-area").attr("d",function(t){return d3.svg.area().interpolate(h).defined(s).x(function(t,i){return n.utils.NaNtoZero(p(o(t,i)))}).y0(function(t,i){return n.utils.NaNtoZero(c(f(t,i)))}).y1(function(){return c(r.domain()[0]<=0?r.domain()[1]>=0?0:r.domain()[1]:r.domain()[0])}).apply(this,[t.values])});v.exit().selectAll("path.nv-area").remove();tt.watchTransition(e,"line: areaPaths").attr("d",function(t){return d3.svg.area().interpolate(h).defined(s).x(function(t,i){return n.utils.NaNtoZero(a(o(t,i)))}).y0(function(t,i){return n.utils.NaNtoZero(r(f(t,i)))}).y1(function(){return r(r.domain()[0]<=0?r.domain()[1]>=0?0:r.domain()[1]:r.domain()[0])}).apply(this,[t.values])});it=v.selectAll("path.nv-line").data(function(n){return[n.values]});it.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(h).defined(s).x(function(t,i){return n.utils.NaNtoZero(p(o(t,i)))}).y(function(t,i){return n.utils.NaNtoZero(c(f(t,i)))}));it.watchTransition(e,"line: linePaths").attr("d",d3.svg.line().interpolate(h).defined(s).x(function(t,i){return n.utils.NaNtoZero(a(o(t,i)))}).y(function(t,i){return n.utils.NaNtoZero(r(f(t,i)))}));p=a.copy();c=r.copy()}),e.renderEnd("line immediate"),u}var t=n.models.scatter(),i={top:0,right:0,bottom:0,left:0},b=960,k=500,l=n.utils.defaultColor(),o=function(n){return n.x},f=function(n){return n.y},s=function(n,t){return!isNaN(f(n,t))&&f(n,t)!==null},d=function(n){return n.area},w=!1,a,r,h="linear",v=250,y=d3.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd"),p,c,e;t.pointSize(16).pointDomain([16,256]);e=n.utils.renderWatch(y,v);u.dispatch=y;u.scatter=t;t.dispatch.on("elementClick",function(){y.elementClick.apply(this,arguments)});t.dispatch.on("elementMouseover",function(){y.elementMouseover.apply(this,arguments)});t.dispatch.on("elementMouseout",function(){y.elementMouseout.apply(this,arguments)});return u.options=n.utils.optionsFunc.bind(u),u._options=Object.create({},{width:{get:function(){return b},set:function(n){b=n}},height:{get:function(){return k},set:function(n){k=n}},defined:{get:function(){return s},set:function(n){s=n}},interpolate:{get:function(){return h},set:function(n){h=n}},clipEdge:{get:function(){return w},set:function(n){w=n}},margin:{get:function(){return i},set:function(n){i.top=n.top!==undefined?n.top:i.top;i.right=n.right!==undefined?n.right:i.right;i.bottom=n.bottom!==undefined?n.bottom:i.bottom;i.left=n.left!==undefined?n.left:i.left}},duration:{get:function(){return v},set:function(n){v=n;e.reset(v);t.duration(v)}},isArea:{get:function(){return d},set:function(n){d=d3.functor(n)}},x:{get:function(){return o},set:function(n){o=n;t.x(n)}},y:{get:function(){return f},set:function(n){f=n;t.y(n)}},color:{get:function(){return l},set:function(i){l=n.utils.getColor(i);t.color(l)}}}),n.utils.inheritOptions(u,t),n.utils.initOptions(u),u};n.models.lineChart=function(){"use strict";function t(tt){return v.reset(),v.models(r),b&&v.models(s),k&&v.models(f),tt.each(function(v){var tt=d3.select(this),pt=this,st,ht,at,yt,wt;if(n.utils.initSVG(tt),st=(g||parseInt(tt.style("width"))||960)-i.left-i.right,ht=(w||parseInt(tt.style("height"))||400)-i.top-i.bottom,t.update=function(){o===0?tt.call(t):tt.transition().duration(o).call(t)},t.container=this,e.setter(ot(v),t.update).getter(et(v)).update(),e.disabled=v.map(function(n){return!!n.disabled}),!a){a={};for(at in e)a[at]=e[at]instanceof Array?e[at].slice(0):e[at]}if(v&&v.length&&v.filter(function(n){return n.values.length}).length)tt.selectAll(".nv-noData").remove();else return yt=tt.selectAll(".nv-noData").data([ut]),yt.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),yt.attr("x",i.left+st/2).attr("y",i.top+ht/2).text(function(n){return n}),t;it=r.xScale();rt=r.yScale();var vt=tt.selectAll("g.nv-wrap.nv-lineChart").data([v]),lt=vt.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),ct=vt.select("g");lt.append("rect").style("opacity",0);lt.append("g").attr("class","nv-x nv-axis");lt.append("g").attr("class","nv-y nv-axis");lt.append("g").attr("class","nv-linesWrap");lt.append("g").attr("class","nv-legendWrap");lt.append("g").attr("class","nv-interactive");ct.select("rect").attr("width",st).attr("height",ht>0?ht:0);nt&&(c.width(st),ct.select(".nv-legendWrap").datum(v).call(c),i.top!=c.height()&&(i.top=c.height(),ht=(w||parseInt(tt.style("height"))||400)-i.top-i.bottom),vt.select(".nv-legendWrap").attr("transform","translate(0,"+-i.top+")"));vt.attr("transform","translate("+i.left+","+i.top+")");y&&ct.select(".nv-y.nv-axis").attr("transform","translate("+st+",0)");d&&(h.width(st).height(ht).margin({left:i.left,top:i.top}).svgContainer(tt).xScale(it),vt.select(".nv-interactive").call(h));r.width(st).height(ht).color(v.map(function(n,t){return n.color||l(n,t)}).filter(function(n,t){return!v[t].disabled}));wt=ct.select(".nv-linesWrap").datum(v.filter(function(n){return!n.disabled}));wt.call(r);b&&(s.scale(it).ticks(n.utils.calcTicksX(st/100,v)).tickSize(-ht,0),ct.select(".nv-x.nv-axis").attr("transform","translate(0,"+rt.range()[0]+")"),ct.select(".nv-x.nv-axis").call(s));k&&(f.scale(rt).ticks(n.utils.calcTicksY(ht/36,v)).tickSize(-st,0),ct.select(".nv-y.nv-axis").call(f));c.dispatch.on("stateChange",function(n){for(var i in n)e[i]=n[i];u.stateChange(e);t.update()});h.dispatch.on("elementMousemove",function(u){var a,e,c,o,w;if(r.clearHighlights(),o=[],v.filter(function(n,t){return n.seriesIndex=t,!n.disabled}).forEach(function(i,f){e=n.interactiveBisect(i.values,u.pointXValue,t.x());r.highlightPoint(f,e,!0);var s=i.values[e];typeof s!="undefined"&&(typeof a=="undefined"&&(a=s),typeof c=="undefined"&&(c=t.xScale()(t.x()(s,e))),o.push({key:i.key,value:t.y()(s,e),color:l(i,i.seriesIndex)}))}),o.length>2){var b=t.yScale().invert(u.mouseY),k=Math.abs(t.yScale().domain()[0]-t.yScale().domain()[1]),d=.03*k,y=n.nearestValueIndex(o.map(function(n){return n.value}),b,d);y!==null&&(o[y].highlight=!0)}w=s.tickFormat()(t.x()(a,e));h.tooltip.position({left:c+i.left,top:u.mouseY+i.top}).chartContainer(pt.parentNode).enabled(p).valueFormatter(function(n){return f.tickFormat()(n)}).data({value:w,series:o})();h.renderGuideLine(c)});h.dispatch.on("elementClick",function(i){var u,f=[];v.filter(function(n,t){return n.seriesIndex=t,!n.disabled}).forEach(function(r){var e=n.interactiveBisect(r.values,i.pointXValue,t.x()),o=r.values[e],s;typeof o!="undefined"&&(typeof u=="undefined"&&(u=t.xScale()(t.x()(o,e))),s=t.yScale()(t.y()(o,e)),f.push({point:o,pointIndex:e,pos:[u,s],seriesIndex:r.seriesIndex,series:r}))});r.dispatch.elementClick(f)});h.dispatch.on("elementMouseout",function(){u.tooltipHide();r.clearHighlights()});u.on("tooltipShow",function(n){p&&ft(n,pt.parentNode)});u.on("changeState",function(n){typeof n.disabled!="undefined"&&v.length===n.disabled.length&&(v.forEach(function(t,i){t.disabled=n.disabled[i]}),e.disabled=n.disabled);t.update()})}),v.renderEnd("lineChart immediate"),t}var r=n.models.line(),s=n.models.axis(),f=n.models.axis(),c=n.models.legend(),h=n.interactiveGuideline(),i={top:30,right:20,bottom:50,left:60},l=n.utils.defaultColor(),g=null,w=null,nt=!0,b=!0,k=!0,y=!1,d=!1,p=!0,tt=function(n,t,i){return"<h3>"+n+"<\/h3><p>"+i+" at "+t+"<\/p>"},it,rt,e=n.utils.state(),a=null,ut="No Data Available.",u=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),o=250;s.orient("bottom").tickPadding(7);f.orient(y?"right":"left");var ft=function(i,u){var e=i.pos[0]+(u.offsetLeft||0),o=i.pos[1]+(u.offsetTop||0),h=s.tickFormat()(r.x()(i.point,i.pointIndex)),c=f.tickFormat()(r.y()(i.point,i.pointIndex)),l=tt(i.series.key,h,c,i,t);n.tooltip.show([e,o],l,null,null,u)},v=n.utils.renderWatch(u,o),et=function(n){return function(){return{active:n.map(function(n){return!n.disabled})}}},ot=function(n){return function(t){t.active!==undefined&&n.forEach(function(n,i){n.disabled=!t.active[i]})}};r.dispatch.on("elementMouseover.tooltip",function(n){n.pos=[n.pos[0]+i.left,n.pos[1]+i.top];u.tooltipShow(n)});r.dispatch.on("elementMouseout.tooltip",function(n){u.tooltipHide(n)});u.on("tooltipHide",function(){p&&n.tooltip.cleanup()});return t.dispatch=u,t.lines=r,t.legend=c,t.xAxis=s,t.yAxis=f,t.interactiveLayer=h,t.dispatch=u,t.options=n.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return g},set:function(n){g=n}},height:{get:function(){return w},set:function(n){w=n}},showLegend:{get:function(){return nt},set:function(n){nt=n}},showXAxis:{get:function(){return b},set:function(n){b=n}},showYAxis:{get:function(){return k},set:function(n){k=n}},tooltips:{get:function(){return p},set:function(n){p=n}},tooltipContent:{get:function(){return tt},set:function(n){tt=n}},defaultState:{get:function(){return a},set:function(n){a=n}},noData:{get:function(){return ut},set:function(n){ut=n}},margin:{get:function(){return i},set:function(n){i.top=n.top!==undefined?n.top:i.top;i.right=n.right!==undefined?n.right:i.right;i.bottom=n.bottom!==undefined?n.bottom:i.bottom;i.left=n.left!==undefined?n.left:i.left}},duration:{get:function(){return o},set:function(n){o=n;v.reset(o);r.duration(o);s.duration(o);f.duration(o)}},color:{get:function(){return l},set:function(t){l=n.utils.getColor(t);c.color(l);r.color(l)}},rightAlignYAxis:{get:function(){return y},set:function(n){y=n;f.orient(y?"right":"left")}},useInteractiveGuideline:{get:function(){return d},set:function(n){d=n;d&&(r.interactive(!1),r.useVoronoi(!1))}}}),n.utils.inheritOptions(t,r),n.utils.initOptions(t),t};n.models.linePlusBarChart=function(){"use strict";function i(yt){return yt.each(function(yt){function fr(n){var r=+(n=="e"),i=r?1:-1,t=oi/3;return"M"+.5*i+","+t+"A6,6 0 0 "+r+" "+6.5*i+","+(t+6)+"V"+(2*t-6)+"A6,6 0 0 "+r+" "+.5*i+","+2*t+"ZM"+2.5*i+","+(t+8)+"V"+(2*t-8)+"M"+4.5*i+","+(t+8)+"V"+(2*t-8)}function er(){f.empty()||f.extent(c);bi.data([f.empty()?e.domain():c]).each(function(n){var t=e(n[0])-e.range()[0],i=e.range()[1]-e(n[1]);d3.select(this).select(".left").attr("width",t<0?0:t);d3.select(this).select(".right").attr("x",e(n[1])).attr("width",i<0?0:i)})}function rr(){c=f.empty()?null:f.extent();o=f.empty()?e.domain():f.extent();s.brush({extent:o,brush:f});er();u.width(fi).height(hi).color(yt.map(function(n,t){return n.color||y(n,t)}).filter(function(n,t){return!yt[t].disabled&&yt[t].bar}));r.width(fi).height(hi).color(yt.map(function(n,t){return n.color||y(n,t)}).filter(function(n,t){return!yt[t].disabled&&!yt[t].bar}));var t=ui.select(".nv-focus .nv-barsWrap").datum(ei.length?ei.map(function(n){return{key:n.key,values:n.values.filter(function(n,t){return u.x()(n,t)>=o[0]&&u.x()(n,t)<=o[1]})}}):[{values:[]}]),i=ui.select(".nv-focus .nv-linesWrap").datum(ci[0].disabled?[{values:[]}]:ci.map(function(n){return{key:n.key,values:n.values.filter(function(n,t){return r.x()(n,t)>=o[0]&&r.x()(n,t)<=o[1]})}}));b=ei.length?u.xScale():r.xScale();w.scale(b).ticks(n.utils.calcTicksX(fi/100,yt)).tickSize(-hi,0);w.domain([Math.ceil(o[0]),Math.floor(o[1])]);ui.select(".nv-x.nv-axis").transition().duration(l).call(w);t.transition().duration(l).call(u);i.transition().duration(l).call(r);ui.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+pt.range()[0]+")");d.scale(pt).ticks(n.utils.calcTicksY(hi/36,yt)).tickSize(-fi,0);g.scale(gt).ticks(n.utils.calcTicksY(hi/36,yt)).tickSize(ei.length?0:-fi,0);ui.select(".nv-focus .nv-y1.nv-axis").style("opacity",ei.length?1:0);ui.select(".nv-focus .nv-y2.nv-axis").style("opacity",ci.length&&!ci[0].disabled?1:0).attr("transform","translate("+b.range()[1]+",0)");ui.select(".nv-focus .nv-y1.nv-axis").transition().duration(l).call(d);ui.select(".nv-focus .nv-y2.nv-axis").transition().duration(l).call(g)}var si=d3.select(this),ur=this,vi,yi,ei,ci,gi,nr,ai,li,tr,ir,bi,ki,di;n.utils.initSVG(si);var fi=(ct||parseInt(si.style("width"))||960)-t.left-t.right,hi=(rt||parseInt(si.style("height"))||400)-t.top-t.bottom-(et?nt:0),oi=nt-ht.top-ht.bottom;if(i.update=function(){si.transition().duration(l).call(i)},i.container=this,h.setter(ri(yt),i.update).getter(ii(yt)).update(),h.disabled=yt.map(function(n){return!!n.disabled}),!st){st={};for(vi in h)st[vi]=h[vi]instanceof Array?h[vi].slice(0):h[vi]}if(yt&&yt.length&&yt.filter(function(n){return n.values.length}).length)si.selectAll(".nv-noData").remove();else return yi=si.selectAll(".nv-noData").data([bt]),yi.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),yi.attr("x",t.left+fi/2).attr("y",t.top+hi/2).text(function(n){return n}),i;ei=yt.filter(function(n){return!n.disabled&&n.bar});ci=yt.filter(function(n){return!n.bar});b=u.xScale();e=k.scale();pt=u.yScale();gt=r.yScale();wt=p.yScale();ni=a.yScale();gi=yt.filter(function(n){return!n.disabled&&n.bar}).map(function(n){return n.values.map(function(n,t){return{x:ut(n,t),y:ft(n,t)}})});nr=yt.filter(function(n){return!n.disabled&&!n.bar}).map(function(n){return n.values.map(function(n,t){return{x:ut(n,t),y:ft(n,t)}})});b.range([0,fi]);e.domain(d3.extent(d3.merge(gi.concat(nr)),function(n){return n.x})).range([0,fi]);var pi=si.selectAll("g.nv-wrap.nv-linePlusBar").data([yt]),wi=pi.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),ui=pi.select("g");wi.append("g").attr("class","nv-legendWrap");ai=wi.append("g").attr("class","nv-focus");ai.append("g").attr("class","nv-x nv-axis");ai.append("g").attr("class","nv-y1 nv-axis");ai.append("g").attr("class","nv-y2 nv-axis");ai.append("g").attr("class","nv-barsWrap");ai.append("g").attr("class","nv-linesWrap");li=wi.append("g").attr("class","nv-context");li.append("g").attr("class","nv-x nv-axis");li.append("g").attr("class","nv-y1 nv-axis");li.append("g").attr("class","nv-y2 nv-axis");li.append("g").attr("class","nv-barsWrap");li.append("g").attr("class","nv-linesWrap");li.append("g").attr("class","nv-brushBackground");li.append("g").attr("class","nv-x nv-brush");lt&&(v.width(fi/2),ui.select(".nv-legendWrap").datum(yt.map(function(n){return n.originalKey=n.originalKey===undefined?n.key:n.originalKey,n.key=n.originalKey+(n.bar?kt:dt),n})).call(v),t.top!=v.height()&&(t.top=v.height(),hi=(rt||parseInt(si.style("height"))||400)-t.top-t.bottom-nt),ui.select(".nv-legendWrap").attr("transform","translate("+fi/2+","+-t.top+")"));pi.attr("transform","translate("+t.left+","+t.top+")");ui.select(".nv-context").style("display",et?"initial":"none");p.width(fi).height(oi).color(yt.map(function(n,t){return n.color||y(n,t)}).filter(function(n,t){return!yt[t].disabled&&yt[t].bar}));a.width(fi).height(oi).color(yt.map(function(n,t){return n.color||y(n,t)}).filter(function(n,t){return!yt[t].disabled&&!yt[t].bar}));tr=ui.select(".nv-context .nv-barsWrap").datum(ei.length?ei:[{values:[]}]);ir=ui.select(".nv-context .nv-linesWrap").datum(ci[0].disabled?[{values:[]}]:ci);ui.select(".nv-context").attr("transform","translate(0,"+(hi+t.bottom+ht.top)+")");tr.transition().call(p);ir.transition().call(a);vt&&(k.ticks(n.utils.calcTicksX(fi/100,yt)).tickSize(-oi,0),ui.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+wt.range()[0]+")"),ui.select(".nv-context .nv-x.nv-axis").transition().call(k));at&&(tt.scale(wt).ticks(oi/36).tickSize(-fi,0),it.scale(ni).ticks(oi/36).tickSize(ei.length?0:-fi,0),ui.select(".nv-context .nv-y3.nv-axis").style("opacity",ei.length?1:0).attr("transform","translate(0,"+e.range()[0]+")"),ui.select(".nv-context .nv-y2.nv-axis").style("opacity",ci.length?1:0).attr("transform","translate("+e.range()[1]+",0)"),ui.select(".nv-context .nv-y1.nv-axis").transition().call(tt),ui.select(".nv-context .nv-y2.nv-axis").transition().call(it));f.x(e).on("brush",rr);c&&f.extent(c);bi=ui.select(".nv-brushBackground").selectAll("g").data([c||f.extent()]);ki=bi.enter().append("g");ki.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",oi);ki.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",oi);di=ui.select(".nv-x.nv-brush").call(f);di.selectAll("rect").attr("height",oi);di.selectAll(".resize").append("path").attr("d",fr);v.dispatch.on("stateChange",function(n){for(var t in n)h[t]=n[t];s.stateChange(h);i.update()});s.on("tooltipShow",function(n){ot&&ti(n,ur.parentNode)});s.on("changeState",function(n){typeof n.disabled!="undefined"&&(yt.forEach(function(t,i){t.disabled=n.disabled[i]}),h.disabled=n.disabled);i.update()});rr()}),i}var r=n.models.line(),a=n.models.line(),u=n.models.historicalBar(),p=n.models.historicalBar(),w=n.models.axis(),k=n.models.axis(),d=n.models.axis(),g=n.models.axis(),tt=n.models.axis(),it=n.models.axis(),v=n.models.legend(),f=d3.svg.brush(),t={top:30,right:30,bottom:30,left:60},ht={top:0,right:30,bottom:20,left:60},ct=null,rt=null,ut=function(n){return n.x},ft=function(n){return n.y},y=n.utils.defaultColor(),lt=!0,et=!0,at=!1,vt=!0,nt=50,o,c=null,ot=!0,yt=function(n,t,i){return"<h3>"+n+"<\/h3><p>"+i+" at "+t+"<\/p>"},b,e,pt,gt,wt,ni,bt="No Data Available.",s=d3.dispatch("tooltipShow","tooltipHide","brush","stateChange","changeState"),l=0,h=n.utils.state(),st=null,kt=" (left axis)",dt=" (right axis)";r.clipEdge(!0);a.interactive(!1);w.orient("bottom").tickPadding(5);d.orient("left");g.orient("right");k.orient("bottom").tickPadding(5);tt.orient("left");it.orient("right");var ti=function(t,u){o&&(t.pointIndex+=Math.ceil(o[0]));var f=t.pos[0]+(u.offsetLeft||0),e=t.pos[1]+(u.offsetTop||0),s=w.tickFormat()(r.x()(t.point,t.pointIndex)),h=(t.series.bar?d:g).tickFormat()(r.y()(t.point,t.pointIndex)),c=yt(t.series.key,s,h,t,i);n.tooltip.show([f,e],c,t.value<0?"n":"s",null,u)},ii=function(n){return function(){return{active:n.map(function(n){return!n.disabled})}}},ri=function(n){return function(t){t.active!==undefined&&n.forEach(function(n,i){n.disabled=!t.active[i]})}};r.dispatch.on("elementMouseover.tooltip",function(n){n.pos=[n.pos[0]+t.left,n.pos[1]+t.top];s.tooltipShow(n)});r.dispatch.on("elementMouseout.tooltip",function(n){s.tooltipHide(n)});u.dispatch.on("elementMouseover.tooltip",function(n){n.pos=[n.pos[0]+t.left,n.pos[1]+t.top];s.tooltipShow(n)});u.dispatch.on("elementMouseout.tooltip",function(n){s.tooltipHide(n)});s.on("tooltipHide",function(){ot&&n.tooltip.cleanup()});return i.dispatch=s,i.legend=v,i.lines=r,i.lines2=a,i.bars=u,i.bars2=p,i.xAxis=w,i.x2Axis=k,i.y1Axis=d,i.y2Axis=g,i.y3Axis=tt,i.y4Axis=it,i.options=n.utils.optionsFunc.bind(i),i._options=Object.create({},{width:{get:function(){return ct},set:function(n){ct=n}},height:{get:function(){return rt},set:function(n){rt=n}},showLegend:{get:function(){return lt},set:function(n){lt=n}},tooltips:{get:function(){return ot},set:function(n){ot=n}},tooltipContent:{get:function(){return yt},set:function(n){yt=n}},brushExtent:{get:function(){return c},set:function(n){c=n}},noData:{get:function(){return bt},set:function(n){bt=n}},focusEnable:{get:function(){return et},set:function(n){et=n}},focusHeight:{get:function(){return nt},set:function(n){nt=n}},focusShowAxisX:{get:function(){return vt},set:function(n){vt=n}},focusShowAxisY:{get:function(){return at},set:function(n){at=n}},legendLeftAxisHint:{get:function(){return kt},set:function(n){kt=n}},legendRightAxisHint:{get:function(){return dt},set:function(n){dt=n}},margin:{get:function(){return t},set:function(n){t.top=n.top!==undefined?n.top:t.top;t.right=n.right!==undefined?n.right:t.right;t.bottom=n.bottom!==undefined?n.bottom:t.bottom;t.left=n.left!==undefined?n.left:t.left}},duration:{get:function(){return l},set:function(n){l=n}},color:{get:function(){return y},set:function(t){y=n.utils.getColor(t);v.color(y)}},x:{get:function(){return ut},set:function(n){ut=n;r.x(n);a.x(n);u.x(n);p.x(n)}},y:{get:function(){return ft},set:function(n){ft=n;r.y(n);a.y(n);u.y(n);p.y(n)}}}),n.utils.inheritOptions(i,r),n.utils.initOptions(i),i};n.models.lineWithFocusChart=function(){"use strict";function t(ft){return ft.each(function(ft){function oi(n){var r=+(n=="e"),i=r?1:-1,t=pt/3;return"M"+.5*i+","+t+"A6,6 0 0 "+r+" "+6.5*i+","+(t+6)+"V"+(2*t-6)+"A6,6 0 0 "+r+" "+.5*i+","+2*t+"ZM"+2.5*i+","+(t+8)+"V"+(2*t-8)+"M"+4.5*i+","+(t+8)+"V"+(2*t-8)}function si(){u.empty()||u.extent(h);ti.data([u.empty()?s.domain():h]).each(function(n){var t=s(n[0])-g.range()[0],i=g.range()[1]-s(n[1]);d3.select(this).select(".left").attr("width",t<0?0:t);d3.select(this).select(".right").attr("x",s(n[1])).attr("width",i<0?0:i)})}function fi(){var n,t;(h=u.empty()?null:u.extent(),n=u.empty()?s.domain():u.extent(),Math.abs(n[0]-n[1])<=1)||(c.brush({extent:n,brush:u}),si(),t=lt.select(".nv-focus .nv-linesWrap").datum(ft.filter(function(n){return!n.disabled}).map(function(t){return{key:t.key,area:t.area,values:t.values.filter(function(t,i){return r.x()(t,i)>=n[0]&&r.x()(t,i)<=n[1]})}})),t.transition().duration(l).call(r),lt.select(".nv-focus .nv-x.nv-axis").transition().duration(l).call(e),lt.select(".nv-focus .nv-y.nv-axis").transition().duration(l).call(o))}var at=d3.select(this),ei=this,bt,dt,kt,wt,ui,ti,ii,ri;n.utils.initSVG(at);var vt=(rt||parseInt(at.style("width"))||960)-i.left-i.right,yt=(d||parseInt(at.style("height"))||400)-i.top-i.bottom-k,pt=k-it.top-it.bottom;if(t.update=function(){at.transition().duration(l).call(t)},t.container=this,a.setter(ct(ft),t.update).getter(ht(ft)).update(),a.disabled=ft.map(function(n){return!!n.disabled}),!y){y={};for(bt in a)y[bt]=a[bt]instanceof Array?a[bt].slice(0):a[bt]}if(ft&&ft.length&&ft.filter(function(n){return n.values.length}).length)at.selectAll(".nv-noData").remove();else return dt=at.selectAll(".nv-noData").data([et]),dt.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),dt.attr("x",i.left+vt/2).attr("y",i.top+yt/2).text(function(n){return n}),t;g=r.xScale();ot=r.yScale();s=f.xScale();nt=f.yScale();var gt=at.selectAll("g.nv-wrap.nv-lineWithFocusChart").data([ft]),ni=gt.enter().append("g").attr("class","nvd3 nv-wrap nv-lineWithFocusChart").append("g"),lt=gt.select("g");ni.append("g").attr("class","nv-legendWrap");kt=ni.append("g").attr("class","nv-focus");kt.append("g").attr("class","nv-x nv-axis");kt.append("g").attr("class","nv-y nv-axis");kt.append("g").attr("class","nv-linesWrap");wt=ni.append("g").attr("class","nv-context");wt.append("g").attr("class","nv-x nv-axis");wt.append("g").attr("class","nv-y nv-axis");wt.append("g").attr("class","nv-linesWrap");wt.append("g").attr("class","nv-brushBackground");wt.append("g").attr("class","nv-x nv-brush");ut&&(v.width(vt),lt.select(".nv-legendWrap").datum(ft).call(v),i.top!=v.height()&&(i.top=v.height(),yt=(d||parseInt(at.style("height"))||400)-i.top-i.bottom-k),lt.select(".nv-legendWrap").attr("transform","translate(0,"+-i.top+")"));gt.attr("transform","translate("+i.left+","+i.top+")");r.width(vt).height(yt).color(ft.map(function(n,t){return n.color||b(n,t)}).filter(function(n,t){return!ft[t].disabled}));f.defined(r.defined()).width(vt).height(pt).color(ft.map(function(n,t){return n.color||b(n,t)}).filter(function(n,t){return!ft[t].disabled}));lt.select(".nv-context").attr("transform","translate(0,"+(yt+i.bottom+it.top)+")");ui=lt.select(".nv-context .nv-linesWrap").datum(ft.filter(function(n){return!n.disabled}));d3.transition(ui).call(f);e.scale(g).ticks(n.utils.calcTicksX(vt/100,ft)).tickSize(-yt,0);o.scale(ot).ticks(n.utils.calcTicksY(yt/36,ft)).tickSize(-vt,0);lt.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+yt+")");u.x(s).on("brush",function(){var n=t.duration();t.duration(0);fi();t.duration(n)});h&&u.extent(h);ti=lt.select(".nv-brushBackground").selectAll("g").data([h||u.extent()]);ii=ti.enter().append("g");ii.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",pt);ii.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",pt);ri=lt.select(".nv-x.nv-brush").call(u);ri.selectAll("rect").attr("height",pt);ri.selectAll(".resize").append("path").attr("d",oi);fi();p.scale(s).ticks(n.utils.calcTicksX(vt/100,ft)).tickSize(-pt,0);lt.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+nt.range()[0]+")");d3.transition(lt.select(".nv-context .nv-x.nv-axis")).call(p);w.scale(nt).ticks(n.utils.calcTicksY(pt/36,ft)).tickSize(-vt,0);d3.transition(lt.select(".nv-context .nv-y.nv-axis")).call(w);lt.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+nt.range()[0]+")");v.dispatch.on("stateChange",function(n){for(var i in n)a[i]=n[i];c.stateChange(a);t.update()});c.on("tooltipShow",function(n){tt&&st(n,ei.parentNode)});c.on("changeState",function(n){typeof n.disabled!="undefined"&&ft.forEach(function(t,i){t.disabled=n.disabled[i]});t.update()})}),t}var r=n.models.line(),f=n.models.line(),e=n.models.axis(),o=n.models.axis(),p=n.models.axis(),w=n.models.axis(),v=n.models.legend(),u=d3.svg.brush(),i={top:30,right:30,bottom:30,left:60},it={top:0,right:30,bottom:20,left:60},b=n.utils.defaultColor(),rt=null,d=null,k=100,g,ot,s,nt,ut=!0,h=null,tt=!0,ft=function(n,t,i){return"<h3>"+n+"<\/h3><p>"+i+" at "+t+"<\/p>"},et="No Data Available.",c=d3.dispatch("tooltipShow","tooltipHide","brush","stateChange","changeState"),l=250,a=n.utils.state(),y=null;r.clipEdge(!0);f.interactive(!1);e.orient("bottom").tickPadding(5);o.orient("left");p.orient("bottom").tickPadding(5);w.orient("left");var st=function(i,u){var f=i.pos[0]+(u.offsetLeft||0),s=i.pos[1]+(u.offsetTop||0),h=e.tickFormat()(r.x()(i.point,i.pointIndex)),c=o.tickFormat()(r.y()(i.point,i.pointIndex)),l=ft(i.series.key,h,c,i,t);n.tooltip.show([f,s],l,null,null,u)},ht=function(n){return function(){return{active:n.map(function(n){return!n.disabled})}}},ct=function(n){return function(t){t.active!==undefined&&n.forEach(function(n,i){n.disabled=!t.active[i]})}};r.dispatch.on("elementMouseover.tooltip",function(n){n.pos=[n.pos[0]+i.left,n.pos[1]+i.top];c.tooltipShow(n)});r.dispatch.on("elementMouseout.tooltip",function(n){c.tooltipHide(n)});c.on("tooltipHide",function(){tt&&n.tooltip.cleanup()});return t.dispatch=c,t.legend=v,t.lines=r,t.lines2=f,t.xAxis=e,t.yAxis=o,t.x2Axis=p,t.y2Axis=w,t.options=n.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return rt},set:function(n){rt=n}},height:{get:function(){return d},set:function(n){d=n}},focusHeight:{get:function(){return k},set:function(n){k=n}},showLegend:{get:function(){return ut},set:function(n){ut=n}},brushExtent:{get:function(){return h},set:function(n){h=n}},tooltips:{get:function(){return tt},set:function(n){tt=n}},tooltipContent:{get:function(){return ft},set:function(n){ft=n}},defaultState:{get:function(){return y},set:function(n){y=n}},noData:{get:function(){return et},set:function(n){et=n}},margin:{get:function(){return i},set:function(n){i.top=n.top!==undefined?n.top:i.top;i.right=n.right!==undefined?n.right:i.right;i.bottom=n.bottom!==undefined?n.bottom:i.bottom;i.left=n.left!==undefined?n.left:i.left}},color:{get:function(){return b},set:function(t){b=n.utils.getColor(t);v.color(b)}},interpolate:{get:function(){return r.interpolate()},set:function(n){r.interpolate(n);f.interpolate(n)}},xTickFormat:{get:function(){return e.xTickFormat()},set:function(n){e.xTickFormat(n);p.xTickFormat(n)}},yTickFormat:{get:function(){return o.yTickFormat()},set:function(n){o.yTickFormat(n);w.yTickFormat(n)}},duration:{get:function(){return l},set:function(n){l=n;o.duration(l);e.duration(l)}},x:{get:function(){return r.x()},set:function(n){r.x(n);f.x(n)}},y:{get:function(){return r.y()},set:function(n){r.y(n);f.y(n)}}}),n.utils.inheritOptions(t,r),n.utils.initOptions(t),t};n.models.multiBar=function(){"use strict";function c(st){return w.reset(),st.each(function(c){var yt=d-f.left-f.right,pt=g-f.top-f.bottom,wt=d3.select(this),kt,lt,ht,at,st,ti,vt;n.utils.initSVG(wt);kt=function(n,t){return n.series===c.length-1&&t===c[0].values.length-1?!0:!1};o&&c.length&&(o=[{values:c[0].values.map(function(n){return{x:n.x,y:0,series:n.series,size:.01}})}]);r&&(c=d3.layout.stack().offset(it).values(function(n){return n.values}).y(u)(!c.length&&o?o:c));c.forEach(function(n,t){n.values.forEach(function(n){n.series=t})});r&&c[0].values.map(function(n,t){var i=0,r=0;c.map(function(n){var u=n.values[t];u.size=Math.abs(u.y);u.y<0?(u.y1=r,r=r-u.size):(u.y1=u.size+i,i=i+u.size)})});lt=b&&k?[]:c.map(function(n){return n.values.map(function(n,t){return{x:e(n,t),y:u(n,t),y0:n.y0,y1:n.y1}})});t.domain(b||d3.merge(lt).map(function(n){return n.x})).rangeBands(rt||[0,yt],ft);i.domain(k||d3.extent(d3.merge(lt).map(function(n){return r?n.y>0?n.y1:n.y1+n.y:n.y}).concat(nt))).range(ut||[pt,0]);t.domain()[0]===t.domain()[1]&&(t.domain()[0]?t.domain([t.domain()[0]-t.domain()[0]*.01,t.domain()[1]+t.domain()[1]*.01]):t.domain([-1,1]));i.domain()[0]===i.domain()[1]&&(i.domain()[0]?i.domain([i.domain()[0]+i.domain()[0]*.01,i.domain()[1]-i.domain()[1]*.01]):i.domain([-1,1]));et=et||t;v=v||i;var ct=wt.selectAll("g.nv-wrap.nv-multibar").data([c]),bt=ct.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),dt=bt.append("defs"),gt=bt.append("g"),ni=ct.select("g");gt.append("g").attr("class","nv-groups");ct.attr("transform","translate("+f.left+","+f.top+")");dt.append("clipPath").attr("id","nv-edge-clip-"+y).append("rect");ct.select("#nv-edge-clip-"+y+" rect").attr("width",yt).attr("height",pt);ni.attr("clip-path",tt?"url(#nv-edge-clip-"+y+")":"");ht=ct.select(".nv-groups").selectAll(".nv-group").data(function(n){return n},function(n,t){return t});ht.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);at=w.transition(ht.exit().selectAll("rect.nv-bar"),"multibarExit",Math.min(100,h)).attr("y",function(n){return(r?v(n.y0):v(0))||0}).attr("height",0).remove();at.delay&&at.delay(function(n,t){return t*(h/(ot+1))-t});ht.attr("class",function(n,t){return"nv-group nv-series-"+t}).classed("hover",function(n){return n.hover}).style("fill",function(n,t){return l(n,t)}).style("stroke",function(n,t){return l(n,t)});ht.style("stroke-opacity",1).style("fill-opacity",.75);st=ht.selectAll("rect.nv-bar").data(function(n){return o&&!c.length?o.values:n.values});st.exit().remove();ti=st.enter().append("rect").attr("class",function(n,t){return u(n,t)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(n,i,u){return r?0:u*t.rangeBand()/c.length}).attr("y",function(n){return v(r?n.y0:0)||0}).attr("height",0).attr("width",t.rangeBand()/(r?1:c.length)).attr("transform",function(n,i){return"translate("+t(e(n,i))+",0)"});st.style("fill",function(n,t,i){return l(n,i,t)}).style("stroke",function(n,t,i){return l(n,i,t)}).on("mouseover",function(n,f){d3.select(this).classed("hover",!0);a.elementMouseover({value:u(n,f),point:n,series:c[n.series],pos:[t(e(n,f))+t.rangeBand()*(r?c.length/2:n.series+.5)/c.length,i(u(n,f)+(r?n.y0:0))],pointIndex:f,seriesIndex:n.series,e:d3.event})}).on("mouseout",function(n,t){d3.select(this).classed("hover",!1);a.elementMouseout({value:u(n,t),point:n,series:c[n.series],pointIndex:t,seriesIndex:n.series,e:d3.event})}).on("click",function(n,f){a.elementClick({value:u(n,f),point:n,series:c[n.series],pos:[t(e(n,f))+t.rangeBand()*(r?c.length/2:n.series+.5)/c.length,i(u(n,f)+(r?n.y0:0))],pointIndex:f,seriesIndex:n.series,e:d3.event});d3.event.stopPropagation()}).on("dblclick",function(n,f){a.elementDblClick({value:u(n,f),point:n,series:c[n.series],pos:[t(e(n,f))+t.rangeBand()*(r?c.length/2:n.series+.5)/c.length,i(u(n,f)+(r?n.y0:0))],pointIndex:f,seriesIndex:n.series,e:d3.event});d3.event.stopPropagation()});st.attr("class",function(n,t){return u(n,t)<0?"nv-bar negative":"nv-bar positive"}).attr("transform",function(n,i){return"translate("+t(e(n,i))+",0)"});p&&(s||(s=c.map(function(){return!0})),st.style("fill",function(n,t,i){return d3.rgb(p(n,t)).darker(s.map(function(n,t){return t}).filter(function(n,t){return!s[t]})[i]).toString()}).style("stroke",function(n,t,i){return d3.rgb(p(n,t)).darker(s.map(function(n,t){return t}).filter(function(n,t){return!s[t]})[i]).toString()}));vt=st.watchTransition(w,"multibar",Math.min(250,h)).delay(function(n,t){return t*h/c[0].values.length});r?vt.attr("y",function(n){return i(r?n.y1:0)}).attr("height",function(n){return Math.max(Math.abs(i(n.y+(r?n.y0:0))-i(r?n.y0:0)),1)}).attr("x",function(n){return r?0:n.series*t.rangeBand()/c.length}).attr("width",t.rangeBand()/(r?1:c.length)):vt.attr("x",function(n){return n.series*t.rangeBand()/c.length}).attr("width",t.rangeBand()/c.length).attr("y",function(n,t){return u(n,t)<0?i(0):i(0)-i(u(n,t))<1?i(0)-1:i(u(n,t))||0}).attr("height",function(n,t){return Math.max(Math.abs(i(u(n,t))-i(0)),1)||0});et=t.copy();v=i.copy();c[0]&&c[0].values&&(ot=c[0].values.length)}),w.renderEnd("multibar immediate"),c}var f={top:0,right:0,bottom:0,left:0},d=960,g=500,t=d3.scale.ordinal(),i=d3.scale.linear(),y=Math.floor(Math.random()*1e4),e=function(n){return n.x},u=function(n){return n.y},nt=[0],tt=!0,r=!1,it="zero",l=n.utils.defaultColor(),o=!1,p=null,s,h=500,b,k,rt,ut,ft=.1,a=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),et,v,w=n.utils.renderWatch(a,h),ot=0;return c.dispatch=a,c.options=n.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return d},set:function(n){d=n}},height:{get:function(){return g},set:function(n){g=n}},x:{get:function(){return e},set:function(n){e=n}},y:{get:function(){return u},set:function(n){u=n}},xScale:{get:function(){return t},set:function(n){t=n}},yScale:{get:function(){return i},set:function(n){i=n}},xDomain:{get:function(){return b},set:function(n){b=n}},yDomain:{get:function(){return k},set:function(n){k=n}},xRange:{get:function(){return rt},set:function(n){rt=n}},yRange:{get:function(){return ut},set:function(n){ut=n}},forceY:{get:function(){return nt},set:function(n){nt=n}},stacked:{get:function(){return r},set:function(n){r=n}},stackOffset:{get:function(){return it},set:function(n){it=n}},clipEdge:{get:function(){return tt},set:function(n){tt=n}},disabled:{get:function(){return s},set:function(n){s=n}},id:{get:function(){return y},set:function(n){y=n}},hideable:{get:function(){return o},set:function(n){o=n}},groupSpacing:{get:function(){return ft},set:function(n){ft=n}},margin:{get:function(){return f},set:function(n){f.top=n.top!==undefined?n.top:f.top;f.right=n.right!==undefined?n.right:f.right;f.bottom=n.bottom!==undefined?n.bottom:f.bottom;f.left=n.left!==undefined?n.left:f.left}},duration:{get:function(){return h},set:function(n){h=n;w.reset(h)}},color:{get:function(){return l},set:function(t){l=n.utils.getColor(t)}},barColor:{get:function(){return p},set:function(t){p=n.utils.getColor(t)}}}),n.utils.initOptions(c),c};n.models.multiBarChart=function(){"use strict";function i(ft){return l.reset(),l.models(r),d&&l.models(s),g&&l.models(e),ft.each(function(l){var yt=d3.select(this),oi=this,pt,wt,bt,ni,gt,ii,dt,ei;if(n.utils.initSVG(yt),pt=(tt||parseInt(yt.style("width"))||960)-t.left-t.right,wt=(p||parseInt(yt.style("height"))||400)-t.top-t.bottom,i.update=function(){o===0?yt.call(i):yt.transition().duration(o).call(i)},i.container=this,u.setter(vt(l),i.update).getter(at(l)).update(),u.disabled=l.map(function(n){return!!n.disabled}),!c){c={};for(bt in u)c[bt]=u[bt]instanceof Array?u[bt].slice(0):u[bt]}if(l&&l.length&&l.filter(function(n){return n.values.length}).length)yt.selectAll(".nv-noData").remove();else return ni=yt.selectAll(".nv-noData").data([ot]),ni.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),ni.attr("x",t.left+pt/2).attr("y",t.top+wt/2).text(function(n){return n}),i;ct=r.xScale();et=r.yScale();var ti=yt.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([l]),kt=ti.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),ft=ti.select("g");if(kt.append("g").attr("class","nv-x nv-axis"),kt.append("g").attr("class","nv-y nv-axis"),kt.append("g").attr("class","nv-barsWrap"),kt.append("g").attr("class","nv-legendWrap"),kt.append("g").attr("class","nv-controlsWrap"),it&&(h.width(pt-st()),r.barColor()&&l.forEach(function(n,t){n.color=d3.rgb("#ccc").darker(t*1.5).toString()}),ft.select(".nv-legendWrap").datum(l).call(h),t.top!=h.height()&&(t.top=h.height(),wt=(p||parseInt(yt.style("height"))||400)-t.top-t.bottom),ft.select(".nv-legendWrap").attr("transform","translate("+st()+","+-t.top+")")),b&&(gt=[{key:k.grouped||"Grouped",disabled:r.stacked()},{key:k.stacked||"Stacked",disabled:!r.stacked()}],y.width(st()).color(["#444","#444","#444"]),ft.select(".nv-controlsWrap").datum(gt).attr("transform","translate(0,"+-t.top+")").call(y)),ti.attr("transform","translate("+t.left+","+t.top+")"),a&&ft.select(".nv-y.nv-axis").attr("transform","translate("+pt+",0)"),r.disabled(l.map(function(n){return n.disabled})).width(pt).height(wt).color(l.map(function(n,t){return n.color||w(n,t)}).filter(function(n,t){return!l[t].disabled})),ii=ft.select(".nv-barsWrap").datum(l.filter(function(n){return!n.disabled})),ii.call(r),d){if(s.scale(ct).ticks(n.utils.calcTicksX(pt/100,l)).tickSize(-wt,0),ft.select(".nv-x.nv-axis").attr("transform","translate(0,"+et.range()[0]+")"),ft.select(".nv-x.nv-axis").call(s),dt=ft.select(".nv-x.nv-axis > g").selectAll("g"),dt.selectAll("line, text").style("opacity",1),ut){var ri=function(n,t){return"translate("+n+","+t+")"},ui=5,fi=17;dt.selectAll("text").attr("transform",function(n,t,i){return ri(0,i%2==0?ui:fi)});ei=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;ft.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(n,t){return ri(0,t===0||ei%2!=0?fi:ui)})}rt&&dt.filter(function(n,t){return t%Math.ceil(l[0].values.length/(pt/100))!=0}).selectAll("text, line").style("opacity",0);v&&dt.selectAll(".tick text").attr("transform","rotate("+v+" 0,0)").style("text-anchor",v>0?"start":"end");ft.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}g&&(e.scale(et).ticks(n.utils.calcTicksY(wt/36,l)).tickSize(-pt,0),ft.select(".nv-y.nv-axis").call(e));h.dispatch.on("stateChange",function(n){for(var t in n)u[t]=n[t];f.stateChange(u);i.update()});y.dispatch.on("legendClick",function(n){if(n.disabled){gt=gt.map(function(n){return n.disabled=!0,n});n.disabled=!1;switch(n.key){case"Grouped":r.stacked(!1);break;case"Stacked":r.stacked(!0)}u.stacked=r.stacked();f.stateChange(u);i.update()}});f.on("tooltipShow",function(n){nt&&lt(n,oi.parentNode)});f.on("changeState",function(n){typeof n.disabled!="undefined"&&(l.forEach(function(t,i){t.disabled=n.disabled[i]}),u.disabled=n.disabled);typeof n.stacked!="undefined"&&(r.stacked(n.stacked),u.stacked=n.stacked,ht=n.stacked);i.update()})}),l.renderEnd("multibarchart immediate"),i}var r=n.models.multiBar(),s=n.models.axis(),e=n.models.axis(),h=n.models.legend(),y=n.models.legend(),t={top:30,right:20,bottom:50,left:60},tt=null,p=null,w=n.utils.defaultColor(),b=!0,k={},it=!0,d=!0,g=!0,a=!1,rt=!0,ut=!1,v=0,nt=!0,ft=function(n,t,i){return"<h3>"+n+"<\/h3><p>"+i+" on "+t+"<\/p>"},ct,et,u=n.utils.state(),c=null,ot="No Data Available.",f=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),st=function(){return b?180:0},o=250;u.stacked=!1;r.stacked(!1);s.orient("bottom").tickPadding(7).highlightZero(!0).showMaxMin(!1).tickFormat(function(n){return n});e.orient(a?"right":"left").tickFormat(d3.format(",.1f"));y.updateState(!1);var l=n.utils.renderWatch(f),ht=!1,lt=function(t,u){var f=t.pos[0]+(u.offsetLeft||0),o=t.pos[1]+(u.offsetTop||0),h=s.tickFormat()(r.x()(t.point,t.pointIndex)),c=e.tickFormat()(r.y()(t.point,t.pointIndex)),l=ft(t.series.key,h,c,t,i);n.tooltip.show([f,o],l,t.value<0?"n":"s",null,u)},at=function(n){return function(){return{active:n.map(function(n){return!n.disabled}),stacked:ht}}},vt=function(n){return function(t){t.stacked!==undefined&&(ht=t.stacked);t.active!==undefined&&n.forEach(function(n,i){n.disabled=!t.active[i]})}};r.dispatch.on("elementMouseover.tooltip",function(n){n.pos=[n.pos[0]+t.left,n.pos[1]+t.top];f.tooltipShow(n)});r.dispatch.on("elementMouseout.tooltip",function(n){f.tooltipHide(n)});f.on("tooltipHide",function(){nt&&n.tooltip.cleanup()});return i.dispatch=f,i.multibar=r,i.legend=h,i.xAxis=s,i.yAxis=e,i.state=u,i.options=n.utils.optionsFunc.bind(i),i._options=Object.create({},{width:{get:function(){return tt},set:function(n){tt=n}},height:{get:function(){return p},set:function(n){p=n}},showLegend:{get:function(){return it},set:function(n){it=n}},showControls:{get:function(){return b},set:function(n){b=n}},controlLabels:{get:function(){return k},set:function(n){k=n}},showXAxis:{get:function(){return d},set:function(n){d=n}},showYAxis:{get:function(){return g},set:function(n){g=n}},tooltips:{get:function(){return nt},set:function(n){nt=n}},tooltipContent:{get:function(){return ft},set:function(n){ft=n}},defaultState:{get:function(){return c},set:function(n){c=n}},noData:{get:function(){return ot},set:function(n){ot=n}},reduceXTicks:{get:function(){return rt},set:function(n){rt=n}},rotateLabels:{get:function(){return v},set:function(n){v=n}},staggerLabels:{get:function(){return ut},set:function(n){ut=n}},margin:{get:function(){return t},set:function(n){t.top=n.top!==undefined?n.top:t.top;t.right=n.right!==undefined?n.right:t.right;t.bottom=n.bottom!==undefined?n.bottom:t.bottom;t.left=n.left!==undefined?n.left:t.left}},duration:{get:function(){return o},set:function(n){o=n;r.duration(o);s.duration(o);e.duration(o);l.reset(o)}},color:{get:function(){return w},set:function(t){w=n.utils.getColor(t);h.color(w)}},rightAlignYAxis:{get:function(){return a},set:function(n){a=n;e.orient(a?"right":"left")}}}),n.utils.inheritOptions(i,r),n.utils.initOptions(i),i};n.models.multiBarHorizontal=function(){"use strict";function h(g){return o.reset(),g.each(function(h){var lt=tt-f.left-f.right,vt=it-f.top-f.bottom,yt=d3.select(this),ct,et,g,st;n.utils.initSVG(yt);u&&(h=d3.layout.stack().offset("zero").values(function(n){return n.values}).y(i)(h));h.forEach(function(n,t){n.values.forEach(function(n){n.series=t})});u&&h[0].values.map(function(n,t){var i=0,r=0;h.map(function(n){var u=n.values[t];u.size=Math.abs(u.y);u.y<0?(u.y1=r-u.size,r=r-u.size):(u.y1=i,i=i+u.size)})});ct=b&&k?[]:h.map(function(n){return n.values.map(function(n,t){return{x:e(n,t),y:i(n,t),y0:n.y0,y1:n.y1}})});r.domain(b||d3.merge(ct).map(function(n){return n.x})).rangeBands(ut||[0,vt],.1);t.domain(k||d3.extent(d3.merge(ct).map(function(n){return u?n.y>0?n.y1+n.y:n.y1:n.y}).concat(rt)));p&&!u?t.range(d||[t.domain()[0]<0?w:0,lt-(t.domain()[1]>0?w:0)]):t.range(d||[0,lt]);ft=ft||r;nt=nt||d3.scale.linear().domain(t.domain()).range([t(0),t(0)]);var ht=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([h]),at=ht.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),wt=at.append("defs"),pt=at.append("g"),bt=ht.select("g");pt.append("g").attr("class","nv-groups");ht.attr("transform","translate("+f.left+","+f.top+")");et=ht.select(".nv-groups").selectAll(".nv-group").data(function(n){return n},function(n,t){return t});et.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);et.exit().watchTransition(o,"multibarhorizontal: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove();et.attr("class",function(n,t){return"nv-group nv-series-"+t}).classed("hover",function(n){return n.hover}).style("fill",function(n,t){return v(n,t)}).style("stroke",function(n,t){return v(n,t)});et.watchTransition(o,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",.75);g=et.selectAll("g.nv-bar").data(function(n){return n.values});g.exit().remove();st=g.enter().append("g").attr("transform",function(n,t,i){return"translate("+nt(u?n.y0:0)+","+(u?0:i*r.rangeBand()/h.length+r(e(n,t)))+")"});st.append("rect").attr("width",0).attr("height",r.rangeBand()/(u?1:h.length));g.on("mouseover",function(n,f){d3.select(this).classed("hover",!0);l.elementMouseover({value:i(n,f),point:n,series:h[n.series],pos:[t(i(n,f)+(u?n.y0:0)),r(e(n,f))+r.rangeBand()*(u?h.length/2:n.series+.5)/h.length],pointIndex:f,seriesIndex:n.series,e:d3.event})}).on("mouseout",function(n,t){d3.select(this).classed("hover",!1);l.elementMouseout({value:i(n,t),point:n,series:h[n.series],pointIndex:t,seriesIndex:n.series,e:d3.event})}).on("click",function(n,f){l.elementClick({value:i(n,f),point:n,series:h[n.series],pos:[r(e(n,f))+r.rangeBand()*(u?h.length/2:n.series+.5)/h.length,t(i(n,f)+(u?n.y0:0))],pointIndex:f,seriesIndex:n.series,e:d3.event});d3.event.stopPropagation()}).on("dblclick",function(n,f){l.elementDblClick({value:i(n,f),point:n,series:h[n.series],pos:[r(e(n,f))+r.rangeBand()*(u?h.length/2:n.series+.5)/h.length,t(i(n,f)+(u?n.y0:0))],pointIndex:f,seriesIndex:n.series,e:d3.event});d3.event.stopPropagation()});a(h[0],0)&&(st.append("polyline"),g.select("polyline").attr("fill","none").attr("points",function(n,i){var f=a(n,i),e=.8*r.rangeBand()/((u?1:h.length)*2),o;return f=f.length?f:[-Math.abs(f),Math.abs(f)],f=f.map(function(n){return t(n)-t(0)}),o=[[f[0],-e],[f[0],e],[f[0],0],[f[1],0],[f[1],-e],[f[1],e]],o.map(function(n){return n.join(",")}).join(" ")}).attr("transform",function(n,f){var e=r.rangeBand()/((u?1:h.length)*2);return"translate("+(i(n,f)<0?0:t(i(n,f))-t(0))+", "+e+")"}));st.append("text");p&&!u?(g.select("text").attr("text-anchor",function(n,t){return i(n,t)<0?"end":"start"}).attr("y",r.rangeBand()/(h.length*2)).attr("dy",".32em").html(function(n,t){var u=c(i(n,t)),r=a(n,t);return r===undefined?u:r.length?u+"+"+c(Math.abs(r[1]))+"-"+c(Math.abs(r[0])):u+"&plusmn;"+c(Math.abs(r))}),g.watchTransition(o,"multibarhorizontal: bars").select("text").attr("x",function(n,r){return i(n,r)<0?-4:t(i(n,r))-t(0)+4})):g.selectAll("text").text("");ot&&!u?(st.append("text").classed("nv-bar-label",!0),g.select("text.nv-bar-label").attr("text-anchor",function(n,t){return i(n,t)<0?"start":"end"}).attr("y",r.rangeBand()/(h.length*2)).attr("dy",".32em").text(function(n,t){return e(n,t)}),g.watchTransition(o,"multibarhorizontal: bars").select("text.nv-bar-label").attr("x",function(n,r){return i(n,r)<0?t(0)-t(i(n,r))+4:-4})):g.selectAll("text.nv-bar-label").text("");g.attr("class",function(n,t){return i(n,t)<0?"nv-bar negative":"nv-bar positive"});y&&(s||(s=h.map(function(){return!0})),g.style("fill",function(n,t,i){return d3.rgb(y(n,t)).darker(s.map(function(n,t){return t}).filter(function(n,t){return!s[t]})[i]).toString()}).style("stroke",function(n,t,i){return d3.rgb(y(n,t)).darker(s.map(function(n,t){return t}).filter(function(n,t){return!s[t]})[i]).toString()}));u?g.watchTransition(o,"multibarhorizontal: bars").attr("transform",function(n,i){return"translate("+t(n.y1)+","+r(e(n,i))+")"}).select("rect").attr("width",function(n,r){return Math.abs(t(i(n,r)+n.y0)-t(n.y0))}).attr("height",r.rangeBand()):g.watchTransition(o,"multibarhorizontal: bars").attr("transform",function(n,u){return"translate("+(i(n,u)<0?t(i(n,u)):t(0))+","+(n.series*r.rangeBand()/h.length+r(e(n,u)))+")"}).select("rect").attr("height",r.rangeBand()/h.length).attr("width",function(n,r){return Math.max(Math.abs(t(i(n,r))-t(0)),1)});ft=r.copy();nt=t.copy()}),o.renderEnd("multibarHorizontal immediate"),h}var f={top:0,right:0,bottom:0,left:0},tt=960,it=500,et=Math.floor(Math.random()*1e4),r=d3.scale.ordinal(),t=d3.scale.linear(),e=function(n){return n.x},i=function(n){return n.y},a=function(n){return n.yErr},rt=[0],v=n.utils.defaultColor(),y=null,s,u=!1,p=!1,ot=!1,w=60,c=d3.format(",.2f"),b,k,ut,d,g=250,l=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),ft,nt,o=n.utils.renderWatch(l,g);return h.dispatch=l,h.options=n.utils.optionsFunc.bind(h),h._options=Object.create({},{width:{get:function(){return tt},set:function(n){tt=n}},height:{get:function(){return it},set:function(n){it=n}},x:{get:function(){return e},set:function(n){e=n}},y:{get:function(){return i},set:function(n){i=n}},yErr:{get:function(){return a},set:function(n){a=n}},xScale:{get:function(){return r},set:function(n){r=n}},yScale:{get:function(){return t},set:function(n){t=n}},xDomain:{get:function(){return b},set:function(n){b=n}},yDomain:{get:function(){return k},set:function(n){k=n}},xRange:{get:function(){return ut},set:function(n){ut=n}},yRange:{get:function(){return d},set:function(n){d=n}},forceY:{get:function(){return rt},set:function(n){rt=n}},stacked:{get:function(){return u},set:function(n){u=n}},showValues:{get:function(){return p},set:function(n){p=n}},disabled:{get:function(){return s},set:function(n){s=n}},id:{get:function(){return et},set:function(n){et=n}},valueFormat:{get:function(){return c},set:function(n){c=n}},valuePadding:{get:function(){return w},set:function(n){w=n}},margin:{get:function(){return f},set:function(n){f.top=n.top!==undefined?n.top:f.top;f.right=n.right!==undefined?n.right:f.right;f.bottom=n.bottom!==undefined?n.bottom:f.bottom;f.left=n.left!==undefined?n.left:f.left}},duration:{get:function(){return g},set:function(n){g=n;o.reset(g)}},color:{get:function(){return v},set:function(t){v=n.utils.getColor(t)}},barColor:{get:function(){return v},set:function(t){y=n.utils.getColor(t)}}}),n.utils.initOptions(h),h};n.models.multiBarHorizontalChart=function(){"use strict";function r(rt){return a.reset(),a.models(i),k&&a.models(o),d&&a.models(s),rt.each(function(a){var ct=d3.select(this),gt=this,at,lt,vt,wt,pt,kt,dt;if(n.utils.initSVG(ct),at=(tt||parseInt(ct.style("width"))||960)-t.left-t.right,lt=(y||parseInt(ct.style("height"))||400)-t.top-t.bottom,r.update=function(){ct.transition().duration(e).call(r)},r.container=this,c=i.stacked(),u.setter(ht(a),r.update).getter(st(a)).update(),u.disabled=a.map(function(n){return!!n.disabled}),!l){l={};for(vt in u)l[vt]=u[vt]instanceof Array?u[vt].slice(0):u[vt]}if(a&&a.length&&a.filter(function(n){return n.values.length}).length)ct.selectAll(".nv-noData").remove();else return wt=ct.selectAll(".nv-noData").data([ut]),wt.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),wt.attr("x",t.left+at/2).attr("y",t.top+lt/2).text(function(n){return n}),r;et=i.xScale();nt=i.yScale();var bt=ct.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([a]),yt=bt.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),rt=bt.select("g");yt.append("g").attr("class","nv-x nv-axis");yt.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line");yt.append("g").attr("class","nv-barsWrap");yt.append("g").attr("class","nv-legendWrap");yt.append("g").attr("class","nv-controlsWrap");it&&(h.width(at-ft()),i.barColor()&&a.forEach(function(n,t){n.color=d3.rgb("#ccc").darker(t*1.5).toString()}),rt.select(".nv-legendWrap").datum(a).call(h),t.top!=h.height()&&(t.top=h.height(),lt=(y||parseInt(ct.style("height"))||400)-t.top-t.bottom),rt.select(".nv-legendWrap").attr("transform","translate("+ft()+","+-t.top+")"));w&&(pt=[{key:b.grouped||"Grouped",disabled:i.stacked()},{key:b.stacked||"Stacked",disabled:!i.stacked()}],v.width(ft()).color(["#444","#444","#444"]),rt.select(".nv-controlsWrap").datum(pt).attr("transform","translate(0,"+-t.top+")").call(v));bt.attr("transform","translate("+t.left+","+t.top+")");i.disabled(a.map(function(n){return n.disabled})).width(at).height(lt).color(a.map(function(n,t){return n.color||p(n,t)}).filter(function(n,t){return!a[t].disabled}));kt=rt.select(".nv-barsWrap").datum(a.filter(function(n){return!n.disabled}));kt.transition().call(i);k&&(o.scale(et).ticks(n.utils.calcTicksY(lt/24,a)).tickSize(-at,0),rt.select(".nv-x.nv-axis").call(o),dt=rt.select(".nv-x.nv-axis").selectAll("g"),dt.selectAll("line, text"));d&&(s.scale(nt).ticks(n.utils.calcTicksX(at/100,a)).tickSize(-lt,0),rt.select(".nv-y.nv-axis").attr("transform","translate(0,"+lt+")"),rt.select(".nv-y.nv-axis").call(s));rt.select(".nv-zeroLine line").attr("x1",nt(0)).attr("x2",nt(0)).attr("y1",0).attr("y2",-lt);h.dispatch.on("stateChange",function(n){for(var t in n)u[t]=n[t];f.stateChange(u);r.update()});v.dispatch.on("legendClick",function(n){if(n.disabled){pt=pt.map(function(n){return n.disabled=!0,n});n.disabled=!1;switch(n.key){case"Grouped":i.stacked(!1);break;case"Stacked":i.stacked(!0)}u.stacked=i.stacked();f.stateChange(u);c=i.stacked();r.update()}});f.on("tooltipShow",function(n){g&&ot(n,gt.parentNode)});f.on("changeState",function(n){typeof n.disabled!="undefined"&&(a.forEach(function(t,i){t.disabled=n.disabled[i]}),u.disabled=n.disabled);typeof n.stacked!="undefined"&&(i.stacked(n.stacked),u.stacked=n.stacked,c=n.stacked);r.update()})}),a.renderEnd("multibar horizontal chart immediate"),r}var i=n.models.multiBarHorizontal(),o=n.models.axis(),s=n.models.axis(),h=n.models.legend().height(30),v=n.models.legend().height(30),t={top:30,right:20,bottom:50,left:60},tt=null,y=null,p=n.utils.defaultColor(),w=!0,b={},it=!0,k=!0,d=!0,c=!1,g=!0,rt=function(n,t,i){return"<h3>"+n+" - "+t+"<\/h3><p>"+i+"<\/p>"},et,nt,u=n.utils.state(),l=null,ut="No Data Available.",f=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),ft=function(){return w?180:0},e=250;u.stacked=!1;i.stacked(c);o.orient("left").tickPadding(5).highlightZero(!1).showMaxMin(!1).tickFormat(function(n){return n});s.orient("bottom").tickFormat(d3.format(",.1f"));v.updateState(!1);var ot=function(t,u){var f=t.pos[0]+(u.offsetLeft||0),e=t.pos[1]+(u.offsetTop||0),h=o.tickFormat()(i.x()(t.point,t.pointIndex)),c=s.tickFormat()(i.y()(t.point,t.pointIndex)),l=rt(t.series.key,h,c,t,r);n.tooltip.show([f,e],l,t.value<0?"e":"w",null,u)},st=function(n){return function(){return{active:n.map(function(n){return!n.disabled}),stacked:c}}},ht=function(n){return function(t){t.stacked!==undefined&&(c=t.stacked);t.active!==undefined&&n.forEach(function(n,i){n.disabled=!t.active[i]})}},a=n.utils.renderWatch(f,e);i.dispatch.on("elementMouseover.tooltip",function(n){n.pos=[n.pos[0]+t.left,n.pos[1]+t.top];f.tooltipShow(n)});i.dispatch.on("elementMouseout.tooltip",function(n){f.tooltipHide(n)});f.on("tooltipHide",function(){g&&n.tooltip.cleanup()});return r.dispatch=f,r.multibar=i,r.legend=h,r.xAxis=o,r.yAxis=s,r.state=u,r.options=n.utils.optionsFunc.bind(r),r._options=Object.create({},{width:{get:function(){return tt},set:function(n){tt=n}},height:{get:function(){return y},set:function(n){y=n}},showLegend:{get:function(){return it},set:function(n){it=n}},showControls:{get:function(){return w},set:function(n){w=n}},controlLabels:{get:function(){return b},set:function(n){b=n}},showXAxis:{get:function(){return k},set:function(n){k=n}},showYAxis:{get:function(){return d},set:function(n){d=n}},tooltips:{get:function(){return g},set:function(n){g=n}},tooltipContent:{get:function(){return rt},set:function(n){rt=n}},defaultState:{get:function(){return l},set:function(n){l=n}},noData:{get:function(){return ut},set:function(n){ut=n}},margin:{get:function(){return t},set:function(n){t.top=n.top!==undefined?n.top:t.top;t.right=n.right!==undefined?n.right:t.right;t.bottom=n.bottom!==undefined?n.bottom:t.bottom;t.left=n.left!==undefined?n.left:t.left}},duration:{get:function(){return e},set:function(n){e=n;a.reset(e);i.duration(e);o.duration(e);s.duration(e)}},color:{get:function(){return p},set:function(t){p=n.utils.getColor(t);h.color(p)}}}),n.utils.inheritOptions(r,i),n.utils.initOptions(r),r};n.models.multiChart=function(){"use strict";function i(it){return it.each(function(it){var lt=d3.select(this),ii=this,bt,pt,wt,kt,ct,et,at;n.utils.initSVG(lt);i.update=function(){lt.transition().call(i)};i.container=this;var ht=(nt||parseInt(lt.style("width"))||960)-t.left-t.right,ot=(v||parseInt(lt.style("height"))||400)-t.top-t.bottom,dt=it.filter(function(n){return n.type=="line"&&n.yAxis==1}),gt=it.filter(function(n){return n.type=="line"&&n.yAxis==2}),ni=it.filter(function(n){return n.type=="bar"&&n.yAxis==1}),ti=it.filter(function(n){return n.type=="bar"&&n.yAxis==2}),vt=it.filter(function(n){return n.type=="area"&&n.yAxis==1}),yt=it.filter(function(n){return n.type=="area"&&n.yAxis==2});if(it&&it.length&&it.filter(function(n){return n.values.length}).length)lt.selectAll(".nv-noData").remove();else return bt=lt.selectAll(".nv-noData").data([rt]),bt.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),bt.attr("x",t.left+ht/2).attr("y",t.top+ot/2).text(function(n){return n}),i;pt=it.filter(function(n){return!n.disabled&&n.yAxis==1}).map(function(n){return n.values.map(function(n){return{x:n.x,y:n.y}})});wt=it.filter(function(n){return!n.disabled&&n.yAxis==2}).map(function(n){return n.values.map(function(n){return{x:n.x,y:n.y}})});p.domain(d3.extent(d3.merge(pt.concat(wt)),function(n){return n.x})).range([0,ht]);kt=lt.selectAll("g.wrap.multiChart").data([it]);ct=kt.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");ct.append("g").attr("class","x axis");ct.append("g").attr("class","y1 axis");ct.append("g").attr("class","y2 axis");ct.append("g").attr("class","lines1Wrap");ct.append("g").attr("class","lines2Wrap");ct.append("g").attr("class","bars1Wrap");ct.append("g").attr("class","bars2Wrap");ct.append("g").attr("class","stack1Wrap");ct.append("g").attr("class","stack2Wrap");ct.append("g").attr("class","legendWrap");et=kt.select("g");at=it.map(function(n,t){return it[t].color||g(n,t)});tt&&(a.color(at),a.width(ht/2),et.select(".legendWrap").datum(it.map(function(n){return n.originalKey=n.originalKey===undefined?n.key:n.originalKey,n.key=n.originalKey+(n.yAxis==1?"":" (right axis)"),n})).call(a),t.top!=a.height()&&(t.top=a.height(),ot=(v||parseInt(lt.style("height"))||400)-t.top-t.bottom),et.select(".legendWrap").attr("transform","translate("+ht/2+","+-t.top+")"));u.width(ht).height(ot).interpolate(w).color(at.filter(function(n,t){return!it[t].disabled&&it[t].yAxis==1&&it[t].type=="line"}));o.width(ht).height(ot).interpolate(w).color(at.filter(function(n,t){return!it[t].disabled&&it[t].yAxis==2&&it[t].type=="line"}));s.width(ht).height(ot).color(at.filter(function(n,t){return!it[t].disabled&&it[t].yAxis==1&&it[t].type=="bar"}));l.width(ht).height(ot).color(at.filter(function(n,t){return!it[t].disabled&&it[t].yAxis==2&&it[t].type=="bar"}));h.width(ht).height(ot).color(at.filter(function(n,t){return!it[t].disabled&&it[t].yAxis==1&&it[t].type=="area"}));c.width(ht).height(ot).color(at.filter(function(n,t){return!it[t].disabled&&it[t].yAxis==2&&it[t].type=="area"}));et.attr("transform","translate("+t.left+","+t.top+")");var ri=et.select(".lines1Wrap").datum(dt.filter(function(n){return!n.disabled})),ui=et.select(".bars1Wrap").datum(ni.filter(function(n){return!n.disabled})),fi=et.select(".stack1Wrap").datum(vt.filter(function(n){return!n.disabled})),ei=et.select(".lines2Wrap").datum(gt.filter(function(n){return!n.disabled})),oi=et.select(".bars2Wrap").datum(ti.filter(function(n){return!n.disabled})),si=et.select(".stack2Wrap").datum(yt.filter(function(n){return!n.disabled})),hi=vt.length?vt.map(function(n){return n.values}).reduce(function(n,t){return n.map(function(n,i){return{x:n.x,y:n.y+t[i].y}})}).concat([{x:0,y:0}]):[],ci=yt.length?yt.map(function(n){return n.values}).reduce(function(n,t){return n.map(function(n,i){return{x:n.x,y:n.y+t[i].y}})}).concat([{x:0,y:0}]):[];f.domain(ut||d3.extent(d3.merge(pt).concat(hi),function(n){return n.y})).range([0,ot]);e.domain(ft||d3.extent(d3.merge(wt).concat(ci),function(n){return n.y})).range([0,ot]);u.yDomain(f.domain());s.yDomain(f.domain());h.yDomain(f.domain());o.yDomain(e.domain());l.yDomain(e.domain());c.yDomain(e.domain());vt.length&&d3.transition(fi).call(h);yt.length&&d3.transition(si).call(c);ni.length&&d3.transition(ui).call(s);ti.length&&d3.transition(oi).call(l);dt.length&&d3.transition(ri).call(u);gt.length&&d3.transition(ei).call(o);b.ticks(n.utils.calcTicksX(ht/100,it)).tickSize(-ot,0);et.select(".x.axis").attr("transform","translate(0,"+ot+")");d3.transition(et.select(".x.axis")).call(b);k.ticks(n.utils.calcTicksY(ot/36,it)).tickSize(-ht,0);d3.transition(et.select(".y1.axis")).call(k);d.ticks(n.utils.calcTicksY(ot/36,it)).tickSize(-ht,0);d3.transition(et.select(".y2.axis")).call(d);et.select(".y1.axis").classed("nv-disabled",pt.length?!1:!0).attr("transform","translate("+p.range()[0]+",0)");et.select(".y2.axis").classed("nv-disabled",wt.length?!1:!0).attr("transform","translate("+p.range()[1]+",0)");a.dispatch.on("stateChange",function(){i.update()});r.on("tooltipShow",function(n){y&&st(n,ii.parentNode)})}),i}var t={top:30,right:20,bottom:50,left:60},g=n.utils.defaultColor(),nt=null,v=null,tt=!0,y=!0,it=function(n,t,i){return"<h3>"+n+"<\/h3><p>"+i+" at "+t+"<\/p>"},rt="No Data Available.",ut,ft,et=function(n){return n.x},ot=function(n){return n.y},w="monotone",p=d3.scale.linear(),f=d3.scale.linear(),e=d3.scale.linear(),u=n.models.line().yScale(f),o=n.models.line().yScale(e),s=n.models.multiBar().stacked(!1).yScale(f),l=n.models.multiBar().stacked(!1).yScale(e),h=n.models.stackedArea().yScale(f),c=n.models.stackedArea().yScale(e),b=n.models.axis().scale(p).orient("bottom").tickPadding(5),k=n.models.axis().scale(f).orient("left"),d=n.models.axis().scale(e).orient("right"),a=n.models.legend().height(30),r=d3.dispatch("tooltipShow","tooltipHide"),st=function(t,r){var f=t.pos[0]+(r.offsetLeft||0),e=t.pos[1]+(r.offsetTop||0),o=b.tickFormat()(u.x()(t.point,t.pointIndex)),s=(t.series.yAxis==2?d:k).tickFormat()(u.y()(t.point,t.pointIndex)),h=it(t.series.key,o,s,t,i);n.tooltip.show([f,e],h,undefined,undefined,r.offsetParent)};u.dispatch.on("elementMouseover.tooltip",function(n){n.pos=[n.pos[0]+t.left,n.pos[1]+t.top];r.tooltipShow(n)});u.dispatch.on("elementMouseout.tooltip",function(n){r.tooltipHide(n)});o.dispatch.on("elementMouseover.tooltip",function(n){n.pos=[n.pos[0]+t.left,n.pos[1]+t.top];r.tooltipShow(n)});o.dispatch.on("elementMouseout.tooltip",function(n){r.tooltipHide(n)});s.dispatch.on("elementMouseover.tooltip",function(n){n.pos=[n.pos[0]+t.left,n.pos[1]+t.top];r.tooltipShow(n)});s.dispatch.on("elementMouseout.tooltip",function(n){r.tooltipHide(n)});l.dispatch.on("elementMouseover.tooltip",function(n){n.pos=[n.pos[0]+t.left,n.pos[1]+t.top];r.tooltipShow(n)});l.dispatch.on("elementMouseout.tooltip",function(n){r.tooltipHide(n)});h.dispatch.on("tooltipShow",function(n){if(!Math.round(h.y()(n.point)*100))return setTimeout(function(){d3.selectAll(".point.hover").classed("hover",!1)},0),!1;n.pos=[n.pos[0]+t.left,n.pos[1]+t.top];r.tooltipShow(n)});h.dispatch.on("tooltipHide",function(n){r.tooltipHide(n)});c.dispatch.on("tooltipShow",function(n){if(!Math.round(c.y()(n.point)*100))return setTimeout(function(){d3.selectAll(".point.hover").classed("hover",!1)},0),!1;n.pos=[n.pos[0]+t.left,n.pos[1]+t.top];r.tooltipShow(n)});c.dispatch.on("tooltipHide",function(n){r.tooltipHide(n)});u.dispatch.on("elementMouseover.tooltip",function(n){n.pos=[n.pos[0]+t.left,n.pos[1]+t.top];r.tooltipShow(n)});u.dispatch.on("elementMouseout.tooltip",function(n){r.tooltipHide(n)});o.dispatch.on("elementMouseover.tooltip",function(n){n.pos=[n.pos[0]+t.left,n.pos[1]+t.top];r.tooltipShow(n)});o.dispatch.on("elementMouseout.tooltip",function(n){r.tooltipHide(n)});r.on("tooltipHide",function(){y&&n.tooltip.cleanup()});return i.dispatch=r,i.lines1=u,i.lines2=o,i.bars1=s,i.bars2=l,i.stack1=h,i.stack2=c,i.xAxis=b,i.yAxis1=k,i.yAxis2=d,i.options=n.utils.optionsFunc.bind(i),i._options=Object.create({},{width:{get:function(){return nt},set:function(n){nt=n}},height:{get:function(){return v},set:function(n){v=n}},showLegend:{get:function(){return tt},set:function(n){tt=n}},yDomain1:{get:function(){return ut},set:function(n){ut=n}},yDomain2:{get:function(){return ft},set:function(n){ft=n}},tooltips:{get:function(){return y},set:function(n){y=n}},tooltipContent:{get:function(){return it},set:function(n){it=n}},noData:{get:function(){return rt},set:function(n){rt=n}},interpolate:{get:function(){return w},set:function(n){w=n}},margin:{get:function(){return t},set:function(n){t.top=n.top!==undefined?n.top:t.top;t.right=n.right!==undefined?n.right:t.right;t.bottom=n.bottom!==undefined?n.bottom:t.bottom;t.left=n.left!==undefined?n.left:t.left}},color:{get:function(){return g},set:function(t){g=n.utils.getColor(t)}},x:{get:function(){return et},set:function(n){et=n;u.x(n);s.x(n)}},y:{get:function(){return ot},set:function(n){ot=n;u.y(n);s.y(n)}}}),n.utils.initOptions(i),i};n.models.ohlcBar=function(){"use strict";function u(it){return it.each(function(u){var et=d3.select(this),it=(p||parseInt(et.style("width"))||960)-r.left-r.right,ot=(w||parseInt(et.style("height"))||400)-r.top-r.bottom,ft,at;n.utils.initSVG(et);i.domain(g||d3.extent(u[0].values.map(c).concat(b)));k?i.range(y||[it*.5/u[0].values.length,it*(u[0].values.length-.5)/u[0].values.length]):i.range(y||[0,it]);t.domain(nt||[d3.min(u[0].values.map(o).concat(a)),d3.max(u[0].values.map(e).concat(a))]).range(tt||[ot,0]);i.domain()[0]===i.domain()[1]&&(i.domain()[0]?i.domain([i.domain()[0]-i.domain()[0]*.01,i.domain()[1]+i.domain()[1]*.01]):i.domain([-1,1]));t.domain()[0]===t.domain()[1]&&(t.domain()[0]?t.domain([t.domain()[0]+t.domain()[0]*.01,t.domain()[1]-t.domain()[1]*.01]):t.domain([-1,1]));var ut=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([u[0].values]),st=ut.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),ht=st.append("defs"),ct=st.append("g"),lt=ut.select("g");ct.append("g").attr("class","nv-ticks");ut.attr("transform","translate("+r.left+","+r.top+")");et.on("click",function(n,t){rt.chartClick({data:n,index:t,pos:d3.event,id:s})});ht.append("clipPath").attr("id","nv-chart-clip-path-"+s).append("rect");ut.select("#nv-chart-clip-path-"+s+" rect").attr("width",it).attr("height",ot);lt.attr("clip-path",d?"url(#nv-chart-clip-path-"+s+")":"");ft=ut.select(".nv-ticks").selectAll(".nv-tick").data(function(n){return n});ft.exit().remove();at=ft.enter().append("path").attr("class",function(n,t,i){return(f(n,t)>h(n,t)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+i+"-"+t}).attr("d",function(n,i){var r=it/u[0].values.length*.9;return"m0,0l0,"+(t(f(n,i))-t(e(n,i)))+"l"+-r/2+",0l"+r/2+",0l0,"+(t(o(n,i))-t(f(n,i)))+"l0,"+(t(h(n,i))-t(o(n,i)))+"l"+r/2+",0l"+-r/2+",0z"}).attr("transform",function(n,r){return"translate("+i(c(n,r))+","+t(e(n,r))+")"}).attr("fill",function(){return v[0]}).attr("stroke",function(){return v[0]}).attr("x",0).attr("y",function(n,i){return t(Math.max(0,l(n,i)))}).attr("height",function(n,i){return Math.abs(t(l(n,i))-t(0))});ft.attr("class",function(n,t,i){return(f(n,t)>h(n,t)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+i+"-"+t});d3.transition(ft).attr("transform",function(n,r){return"translate("+i(c(n,r))+","+t(e(n,r))+")"}).attr("d",function(n,i){var r=it/u[0].values.length*.9;return"m0,0l0,"+(t(f(n,i))-t(e(n,i)))+"l"+-r/2+",0l"+r/2+",0l0,"+(t(o(n,i))-t(f(n,i)))+"l0,"+(t(h(n,i))-t(o(n,i)))+"l"+r/2+",0l"+-r/2+",0z"})}),u}var r={top:0,right:0,bottom:0,left:0},p=null,w=null,s=Math.floor(Math.random()*1e4),i=d3.scale.linear(),t=d3.scale.linear(),c=function(n){return n.x},l=function(n){return n.y},f=function(n){return n.open},h=function(n){return n.close},e=function(n){return n.high},o=function(n){return n.low},b=[],a=[],k=!1,d=!0,v=n.utils.defaultColor(),it=!1,g,nt,y,tt,rt=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");return u.highlightPoint=function(n,t){u.clearHighlights();d3.select(".nv-ohlcBar .nv-tick-0-"+n).classed("hover",t)},u.clearHighlights=function(){d3.select(".nv-ohlcBar .nv-tick.hover").classed("hover",!1)},u.dispatch=rt,u.options=n.utils.optionsFunc.bind(u),u._options=Object.create({},{width:{get:function(){return p},set:function(n){p=n}},height:{get:function(){return w},set:function(n){w=n}},xScale:{get:function(){return i},set:function(n){i=n}},yScale:{get:function(){return t},set:function(n){t=n}},xDomain:{get:function(){return g},set:function(n){g=n}},yDomain:{get:function(){return nt},set:function(n){nt=n}},xRange:{get:function(){return y},set:function(n){y=n}},yRange:{get:function(){return tt},set:function(n){tt=n}},forceX:{get:function(){return b},set:function(n){b=n}},forceY:{get:function(){return a},set:function(n){a=n}},padData:{get:function(){return k},set:function(n){k=n}},clipEdge:{get:function(){return d},set:function(n){d=n}},id:{get:function(){return s},set:function(n){s=n}},interactive:{get:function(){return it},set:function(n){it=n}},x:{get:function(){return c},set:function(n){c=n}},y:{get:function(){return l},set:function(n){l=n}},open:{get:function(){return f()},set:function(n){f=n}},close:{get:function(){return h()},set:function(n){h=n}},high:{get:function(){return e},set:function(n){e=n}},low:{get:function(){return o},set:function(n){o=n}},margin:{get:function(){return r},set:function(n){r.top=n.top!=undefined?n.top:r.top;r.right=n.right!=undefined?n.right:r.right;r.bottom=n.bottom!=undefined?n.bottom:r.bottom;r.left=n.left!=undefined?n.left:r.left}},color:{get:function(){return v},set:function(t){v=n.utils.getColor(t)}}}),n.utils.initOptions(u),u};n.models.parallelCoordinates=function(){"use strict";function r(a){return a.each(function(a){function g(n){return b(u.map(function(t){return[s(t),i[t](n[t])]}))}function ft(){var n=u.filter(function(n){return!i[n].brush.empty()}),t=n.map(function(n){return i[n].brush.extent()});c=[];n.forEach(function(n,i){c[i]={dimension:n,extent:t[i]}});f=[];d.style("display",function(i){var r=n.every(function(n,r){return t[r][0]<=i[n]&&i[n]<=t[r][1]});return r&&f.push(i),r?null:"none"});l.brush({filters:c,active:f})}var v=d3.select(this),nt=(e||parseInt(v.style("width"))||960)-t.left-t.right,tt=(o||parseInt(v.style("height"))||400)-t.top-t.bottom,b,k,ut,d,w;n.utils.initSVG(v);f=a;r.update=function(){};s.rangePoints([0,nt],1).domain(u);u.forEach(function(n){return i[n]=d3.scale.linear().domain(d3.extent(a,function(t){return+t[n]})).range([tt,0]),i[n].brush=d3.svg.brush().y(i[n]).on("brush",ft),n!="name"});var y=v.selectAll("g.nv-wrap.nv-parallelCoordinates").data([a]),it=y.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates"),p=it.append("g"),rt=y.select("g");p.append("g").attr("class","nv-parallelCoordinatesWrap");y.attr("transform","translate("+t.left+","+t.top+")");b=d3.svg.line();k=d3.svg.axis().orient("left");ut=p.append("g").attr("class","background").selectAll("path").data(a).enter().append("path").attr("d",g);d=p.append("g").attr("class","foreground").selectAll("path").data(a).enter().append("path").attr("d",g).attr("stroke",h);w=rt.selectAll(".dimension").data(u).enter().append("g").attr("class","dimension").attr("transform",function(n){return"translate("+s(n)+",0)"});w.append("g").attr("class","axis").each(function(n){d3.select(this).call(k.scale(i[n]))}).append("text").attr("text-anchor","middle").attr("y",-9).text(String);w.append("g").attr("class","brush").each(function(n){d3.select(this).call(i[n].brush)}).selectAll("rect").attr("x",-8).attr("width",16)}),r}var t={top:30,right:10,bottom:10,left:10},e=null,o=null,s=d3.scale.ordinal(),i={},u=[],h=n.utils.defaultColor(),c=[],f=[],l=d3.dispatch("brush");return r.dispatch=l,r.options=n.utils.optionsFunc.bind(r),r._options=Object.create({},{width:{get:function(){return e},set:function(n){e=n}},height:{get:function(){return o},set:function(n){o=n}},dimensions:{get:function(){return u},set:function(n){u=n}},margin:{get:function(){return t},set:function(n){t.top=typeof n.top!="undefined"?n.top:t.top;t.right=typeof n.right!="undefined"?n.right:t.right;t.bottom=typeof n.bottom!="undefined"?n.bottom:t.bottom;t.left=typeof n.left!="undefined"?n.left:t.left}},color:{get:function(){return h},set:function(t){h=n.utils.getColor(t)}}}),n.utils.initOptions(r),r};n.models.pie=function(){"use strict";function e(ot){return et.reset(),ot.each(function(e){function hi(n){n.endAngle=isNaN(n.endAngle)?0:n.endAngle;n.startAngle=isNaN(n.startAngle)?0:n.startAngle;s||(n.innerRadius=0);var t=d3.interpolate(this._current,n);return this._current=t(0),function(n){return ot(t(n))}}var bt=b-t.left-t.right,kt=k-t.top-t.bottom,st=Math.min(bt,kt)/2,ct=st-st/5,dt=d3.select(this),ot,lt,yt,ri,at,pt,wt,gt,ht;n.utils.initSVG(dt);var vt=dt.selectAll(".nv-wrap.nv-pie").data(e),oi=vt.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+r),ti=oi.append("g"),ii=vt.select("g"),si=ti.append("g").attr("class","nv-pie");ti.append("g").attr("class","nv-pieLabels");vt.attr("transform","translate("+t.left+","+t.top+")");ii.select(".nv-pie").attr("transform","translate("+bt/2+","+kt/2+")");ii.select(".nv-pieLabels").attr("transform","translate("+bt/2+","+kt/2+")");dt.on("click",function(n,t){f.chartClick({data:n,index:t,pos:d3.event,id:r})});ot=d3.svg.arc().outerRadius(ct);lt=d3.svg.arc().outerRadius(ct+5);h&&(ot.startAngle(h),lt.startAngle(h));c&&(ot.endAngle(c),lt.endAngle(c));s&&(ot.innerRadius(st*w),lt.innerRadius(st*w));yt=d3.layout.pie().sort(null).value(function(n){return n.disabled?0:i(n)});yt.padAngle&&p&&yt.padAngle(p);ot.cornerRadius&&l&&(ot.cornerRadius(l),lt.cornerRadius(l));s&&v&&(ri=si.append("g").attr("class","nv-pie"),ri.append("text").style("text-anchor","middle").attr("class","nv-pie-title").text(function(){return v}).attr("dy","0.35em").attr("transform",function(){return"translate(0, "+ft+")"}));at=vt.select(".nv-pie").selectAll(".nv-slice").data(yt);pt=vt.select(".nv-pieLabels").selectAll(".nv-label").data(yt);at.exit().remove();pt.exit().remove();wt=at.enter().append("g");wt.attr("class","nv-slice");wt.on("mouseover",function(n,t){d3.select(this).classed("hover",!0);y&&d3.select(this).select("path").transition().duration(70).attr("d",lt);f.elementMouseover({label:u(n.data),value:i(n.data),point:n.data,pointIndex:t,pos:[d3.event.pageX,d3.event.pageY],id:r,color:d3.select(this).style("fill")})});wt.on("mouseout",function(n,t){d3.select(this).classed("hover",!1);y&&d3.select(this).select("path").transition().duration(50).attr("d",ot);f.elementMouseout({label:u(n.data),value:i(n.data),point:n.data,index:t,id:r})});at.attr("fill",function(n,t){return a(n,t)});at.attr("stroke",function(n,t){return a(n,t)});gt=wt.append("path").each(function(n){this._current=n});gt.on("click",function(n,t){f.elementClick({label:u(n.data),value:i(n.data),point:n.data,index:t,pos:d3.event,id:r});d3.event.stopPropagation()});gt.on("dblclick",function(n,t){f.elementDblClick({label:u(n.data),value:i(n.data),point:n.data,index:t,pos:d3.event,id:r});d3.event.stopPropagation()});if(at.select("path").transition().attr("d",ot).attrTween("d",hi),nt){ht=d3.svg.arc().innerRadius(0);tt&&(ht=ot);it&&(ht=d3.svg.arc().outerRadius(ot.outerRadius()));pt.enter().append("g").classed("nv-label",!0).each(function(n){var t=d3.select(this);t.attr("transform",function(n){if(o){n.outerRadius=ct+10;n.innerRadius=ct+15;var t=(n.startAngle+n.endAngle)/2*(180/Math.PI);return(n.startAngle+n.endAngle)/2<Math.PI?t-=90:t+=90,"translate("+ht.centroid(n)+") rotate("+t+")"}return n.outerRadius=st+10,n.innerRadius=st+15,"translate("+ht.centroid(n)+")"});t.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3);t.append("text").style("text-anchor",o?(n.startAngle+n.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var ui={},ni=14,fi=140,ei=function(n){return Math.floor(n[0]/fi)*fi+","+Math.floor(n[1]/ni)*ni};pt.watchTransition(et,"pie labels").attr("transform",function(n){var i,t,r;return o?(n.outerRadius=ct+10,n.innerRadius=ct+15,i=(n.startAngle+n.endAngle)/2*(180/Math.PI),(n.startAngle+n.endAngle)/2<Math.PI?i-=90:i+=90,"translate("+ht.centroid(n)+") rotate("+i+")"):(n.outerRadius=st+10,n.innerRadius=st+15,t=ht.centroid(n),n.value&&(r=ei(t),ui[r]&&(t[1]-=ni),ui[ei(t)]=!0),"translate("+t+")")});pt.select(".nv-label text").style("text-anchor",o?(d.startAngle+d.endAngle)/2<Math.PI?"start":"end":"middle").text(function(n){var t=(n.endAngle-n.startAngle)/(2*Math.PI),r={key:u(n.data),value:i(n.data),percent:g(t)};return n.value&&t>ut?r[rt]:""})}}),et.renderEnd("pie immediate"),e}var t={top:0,right:0,bottom:0,left:0},b=500,k=500,u=function(n){return n.x},i=function(n){return n.y},r=Math.floor(Math.random()*1e4),a=n.utils.defaultColor(),ot=d3.format(",.2f"),g=d3.format("%"),nt=!0,tt=!0,it=!1,rt="key",ut=.02,s=!1,v=!1,y=!0,ft=0,o=!1,h=!1,p=!1,c=!1,l=0,w=.5,f=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),et=n.utils.renderWatch(f);return e.dispatch=f,e.options=n.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return b},set:function(n){b=n}},height:{get:function(){return k},set:function(n){k=n}},showLabels:{get:function(){return nt},set:function(n){nt=n}},title:{get:function(){return v},set:function(n){v=n}},titleOffset:{get:function(){return ft},set:function(n){ft=n}},labelThreshold:{get:function(){return ut},set:function(n){ut=n}},labelFormat:{get:function(){return g},set:function(n){g=n}},valueFormat:{get:function(){return ot},set:function(n){ot=n}},x:{get:function(){return u},set:function(n){u=n}},id:{get:function(){return r},set:function(n){r=n}},endAngle:{get:function(){return c},set:function(n){c=n}},startAngle:{get:function(){return h},set:function(n){h=n}},padAngle:{get:function(){return p},set:function(n){p=n}},cornerRadius:{get:function(){return l},set:function(n){l=n}},donutRatio:{get:function(){return w},set:function(n){w=n}},pieLabelsOutside:{get:function(){return tt},set:function(n){tt=n}},donutLabelsOutside:{get:function(){return it},set:function(n){it=n}},labelSunbeamLayout:{get:function(){return o},set:function(n){o=n}},donut:{get:function(){return s},set:function(n){s=n}},growOnHover:{get:function(){return y},set:function(n){y=n}},margin:{get:function(){return t},set:function(n){t.top=typeof n.top!="undefined"?n.top:t.top;t.right=typeof n.right!="undefined"?n.right:t.right;t.bottom=typeof n.bottom!="undefined"?n.bottom:t.bottom;t.left=typeof n.left!="undefined"?n.left:t.left}},y:{get:function(){return i},set:function(n){i=d3.functor(n)}},color:{get:function(){return a},set:function(t){a=n.utils.getColor(t)}},labelType:{get:function(){return rt},set:function(n){rt=n||"key"}}}),n.utils.initOptions(e),e};n.models.pieChart=function(){"use strict";function t(s){return c.reset(),c.models(r),s.each(function(s){var h=d3.select(this),c,g,tt;n.utils.initSVG(h);var rt=this,y=(w||parseInt(h.style("width"),10)||960)-i.left-i.right,b=(p||parseInt(h.style("height"),10)||400)-i.top-i.bottom;if(t.update=function(){h.transition().call(t)},t.container=this,u.setter(d(s),t.update).getter(k(s)).update(),u.disabled=s.map(function(n){return!!n.disabled}),!o){o={};for(c in u)o[c]=u[c]instanceof Array?u[c].slice(0):u[c]}if(s&&s.length)h.selectAll(".nv-noData").remove();else return g=h.selectAll(".nv-noData").data([v]),g.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),g.attr("x",i.left+y/2).attr("y",i.top+b/2).text(function(n){return n}),t;var a=h.selectAll("g.nv-wrap.nv-pieChart").data([s]),nt=a.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),it=a.select("g");nt.append("g").attr("class","nv-pieWrap");nt.append("g").attr("class","nv-legendWrap");l&&(e.width(y).key(r.x()),a.select(".nv-legendWrap").datum(s).call(e),i.top!=e.height()&&(i.top=e.height(),b=(p||parseInt(h.style("height"))||400)-i.top-i.bottom),a.select(".nv-legendWrap").attr("transform","translate(0,"+-i.top+")"));a.attr("transform","translate("+i.left+","+i.top+")");r.width(y).height(b);tt=it.select(".nv-pieWrap").datum([s]);d3.transition(tt).call(r);e.dispatch.on("stateChange",function(n){for(var i in n)u[i]=n[i];f.stateChange(u);t.update()});r.dispatch.on("elementMouseout.tooltip",function(n){f.tooltipHide(n)});f.on("changeState",function(n){typeof n.disabled!="undefined"&&(s.forEach(function(t,i){t.disabled=n.disabled[i]}),u.disabled=n.disabled);t.update()})}),c.renderEnd("pieChart immediate"),t}var r=n.models.pie(),e=n.models.legend(),i={top:30,right:20,bottom:20,left:20},w=null,p=null,l=!0,s=n.utils.defaultColor(),h=!0,a=function(n,t,i){return'<h3 style="background-color: '+i.color+'">'+n+"<\/h3><p>"+t+"<\/p>"},u=n.utils.state(),o=null,v="No Data Available.",y=250,f=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),b=function(i,u){var f=r.x()(i.point),e=i.pos[0]+(u&&u.offsetLeft||0),o=i.pos[1]+(u&&u.offsetTop||0),s=r.valueFormat()(r.y()(i.point)),h=a(f,s,i,t);n.tooltip.show([e,o],h,i.value<0?"n":"s",null,u)},c=n.utils.renderWatch(f),k=function(n){return function(){return{active:n.map(function(n){return!n.disabled})}}},d=function(n){return function(t){t.active!==undefined&&n.forEach(function(n,i){n.disabled=!t.active[i]})}};r.dispatch.on("elementMouseover.tooltip",function(n){n.pos=[n.pos[0]+i.left,n.pos[1]+i.top];f.tooltipShow(n)});f.on("tooltipShow",function(n){h&&b(n)});f.on("tooltipHide",function(){h&&n.tooltip.cleanup()});return t.legend=e,t.dispatch=f,t.pie=r,t.options=n.utils.optionsFunc.bind(t),t._options=Object.create({},{noData:{get:function(){return v},set:function(n){v=n}},tooltipContent:{get:function(){return a},set:function(n){a=n}},tooltips:{get:function(){return h},set:function(n){h=n}},showLegend:{get:function(){return l},set:function(n){l=n}},defaultState:{get:function(){return o},set:function(n){o=n}},color:{get:function(){return s},set:function(n){s=n;e.color(s);r.color(s)}},duration:{get:function(){return y},set:function(n){y=n;c.reset(y)}}}),n.utils.inheritOptions(t,r),n.utils.initOptions(t),t};n.models.scatter=function(){"use strict";function o(ut){return l.reset(),ut.each(function(o){function si(){var n,l,y,h,w,s;if(!p)return!1;if(n=d3.merge(o.map(function(n,r){return n.values.map(function(n,u){var o=f(n,u),s=e(n,u);return[t(o)+Math.random()*1e-7,i(s)+Math.random()*1e-7,r,u,n]}).filter(function(n,t){return ct(n[4],t)})})),rt===!0){n.length<3&&(n.push([t.range()[0]-20,i.range()[0]-20,null,null]),n.push([t.range()[1]+20,i.range()[1]+20,null,null]),n.push([t.range()[0]-20,i.range()[0]+20,null,null]),n.push([t.range()[1]+20,i.range()[1]-20,null,null]));l=d3.geom.polygon([[-10,-10],[-10,v+10],[a+10,v+10],[a+10,-10]]);y=d3.geom.voronoi(n).map(function(t,i){return{data:l.clip(t),series:n[i][2],point:n[i][3]}});ut.select(".nv-point-paths").selectAll("path").remove();h=ut.select(".nv-point-paths").selectAll("path").data(y);h.enter().append("svg:path").attr("d",function(n){return n&&n.data&&n.data.length!==0?"M"+n.data.join(",")+"Z":"M 0 0"}).attr("id",function(n,t){return"nv-path-"+t}).attr("clip-path",function(n,t){return"url(#nv-clip-"+t+")"});d&&(w=ut.append("svg:g").attr("id","nv-point-clips"),w.selectAll("clipPath").data(n).enter().append("svg:clipPath").attr("id",function(n,t){return"nv-clip-"+t}).append("svg:circle").attr("cx",function(n){return n[0]}).attr("cy",function(n){return n[1]}).attr("r",vt));s=function(n,u){var s,h;if(c)return 0;(s=o[n.series],typeof s!="undefined")&&(h=s.values[n.point],u({point:h,series:s,pos:[t(f(h,n.point))+r.left,i(e(h,n.point))+r.top],seriesIndex:n.series,pointIndex:n.point}))};h.on("click",function(n){s(n,u.elementClick)}).on("dblclick",function(n){s(n,u.elementDblClick)}).on("mouseover",function(n){s(n,u.elementMouseover)}).on("mouseout",function(n){s(n,u.elementMouseout)})}else ut.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(n,s){if(c||!o[n.series])return 0;var l=o[n.series],h=l.values[s];u.elementClick({point:h,series:l,pos:[t(f(h,s))+r.left,i(e(h,s))+r.top],seriesIndex:n.series,pointIndex:s})}).on("mouseover",function(n,s){if(c||!o[n.series])return 0;var l=o[n.series],h=l.values[s];u.elementMouseover({point:h,series:l,pos:[t(f(h,s))+r.left,i(e(h,s))+r.top],seriesIndex:n.series,pointIndex:s})}).on("mouseout",function(n,t){if(c||!o[n.series])return 0;var i=o[n.series],r=i.values[t];u.elementMouseout({point:r,series:i,seriesIndex:n.series,pointIndex:t})});c=!1}var ti=d3.select(this),gt=(a||parseInt(ti.style("width"))||960)-r.left-r.right,ri=(v||parseInt(ti.style("height"))||400)-r.top-r.bottom,ii,dt,ni;n.utils.initSVG(ti);o.forEach(function(n,t){n.values.forEach(function(n){n.series=t})});ii=g&&nt&&it?[]:d3.merge(o.map(function(n){return n.values.map(function(n,t){return{x:f(n,t),y:e(n,t),size:y(n,t)}})}));t.domain(g||d3.extent(ii.map(function(n){return n.x}).concat(ot)));lt&&o[0]?t.range(tt||[(gt*k+gt)/(2*o[0].values.length),gt-gt*(1+k)/(2*o[0].values.length)]):t.range(tt||[0,gt]);i.domain(nt||d3.extent(ii.map(function(n){return n.y}).concat(st))).range(yt||[ri,0]);h.domain(it||d3.extent(ii.map(function(n){return n.size}).concat(ht))).range(pt||[16,256]);(t.domain()[0]===t.domain()[1]||i.domain()[0]===i.domain()[1])&&(bt=!0);t.domain()[0]===t.domain()[1]&&(t.domain()[0]?t.domain([t.domain()[0]-t.domain()[0]*.01,t.domain()[1]+t.domain()[1]*.01]):t.domain([-1,1]));i.domain()[0]===i.domain()[1]&&(i.domain()[0]?i.domain([i.domain()[0]-i.domain()[0]*.01,i.domain()[1]+i.domain()[1]*.01]):i.domain([-1,1]));isNaN(t.domain()[0])&&t.domain([-1,1]);isNaN(i.domain()[0])&&i.domain([-1,1]);ft=ft||t;et=et||i;wt=wt||h;var ut=ti.selectAll("g.nv-wrap.nv-scatter").data([o]),ui=ut.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+s+(bt?" nv-single-point":"")),ei=ui.append("defs"),fi=ui.append("g"),oi=ut.select("g");fi.append("g").attr("class","nv-groups");fi.append("g").attr("class","nv-point-paths");ut.attr("transform","translate("+r.left+","+r.top+")");ei.append("clipPath").attr("id","nv-edge-clip-"+s).append("rect");ut.select("#nv-edge-clip-"+s+" rect").attr("width",gt).attr("height",ri>0?ri:0);oi.attr("clip-path",at?"url(#nv-edge-clip-"+s+")":"");c=!0;dt=ut.select(".nv-groups").selectAll(".nv-group").data(function(n){return n},function(n){return n.key});dt.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);dt.exit().remove();dt.attr("class",function(n,t){return"nv-group nv-series-"+t}).classed("hover",function(n){return n.hover});dt.watchTransition(l,"scatter: groups").style("fill",function(n,t){return w(n,t)}).style("stroke",function(n,t){return w(n,t)}).style("stroke-opacity",1).style("fill-opacity",.5);ni=dt.selectAll("path.nv-point").data(function(n){return n.values});ni.enter().append("path").style("fill",function(n){return n.color}).style("stroke",function(n){return n.color}).attr("transform",function(n,t){return"translate("+ft(f(n,t))+","+et(e(n,t))+")"}).attr("d",n.utils.symbol().type(b).size(function(n,t){return h(y(n,t))}));ni.exit().remove();dt.exit().selectAll("path.nv-point").watchTransition(l,"scatter exit").attr("transform",function(n,r){return"translate("+t(f(n,r))+","+i(e(n,r))+")"}).remove();ni.each(function(n,t){d3.select(this).classed("nv-point",!0).classed("nv-point-"+t,!0).classed("hover",!1)});ni.watchTransition(l,"scatter points").attr("transform",function(n,r){return"translate("+t(f(n,r))+","+i(e(n,r))+")"}).attr("d",n.utils.symbol().type(b).size(function(n,t){return h(y(n,t))}));clearTimeout(kt);kt=setTimeout(si,300);ft=t.copy();et=i.copy();wt=h.copy()}),l.renderEnd("scatter immediate"),o}var r={top:0,right:0,bottom:0,left:0},a=null,v=null,w=n.utils.defaultColor(),s=Math.floor(Math.random()*1e5),t=d3.scale.linear(),i=d3.scale.linear(),h=d3.scale.linear(),f=function(n){return n.x},e=function(n){return n.y},y=function(n){return n.size||1},b=function(n){return n.shape||"circle"},ot=[],st=[],ht=[],p=!0,ct=function(n){return!n.notActive},lt=!1,k=.1,at=!1,d=!0,vt=function(){return 25},g=null,nt=null,tt=null,yt=null,it=null,pt=null,bt=!1,u=d3.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),rt=!0,ut=250,ft,et,wt,kt,c=!1,l=n.utils.renderWatch(u,ut);o.dispatch=u;o.options=n.utils.optionsFunc.bind(o);o._calls=new function(){this.clearHighlights=function(){return d3.selectAll(".nv-chart-"+s+" .nv-point.hover").classed("hover",!1),null};this.highlightPoint=function(n,t,i){d3.select(".nv-chart-"+s+" .nv-series-"+n+" .nv-point-"+t).classed("hover",i)}};u.on("elementMouseover.point",function(n){p&&o._calls.highlightPoint(n.seriesIndex,n.pointIndex,!0)});u.on("elementMouseout.point",function(n){p&&o._calls.highlightPoint(n.seriesIndex,n.pointIndex,!1)});return o._options=Object.create({},{width:{get:function(){return a},set:function(n){a=n}},height:{get:function(){return v},set:function(n){v=n}},xScale:{get:function(){return t},set:function(n){t=n}},yScale:{get:function(){return i},set:function(n){i=n}},pointScale:{get:function(){return h},set:function(n){h=n}},xDomain:{get:function(){return g},set:function(n){g=n}},yDomain:{get:function(){return nt},set:function(n){nt=n}},pointDomain:{get:function(){return it},set:function(n){it=n}},xRange:{get:function(){return tt},set:function(n){tt=n}},yRange:{get:function(){return yt},set:function(n){yt=n}},pointRange:{get:function(){return pt},set:function(n){pt=n}},forceX:{get:function(){return ot},set:function(n){ot=n}},forceY:{get:function(){return st},set:function(n){st=n}},forcePoint:{get:function(){return ht},set:function(n){ht=n}},interactive:{get:function(){return p},set:function(n){p=n}},pointActive:{get:function(){return ct},set:function(n){ct=n}},padDataOuter:{get:function(){return k},set:function(n){k=n}},padData:{get:function(){return lt},set:function(n){lt=n}},clipEdge:{get:function(){return at},set:function(n){at=n}},clipVoronoi:{get:function(){return d},set:function(n){d=n}},clipRadius:{get:function(){return vt},set:function(n){vt=n}},id:{get:function(){return s},set:function(n){s=n}},x:{get:function(){return f},set:function(n){f=d3.functor(n)}},y:{get:function(){return e},set:function(n){e=d3.functor(n)}},pointSize:{get:function(){return y},set:function(n){y=d3.functor(n)}},pointShape:{get:function(){return b},set:function(n){b=d3.functor(n)}},margin:{get:function(){return r},set:function(n){r.top=n.top!==undefined?n.top:r.top;r.right=n.right!==undefined?n.right:r.right;r.bottom=n.bottom!==undefined?n.bottom:r.bottom;r.left=n.left!==undefined?n.left:r.left}},duration:{get:function(){return ut},set:function(n){ut=n;l.reset(ut)}},color:{get:function(){return w},set:function(t){w=n.utils.getColor(t)}},useVoronoi:{get:function(){return rt},set:function(n){rt=n;rt===!1&&(d=!1)}}}),n.utils.initOptions(o),o};n.models.scatterChart=function(){"use strict";function i(rt){return h.reset(),h.models(r),nt&&h.models(c),tt&&h.models(e),d&&h.models(y),g&&h.models(l),rt.each(function(rt){var ft=d3.select(this),ti=this,ut,pt,bt,dt,gt,ni;if(n.utils.initSVG(ft),ut=(et||parseInt(ft.style("width"))||960)-t.left-t.right,pt=(k||parseInt(ft.style("height"))||400)-t.top-t.bottom,i.update=function(){b===0?ft.call(i):ft.transition().duration(b).call(i)},i.container=this,s.setter(vt(rt),i.update).getter(at(rt)).update(),s.disabled=rt.map(function(n){return!!n.disabled}),!p){p={};for(bt in s)p[bt]=s[bt]instanceof Array?s[bt].slice(0):s[bt]}if(rt&&rt.length&&rt.filter(function(n){return n.values.length}).length)ft.selectAll(".nv-noData").remove();else return dt=ft.selectAll(".nv-noData").data([st]),dt.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),dt.attr("x",t.left+ut/2).attr("y",t.top+pt/2).text(function(n){return n}),h.renderEnd("scatter immediate"),i;u=r.xScale();f=r.yScale();var wt=ft.selectAll("g.nv-wrap.nv-scatterChart").data([rt]),ii=wt.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+r.id()),yt=ii.append("g"),kt=wt.select("g");yt.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none");yt.append("g").attr("class","nv-x nv-axis");yt.append("g").attr("class","nv-y nv-axis");yt.append("g").attr("class","nv-scatterWrap");yt.append("g").attr("class","nv-regressionLinesWrap");yt.append("g").attr("class","nv-distWrap");yt.append("g").attr("class","nv-legendWrap");wt.attr("transform","translate("+t.left+","+t.top+")");w&&kt.select(".nv-y.nv-axis").attr("transform","translate("+ut+",0)");ot&&(v.width(ut/2),wt.select(".nv-legendWrap").datum(rt).call(v),t.top!=v.height()&&(t.top=v.height(),pt=(k||parseInt(ft.style("height"))||400)-t.top-t.bottom),wt.select(".nv-legendWrap").attr("transform","translate("+ut/2+","+-t.top+")"));r.width(ut).height(pt).color(rt.map(function(n,t){return n.color||o(n,t)}).filter(function(n,t){return!rt[t].disabled}));wt.select(".nv-scatterWrap").datum(rt.filter(function(n){return!n.disabled})).call(r);wt.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+r.id()+")");gt=wt.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(n){return n});gt.enter().append("g").attr("class","nv-regLines");ni=gt.selectAll(".nv-regLine").data(function(n){return[n]});ni.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0);ni.filter(function(n){return n.intercept&&n.slope}).watchTransition(h,"scatterPlusLineChart: regline").attr("x1",u.range()[0]).attr("x2",u.range()[1]).attr("y1",function(n){return f(u.domain()[0]*n.slope+n.intercept)}).attr("y2",function(n){return f(u.domain()[1]*n.slope+n.intercept)}).style("stroke",function(n,t,i){return o(n,i)}).style("stroke-opacity",function(n){return n.disabled||typeof n.slope=="undefined"||typeof n.intercept=="undefined"?0:1});nt&&(c.scale(u).ticks(c.ticks()?c.ticks():n.utils.calcTicksX(ut/100,rt)).tickSize(-pt,0),kt.select(".nv-x.nv-axis").attr("transform","translate(0,"+f.range()[0]+")").call(c));tt&&(e.scale(f).ticks(e.ticks()?e.ticks():n.utils.calcTicksY(pt/36,rt)).tickSize(-ut,0),kt.select(".nv-y.nv-axis").call(e));d&&(y.getData(r.x()).scale(u).width(ut).color(rt.map(function(n,t){return n.color||o(n,t)}).filter(function(n,t){return!rt[t].disabled})),yt.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),kt.select(".nv-distributionX").attr("transform","translate(0,"+f.range()[0]+")").datum(rt.filter(function(n){return!n.disabled})).call(y));g&&(l.getData(r.y()).scale(f).width(pt).color(rt.map(function(n,t){return n.color||o(n,t)}).filter(function(n,t){return!rt[t].disabled})),yt.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),kt.select(".nv-distributionY").attr("transform","translate("+(w?ut:-l.size())+",0)").datum(rt.filter(function(n){return!n.disabled})).call(l));v.dispatch.on("stateChange",function(n){for(var t in n)s[t]=n[t];a.stateChange(s);i.update()});r.dispatch.on("elementMouseover.tooltip",function(n){d3.select(".nv-chart-"+r.id()+" .nv-series-"+n.seriesIndex+" .nv-distx-"+n.pointIndex).attr("y1",n.pos[1]-pt);d3.select(".nv-chart-"+r.id()+" .nv-series-"+n.seriesIndex+" .nv-disty-"+n.pointIndex).attr("x2",n.pos[0]+y.size());n.pos=[n.pos[0]+t.left,n.pos[1]+t.top];a.tooltipShow(n)});a.on("tooltipShow",function(n){it&&lt(n,ti.parentNode)});a.on("changeState",function(n){typeof n.disabled!="undefined"&&(rt.forEach(function(t,i){t.disabled=n.disabled[i]}),s.disabled=n.disabled);i.update()});ht=u.copy();ct=f.copy()}),h.renderEnd("scatter with line immediate"),i}var r=n.models.scatter(),c=n.models.axis(),e=n.models.axis(),v=n.models.legend(),y=n.models.distribution(),l=n.models.distribution(),t={top:30,right:20,bottom:50,left:75},et=null,k=null,o=n.utils.defaultColor(),u=r.xScale(),f=r.yScale(),d=!1,g=!1,ot=!0,nt=!0,tt=!0,w=!1,it=!0,rt=function(n,t){return"<strong>"+t+"<\/strong>"},ut=function(n,t,i){return"<strong>"+i+"<\/strong>"},ft=function(n,t,i,r){return"<h3>"+n+"<\/h3><p>"+r+"<\/p>"},s=n.utils.state(),p=null,a=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),st="No Data Available.",b=250;r.xScale(u).yScale(f);c.orient("bottom").tickPadding(10);e.orient(w?"right":"left").tickPadding(10);y.axis("x");l.axis("y");var ht,ct,h=n.utils.renderWatch(a,b),lt=function(o,s){var a=o.pos[0]+(s.offsetLeft||0),v=o.pos[1]+(s.offsetTop||0),y=o.pos[0]+(s.offsetLeft||0),p=f.range()[0]+t.top+(s.offsetTop||0),w=u.range()[0]+t.left+(s.offsetLeft||0),b=o.pos[1]+(s.offsetTop||0),h=c.tickFormat()(r.x()(o.point,o.pointIndex)),l=e.tickFormat()(r.y()(o.point,o.pointIndex));rt!=null&&n.tooltip.show([y,p],rt(o.series.key,h,l,o,i),"n",1,s,"x-nvtooltip");ut!=null&&n.tooltip.show([w,b],ut(o.series.key,h,l,o,i),"e",1,s,"y-nvtooltip");ft!=null&&n.tooltip.show([a,v],ft(o.series.key,h,l,o.point.tooltip,o,i),o.value<0?"n":"s",null,s)},at=function(n){return function(){return{active:n.map(function(n){return!n.disabled})}}},vt=function(n){return function(t){t.active!==undefined&&n.forEach(function(n,i){n.disabled=!t.active[i]})}};r.dispatch.on("elementMouseout.tooltip",function(n){a.tooltipHide(n);d3.select(".nv-chart-"+r.id()+" .nv-series-"+n.seriesIndex+" .nv-distx-"+n.pointIndex).attr("y1",0);d3.select(".nv-chart-"+r.id()+" .nv-series-"+n.seriesIndex+" .nv-disty-"+n.pointIndex).attr("x2",l.size())});a.on("tooltipHide",function(){it&&n.tooltip.cleanup()});return i.dispatch=a,i.scatter=r,i.legend=v,i.xAxis=c,i.yAxis=e,i.distX=y,i.distY=l,i._options=Object.create({},{width:{get:function(){return et},set:function(n){et=n}},height:{get:function(){return k},set:function(n){k=n}},showDistX:{get:function(){return d},set:function(n){d=n}},showDistY:{get:function(){return g},set:function(n){g=n}},showLegend:{get:function(){return ot},set:function(n){ot=n}},showXAxis:{get:function(){return nt},set:function(n){nt=n}},showYAxis:{get:function(){return tt},set:function(n){tt=n}},tooltips:{get:function(){return it},set:function(n){it=n}},tooltipContent:{get:function(){return ft},set:function(n){ft=n}},tooltipXContent:{get:function(){return rt},set:function(n){rt=n}},tooltipYContent:{get:function(){return ut},set:function(n){ut=n}},defaultState:{get:function(){return p},set:function(n){p=n}},noData:{get:function(){return st},set:function(n){st=n}},duration:{get:function(){return b},set:function(n){b=n}},margin:{get:function(){return t},set:function(n){t.top=n.top!==undefined?n.top:t.top;t.right=n.right!==undefined?n.right:t.right;t.bottom=n.bottom!==undefined?n.bottom:t.bottom;t.left=n.left!==undefined?n.left:t.left}},rightAlignYAxis:{get:function(){return w},set:function(n){w=n;e.orient(n?"right":"left")}},color:{get:function(){return o},set:function(t){o=n.utils.getColor(t);v.color(o);y.color(o);l.color(o)}}}),n.utils.inheritOptions(i,r),n.utils.initOptions(i),i};n.models.sparkline=function(){"use strict";function e(y){return y.each(function(e){var k=o-t.left-t.right,d=s-t.top-t.bottom,b=d3.select(this),p,w;n.utils.initSVG(b);u.domain(c||d3.extent(e,f)).range(a||[0,k]);i.domain(l||d3.extent(e,r)).range(v||[d,0]);var y=b.selectAll("g.nv-wrap.nv-sparkline").data([e]),g=y.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline"),nt=g.append("g"),tt=y.select("g");y.attr("transform","translate("+t.left+","+t.top+")");p=y.selectAll("path").data(function(n){return[n]});p.enter().append("path");p.exit().remove();p.style("stroke",function(n,t){return n.color||h(n,t)}).attr("d",d3.svg.line().x(function(n,t){return u(f(n,t))}).y(function(n,t){return i(r(n,t))}));w=y.selectAll("circle.nv-point").data(function(n){function u(t){if(t!=-1){var i=n[t];return i.pointIndex=t,i}return null}var t=n.map(function(n,t){return r(n,t)}),f=u(t.lastIndexOf(i.domain()[1])),e=u(t.indexOf(i.domain()[0])),o=u(t.length-1);return[e,f,o].filter(function(n){return n!=null})});w.enter().append("circle");w.exit().remove();w.attr("cx",function(n){return u(f(n,n.pointIndex))}).attr("cy",function(n){return i(r(n,n.pointIndex))}).attr("r",2).attr("class",function(n){return f(n,n.pointIndex)==u.domain()[1]?"nv-point nv-currentValue":r(n,n.pointIndex)==i.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})}),e}var t={top:2,right:0,bottom:2,left:0},o=400,s=32,y=!0,u=d3.scale.linear(),i=d3.scale.linear(),f=function(n){return n.x},r=function(n){return n.y},h=n.utils.getColor(["#000"]),c,l,a,v;return e.options=n.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return o},set:function(n){o=n}},height:{get:function(){return s},set:function(n){s=n}},xDomain:{get:function(){return c},set:function(n){c=n}},yDomain:{get:function(){return l},set:function(n){l=n}},xRange:{get:function(){return a},set:function(n){a=n}},yRange:{get:function(){return v},set:function(n){v=n}},xScale:{get:function(){return u},set:function(n){u=n}},yScale:{get:function(){return i},set:function(n){i=n}},animate:{get:function(){return y},set:function(n){y=n}},x:{get:function(){return f},set:function(n){f=d3.functor(n)}},y:{get:function(){return r},set:function(n){r=d3.functor(n)}},margin:{get:function(){return t},set:function(n){t.top=n.top!==undefined?n.top:t.top;t.right=n.right!==undefined?n.right:t.right;t.bottom=n.bottom!==undefined?n.bottom:t.bottom;t.left=n.left!==undefined?n.left:t.left}},color:{get:function(){return h},set:function(t){h=n.utils.getColor(t)}}}),n.utils.initOptions(e),e};n.models.sparklinePlus=function(){"use strict";function r(p){return p.each(function(w){function ot(){if(!e){var n=k.selectAll(".nv-hoverValue").data(u),r=n.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);(n.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),n.attr("transform",function(n){return"translate("+c(i.x()(w[n],n))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),u.length)&&(r.append("line").attr("x1",0).attr("y1",-t.top).attr("x2",0).attr("y2",g),r.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-t.top).attr("text-anchor","end").attr("dy",".9em"),k.select(".nv-hoverValue .nv-xValue").text(l(i.x()(w[u[0]],u[0]))),r.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-t.top).attr("text-anchor","start").attr("dy",".9em"),k.select(".nv-hoverValue .nv-yValue").text(o(i.y()(w[u[0]],u[0]))))}}function ht(){function r(n,t){for(var u=Math.abs(i.x()(n[0],0)-t),f=0,r=0;r<n.length;r++)Math.abs(i.x()(n[r],r)-t)<u&&(u=Math.abs(i.x()(n[r],r)-t),f=r);return f}if(!e){var n=d3.mouse(this)[0]-t.left;u=[r(w,Math.round(c.invert(n)))];ot()}}var b=d3.select(this),d,g,tt,it,ft,et,ut;if(n.utils.initSVG(b),d=(s||parseInt(b.style("width"))||960)-t.left-t.right,g=(h||parseInt(b.style("height"))||400)-t.top-t.bottom,r.update=function(){r(p)},r.container=this,w&&w.length)b.selectAll(".nv-noData").remove();else return tt=b.selectAll(".nv-noData").data([v]),tt.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),tt.attr("x",t.left+d/2).attr("y",t.top+g/2).text(function(n){return n}),r;it=i.y()(w[w.length-1],w.length-1);c=i.xScale();y=i.yScale();var rt=b.selectAll("g.nv-wrap.nv-sparklineplus").data([w]),st=rt.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus"),nt=st.append("g"),k=rt.select("g");nt.append("g").attr("class","nv-sparklineWrap");nt.append("g").attr("class","nv-valueWrap");nt.append("g").attr("class","nv-hoverArea");rt.attr("transform","translate("+t.left+","+t.top+")");ft=k.select(".nv-sparklineWrap");i.width(d).height(g);ft.call(i);et=k.select(".nv-valueWrap");ut=et.selectAll(".nv-currentValue").data([it]);ut.enter().append("text").attr("class","nv-currentValue").attr("dx",f?-8:8).attr("dy",".9em").style("text-anchor",f?"end":"start");ut.attr("x",d+(f?t.right:0)).attr("y",a?function(n){return y(n)}:0).style("fill",i.color()(w[w.length-1],w.length-1)).text(o(it));nt.select(".nv-hoverArea").append("rect").on("mousemove",ht).on("click",function(){e=!e}).on("mouseout",function(){u=[];ot()});k.select(".nv-hoverArea rect").attr("transform",function(){return"translate("+-t.left+","+-t.top+")"}).attr("width",d+t.left+t.right).attr("height",g+t.top)}),r}var i=n.models.sparkline(),t={top:15,right:100,bottom:10,left:50},s=null,h=null,c,y,u=[],e=!1,l=d3.format(",r"),o=d3.format(",.2f"),p=!0,a=!0,f=!1,v="No Data Available.";return r.sparkline=i,r.options=n.utils.optionsFunc.bind(r),r._options=Object.create({},{width:{get:function(){return s},set:function(n){s=n}},height:{get:function(){return h},set:function(n){h=n}},xTickFormat:{get:function(){return l},set:function(n){l=n}},yTickFormat:{get:function(){return o},set:function(n){o=n}},showValue:{get:function(){return p},set:function(n){p=n}},alignValue:{get:function(){return a},set:function(n){a=n}},rightAlignValue:{get:function(){return f},set:function(n){f=n}},noData:{get:function(){return v},set:function(n){v=n}},margin:{get:function(){return t},set:function(n){t.top=n.top!==undefined?n.top:t.top;t.right=n.right!==undefined?n.right:t.right;t.bottom=n.bottom!==undefined?n.bottom:t.bottom;t.left=n.left!==undefined?n.left:t.left}}}),n.utils.inheritOptions(r,i),n.utils.initOptions(r),r};n.models.stackedArea=function(){"use strict";function t(u){return e.reset(),e.models(r),u.each(function(u){var it=v-i.left-i.right,rt=y-i.top-i.bottom,ut=d3.select(this),tt,ft,st;n.utils.initSVG(ut);d=r.xScale();a=r.yScale();tt=u;u.forEach(function(n,t){n.seriesIndex=t;n.values=n.values.map(function(n,i){return n.index=i,n.seriesIndex=t,n})});ft=u.filter(function(n){return!n.disabled});u=d3.layout.stack().order(b).offset(w).values(function(n){return n.values}).x(o).y(c).out(function(n,t,i){var r=c(n)===0?0:i;n.display={y:r,y0:t}})(ft);var g=ut.selectAll("g.nv-wrap.nv-stackedarea").data([u]),et=g.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),ht=et.append("defs"),ot=et.append("g"),p=g.select("g");ot.append("g").attr("class","nv-areaWrap");ot.append("g").attr("class","nv-scatterWrap");g.attr("transform","translate("+i.left+","+i.top+")");r.width(it).height(rt).x(o).y(function(n){return n.display.y+n.display.y0}).forceY([0]).color(u.map(function(n){return n.color||s(n,n.seriesIndex)}));st=p.select(".nv-scatterWrap").datum(u);st.call(r);ht.append("clipPath").attr("id","nv-edge-clip-"+h).append("rect");g.select("#nv-edge-clip-"+h+" rect").attr("width",it).attr("height",rt);p.attr("clip-path",k?"url(#nv-edge-clip-"+h+")":"");var ct=d3.svg.area().x(function(n,t){return d(o(n,t))}).y0(function(n){return a(n.display.y0)}).y1(function(n){return a(n.display.y+n.display.y0)}).interpolate(l),lt=d3.svg.area().x(function(n,t){return d(o(n,t))}).y0(function(n){return a(n.display.y0)}).y1(function(n){return a(n.display.y0)}),nt=p.select(".nv-areaWrap").selectAll("path.nv-area").data(function(n){return n});nt.enter().append("path").attr("class",function(n,t){return"nv-area nv-area-"+t}).attr("d",function(n){return lt(n.values,n.seriesIndex)}).on("mouseover",function(n){d3.select(this).classed("hover",!0);f.areaMouseover({point:n,series:n.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:n.seriesIndex})}).on("mouseout",function(n){d3.select(this).classed("hover",!1);f.areaMouseout({point:n,series:n.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:n.seriesIndex})}).on("click",function(n){d3.select(this).classed("hover",!1);f.areaClick({point:n,series:n.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:n.seriesIndex})});nt.exit().remove();nt.style("fill",function(n){return n.color||s(n,n.seriesIndex)}).style("stroke",function(n){return n.color||s(n,n.seriesIndex)});nt.watchTransition(e,"stackedArea path").attr("d",function(n,t){return ct(n.values,t)});r.dispatch.on("elementMouseover.area",function(n){p.select(".nv-chart-"+h+" .nv-area-"+n.seriesIndex).classed("hover",!0)});r.dispatch.on("elementMouseout.area",function(n){p.select(".nv-chart-"+h+" .nv-area-"+n.seriesIndex).classed("hover",!1)});t.d3_stackedOffset_stackPercent=function(n){for(var u=n.length,f=n[0].length,o=1/u,t,r,e=[],i=0;i<f;++i){for(t=0,r=0;t<tt.length;t++)r+=c(tt[t].values[i]);if(r)for(t=0;t<u;t++)n[t][i][1]/=r;else for(t=0;t<u;t++)n[t][i][1]=o}for(i=0;i<f;++i)e[i]=0;return e}}),e.renderEnd("stackedArea immediate"),t}var i={top:0,right:0,bottom:0,left:0},v=960,y=500,s=n.utils.defaultColor(),h=Math.floor(Math.random()*1e5),o=function(n){return n.x},c=function(n){return n.y},p="stack",w="zero",b="default",l="linear",k=!1,d,a,r=n.models.scatter(),u=250,f=d3.dispatch("tooltipShow","tooltipHide","areaClick","areaMouseover","areaMouseout","renderEnd"),e;r.interactive(!1);r.pointSize(2.2).pointDomain([2.2,2.2]);e=n.utils.renderWatch(f,u);r.dispatch.on("elementClick.area",function(n){f.areaClick(n)});r.dispatch.on("elementMouseover.tooltip",function(n){n.pos=[n.pos[0]+i.left,n.pos[1]+i.top];f.tooltipShow(n)});r.dispatch.on("elementMouseout.tooltip",function(n){f.tooltipHide(n)});return t.dispatch=f,t.scatter=r,t.interpolate=function(n){return arguments.length?(l=n,t):l},t.duration=function(n){return arguments.length?(u=n,e.reset(u),r.duration(u),t):u},t.dispatch=f,t.options=n.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return v},set:function(n){v=n}},height:{get:function(){return y},set:function(n){y=n}},clipEdge:{get:function(){return k},set:function(n){k=n}},offset:{get:function(){return w},set:function(n){w=n}},order:{get:function(){return b},set:function(n){b=n}},interpolate:{get:function(){return l},set:function(n){l=n}},x:{get:function(){return o},set:function(n){o=d3.functor(n)}},y:{get:function(){return c},set:function(n){c=d3.functor(n)}},margin:{get:function(){return i},set:function(n){i.top=n.top!==undefined?n.top:i.top;i.right=n.right!==undefined?n.right:i.right;i.bottom=n.bottom!==undefined?n.bottom:i.bottom;i.left=n.left!==undefined?n.left:i.left}},color:{get:function(){return s},set:function(t){s=n.utils.getColor(t)}},style:{get:function(){return p},set:function(n){p=n;switch(p){case"stack":t.offset("zero");t.order("default");break;case"stream":t.offset("wiggle");t.order("inside-out");break;case"stream-center":t.offset("silhouette");t.order("inside-out");break;case"expand":t.offset("expand");t.order("default");break;case"stack_percent":t.offset(t.d3_stackedOffset_stackPercent);t.order("default")}}},duration:{get:function(){return u},set:function(n){u=n;e.reset(u);r.duration(u)}}}),n.utils.inheritOptions(t,r),n.utils.initOptions(t),t};n.models.stackedAreaChart=function(){"use strict";function i(ut){return y.reset(),y.models(r),g&&y.models(s),nt&&y.models(e),ut.each(function(y){var pt=d3.select(this),ri=this,ut,wt,gt,ti,ii,dt,ui;if(n.utils.initSVG(pt),ut=(tt||parseInt(pt.style("width"))||960)-t.left-t.right,wt=(p||parseInt(pt.style("height"))||400)-t.top-t.bottom,i.update=function(){pt.transition().duration(l).call(i)},i.container=this,u.setter(yt(y),i.update).getter(vt(y)).update(),u.disabled=y.map(function(n){return!!n.disabled}),!a){a={};for(gt in u)a[gt]=u[gt]instanceof Array?u[gt].slice(0):u[gt]}if(y&&y.length&&y.filter(function(n){return n.values.length}).length)pt.selectAll(".nv-noData").remove();else return ti=pt.selectAll(".nv-noData").data([ot]),ti.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),ti.attr("x",t.left+ut/2).attr("y",t.top+wt/2).text(function(n){return n}),i;ft=r.xScale();ht=r.yScale();var ni=pt.selectAll("g.nv-wrap.nv-stackedAreaChart").data([y]),kt=ni.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),bt=ni.select("g");kt.append("rect").style("opacity",0);kt.append("g").attr("class","nv-x nv-axis");kt.append("g").attr("class","nv-y nv-axis");kt.append("g").attr("class","nv-stackedWrap");kt.append("g").attr("class","nv-legendWrap");kt.append("g").attr("class","nv-controlsWrap");kt.append("g").attr("class","nv-interactive");bt.select("rect").attr("width",ut).attr("height",wt);it&&(ii=d?ut-st:ut,o.width(ii),bt.select(".nv-legendWrap").datum(y).call(o),t.top!=o.height()&&(t.top=o.height(),wt=(p||parseInt(pt.style("height"))||400)-t.top-t.bottom),bt.select(".nv-legendWrap").attr("transform","translate("+(ut-ii)+","+-t.top+")"));d&&(dt=[{key:v.stacked||"Stacked",metaKey:"Stacked",disabled:r.style()!="stack",style:"stack"},{key:v.stream||"Stream",metaKey:"Stream",disabled:r.style()!="stream",style:"stream"},{key:v.expanded||"Expanded",metaKey:"Expanded",disabled:r.style()!="expand",style:"expand"},{key:v.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:r.style()!="stack_percent",style:"stack_percent"}],st=ct.length/3*260,dt=dt.filter(function(n){return ct.indexOf(n.metaKey)!==-1}),h.width(st).color(["#444","#444","#444"]),bt.select(".nv-controlsWrap").datum(dt).call(h),t.top!=Math.max(h.height(),o.height())&&(t.top=Math.max(h.height(),o.height()),wt=(p||parseInt(pt.style("height"))||400)-t.top-t.bottom),bt.select(".nv-controlsWrap").attr("transform","translate(0,"+-t.top+")"));ni.attr("transform","translate("+t.left+","+t.top+")");b&&bt.select(".nv-y.nv-axis").attr("transform","translate("+ut+",0)");rt&&(c.width(ut).height(wt).margin({left:t.left,top:t.top}).svgContainer(pt).xScale(ft),ni.select(".nv-interactive").call(c));r.width(ut).height(wt);ui=bt.select(".nv-stackedWrap").datum(y);ui.transition().call(r);g&&(s.scale(ft).ticks(n.utils.calcTicksX(ut/100,y)).tickSize(-wt,0),bt.select(".nv-x.nv-axis").attr("transform","translate(0,"+wt+")"),bt.select(".nv-x.nv-axis").transition().duration(0).call(s));nt&&(e.scale(ht).ticks(r.offset()=="wiggle"?0:n.utils.calcTicksY(wt/36,y)).tickSize(-ut,0).setTickFormat(r.style()=="expand"||r.style()=="stack_percent"?d3.format("%"):et),bt.select(".nv-y.nv-axis").transition().duration(0).call(e));r.dispatch.on("areaClick.toggle",function(n){y.filter(function(n){return!n.disabled}).length===1?y.forEach(function(n){n.disabled=!1}):y.forEach(function(t,i){t.disabled=i!=n.seriesIndex});u.disabled=y.map(function(n){return!!n.disabled});f.stateChange(u);i.update()});o.dispatch.on("stateChange",function(n){for(var t in n)u[t]=n[t];f.stateChange(u);i.update()});h.dispatch.on("legendClick",function(n){n.disabled&&(dt=dt.map(function(n){return n.disabled=!0,n}),n.disabled=!1,r.style(n.style),u.style=r.style(),f.stateChange(u),i.update())});c.dispatch.on("elementMousemove",function(u){var a,o,h,f,p,b;if(r.clearHighlights(),f=[],y.filter(function(n,t){return n.seriesIndex=t,!n.disabled}).forEach(function(t,e){var s,c;(o=n.interactiveBisect(t.values,u.pointXValue,i.x()),r.highlightPoint(e,o,!0),s=t.values[o],typeof s!="undefined")&&(typeof a=="undefined"&&(a=s),typeof h=="undefined"&&(h=i.xScale()(i.x()(s,o))),c=r.style()=="expand"?s.display.y:i.y()(s,o),f.push({key:t.key,value:c,color:w(t,t.seriesIndex),stackedValue:s.display}))}),f.reverse(),f.length>2){var l=i.yScale().invert(u.mouseY),v=null;f.forEach(function(n,t){l=Math.abs(l);var i=Math.abs(n.stackedValue.y0),r=Math.abs(n.stackedValue.y);if(l>=i&&l<=r+i){v=t;return}});v!=null&&(f[v].highlight=!0)}p=s.tickFormat()(i.x()(a,o));b=r.style()=="expand"?function(n){return d3.format(".1%")(n)}:function(n){return e.tickFormat()(n)};c.tooltip.position({left:h+t.left,top:u.mouseY+t.top}).chartContainer(ri.parentNode).enabled(k).valueFormatter(b).data({value:p,series:f})();c.renderGuideLine(h)});c.dispatch.on("elementMouseout",function(){f.tooltipHide();r.clearHighlights()});f.on("tooltipShow",function(n){k&&at(n,ri.parentNode)});f.on("changeState",function(n){typeof n.disabled!="undefined"&&y.length===n.disabled.length&&(y.forEach(function(t,i){t.disabled=n.disabled[i]}),u.disabled=n.disabled);typeof n.style!="undefined"&&(r.style(n.style),lt=n.style);i.update()})}),y.renderEnd("stacked Area chart immediate"),i}var r=n.models.stackedArea(),s=n.models.axis(),e=n.models.axis(),o=n.models.legend(),h=n.models.legend(),c=n.interactiveGuideline(),t={top:30,right:25,bottom:50,left:60},tt=null,p=null,w=n.utils.defaultColor(),d=!0,it=!0,g=!0,nt=!0,b=!1,rt=!1,k=!0,ut=function(n,t,i){return"<h3>"+n+"<\/h3><p>"+i+" on "+t+"<\/p>"},ft,ht,et=d3.format(",.2f"),u=n.utils.state(),a=null,ot="No Data Available.",f=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),st=250,ct=["Stacked","Stream","Expanded"],v={},l=250;u.style=r.style();s.orient("bottom").tickPadding(7);e.orient(b?"right":"left");h.updateState(!1);var y=n.utils.renderWatch(f),lt=r.style(),at=function(t,u){var f=t.pos[0]+(u.offsetLeft||0),o=t.pos[1]+(u.offsetTop||0),h=s.tickFormat()(r.x()(t.point,t.pointIndex)),c=e.tickFormat()(r.y()(t.point,t.pointIndex)),l=ut(t.series.key,h,c,t,i);n.tooltip.show([f,o],l,t.value<0?"n":"s",null,u)},vt=function(n){return function(){return{active:n.map(function(n){return!n.disabled}),style:r.style()}}},yt=function(n){return function(t){t.style!==undefined&&(lt=t.style);t.active!==undefined&&n.forEach(function(n,i){n.disabled=!t.active[i]})}};r.dispatch.on("tooltipShow",function(n){n.pos=[n.pos[0]+t.left,n.pos[1]+t.top];f.tooltipShow(n)});r.dispatch.on("tooltipHide",function(n){f.tooltipHide(n)});f.on("tooltipHide",function(){k&&n.tooltip.cleanup()});return i.dispatch=f,i.stacked=r,i.legend=o,i.controls=h,i.xAxis=s,i.yAxis=e,i.interactiveLayer=c,e.setTickFormat=e.tickFormat,i.dispatch=f,i.options=n.utils.optionsFunc.bind(i),i._options=Object.create({},{width:{get:function(){return tt},set:function(n){tt=n}},height:{get:function(){return p},set:function(n){p=n}},showLegend:{get:function(){return it},set:function(n){it=n}},showXAxis:{get:function(){return g},set:function(n){g=n}},showYAxis:{get:function(){return nt},set:function(n){nt=n}},tooltips:{get:function(){return k},set:function(n){k=n}},tooltipContent:{get:function(){return ut},set:function(n){ut=n}},defaultState:{get:function(){return a},set:function(n){a=n}},noData:{get:function(){return ot},set:function(n){ot=n}},showControls:{get:function(){return d},set:function(n){d=n}},controlLabels:{get:function(){return v},set:function(n){v=n}},yAxisTickFormat:{get:function(){return et},set:function(n){et=n}},margin:{get:function(){return t},set:function(n){t.top=n.top!==undefined?n.top:t.top;t.right=n.right!==undefined?n.right:t.right;t.bottom=n.bottom!==undefined?n.bottom:t.bottom;t.left=n.left!==undefined?n.left:t.left}},duration:{get:function(){return l},set:function(n){l=n;y.reset(l);r.duration(l);s.duration(l);e.duration(l)}},color:{get:function(){return w},set:function(t){w=n.utils.getColor(t);o.color(w);r.color(w)}},rightAlignYAxis:{get:function(){return b},set:function(n){b=n;e.orient(b?"right":"left")}},useInteractiveGuideline:{get:function(){return rt},set:function(n){rt=!!n;n&&(i.interactive(!1),i.useVoronoi(!1))}}}),n.utils.inheritOptions(i,r),n.utils.initOptions(i),i};n.version="1.7.1"})();