/**
 * adapt-strap
 * @version v2.2.1 - 2015-03-26
 * @link https://github.com/Adaptv/adapt-strap
 * @author Kashyap Patel (kashyap@adap.tv)
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
(function(n,t,i){"use strict";angular.module("adaptv.adaptStrap",["adaptv.adaptStrap.utils","adaptv.adaptStrap.treebrowser","adaptv.adaptStrap.tablelite","adaptv.adaptStrap.tableajax","adaptv.adaptStrap.loadingindicator","adaptv.adaptStrap.draggable","adaptv.adaptStrap.infinitedropdown","adaptv.adaptStrap.alerts"]).provider("$adConfig",function(){var n=this.iconClasses={expand:"glyphicon glyphicon-plus-sign",collapse:"glyphicon glyphicon-minus-sign",loadingSpinner:"glyphicon glyphicon-refresh ad-spin",firstPage:"glyphicon glyphicon-fast-backward",previousPage:"glyphicon glyphicon-backward",nextPage:"glyphicon glyphicon-forward",lastPage:"glyphicon glyphicon-fast-forward",sortAscending:"glyphicon glyphicon-chevron-up",sortDescending:"glyphicon glyphicon-chevron-down",sortable:"glyphicon glyphicon-resize-vertical",draggable:"glyphicon glyphicon-align-justify",selectedItem:"glyphicon glyphicon-ok",alertInfoSign:"glyphicon glyphicon-info-sign",alertSuccessSign:"glyphicon glyphicon-ok",alertWarningSign:"glyphicon glyphicon-warning-sign",alertDangerSign:"glyphicon glyphicon-exclamation-sign"},t=this.paging={request:{start:"skip",pageSize:"limit",page:"page",sortField:"sort",sortDirection:"sort_dir",sortAscValue:"asc",sortDescValue:"desc"},response:{itemsLocation:"data",totalItems:"pagination.totalCount"},pageSize:10,pageSizes:[10,25,50]},i=this.componentClasses={tableLiteClass:"table",tableAjaxClass:"table"};this.$get=function(){return{iconClasses:n,paging:t,componentClasses:i}}});angular.module("adaptv.adaptStrap.alerts",[]).directive("adAlerts",[function(){function n(n,t,i,r,u){n.iconMap={info:r.iconClasses.alertInfoSign,success:r.iconClasses.alertSuccessSign,warning:r.iconClasses.alertWarningSign,danger:r.iconClasses.alertDangerSign};var e=n.timeout&&!Number(e).isNAN?n.timeout:0,f;n.close=function(){u.clear();f&&i.cancel(f)};n.customClasses=n.customClasses||"";n.settings=u.settings;e!==0&&n.$watch("settings.type",function(t){t!==""&&(f&&i.cancel(f),f=i(n.close,e))})}return{restrict:"AE",scope:{timeout:"=",customClasses:"@"},templateUrl:"alerts/alerts.tpl.html",controller:["$scope","$attrs","$timeout","$adConfig","adAlerts",n]}}]);angular.module("adaptv.adaptStrap.alerts").factory("adAlerts",[function(){function i(n,i){t("warning",n,i)}function r(n,i){t("info",n,i)}function u(n,i){t("success",n,i)}function f(n,i){t("danger",n,i)}function t(t,i,r){n.type=t;n.caption=i;n.message=r}function e(){n.type="";n.caption="";n.message=""}var n={type:"",caption:"",message:""};return{settings:n,warning:i,info:r,success:u,error:f,clear:e}}]);angular.module("adaptv.adaptStrap.draggable",[]).directive("adDrag",["$rootScope","$parse","$timeout",function(i,r,u){function f(f,e,o){function st(){e.attr("draggable","false");it(!0)}function it(n){if(n){if(f.$on("$destroy",lt),o.$observe("adDrag",vt),f.$watch(o.adDragData,at),f.$on("draggable:start",ht),f.$on("draggable:end",ct),f.hasHandle)e.on(nt,".ad-drag-handle",rt);else{e.on(nt,rt);e.addClass("ad-draggable")}if(!g){e.on("mousedown",".ad-drag-handle",function(){return!1});e.on("mousedown",function(){return!1})}}}function ht(n,t){t.el===e&&t.callback&&t.callback(n)}function ct(n,t){t.el===e&&t.callback&&t.callback(n)}function lt(){it(!1)}function at(n){f.data=n}function vt(n){p=f.$eval(n)}function rt(n){if(p)if(g){y();tt=setTimeout(function(){y();ut(n)},100);s.on(w,y);s.on(b,y)}else ut(n)}function d(n,t){var i=$(t).attr("style"),r;return i&&i.split(";").forEach(function(t){var i=t.split(":");$.trim(i[0])===n&&(r=i[1])}),r}function yt(){d("width",e)&&e.data("ad-draggable-temp-width",d("width",e));e.width(e.width());e.children().each(function(){d("width",this)&&$(this).data("ad-draggable-temp-width",d("width",this));$(this).width($(this).width())})}function y(){clearTimeout(tt);s.off(w,y);s.off(b,y)}function ut(n){if(p){n.preventDefault();h=e.offset();h=f.hasHandle?e.find(".ad-drag-handle").offset():e.offset();e.addClass("ad-dragging");a=n.pageX||n.originalEvent.touches[0].pageX;v=n.pageY||n.originalEvent.touches[0].pageY;c=a-h.left-k.scrollLeft();l=v-h.top-k.scrollTop();yt();ot(c,l);s.on(w,ft);s.on(b,et);i.$broadcast("draggable:start",{x:a,y:v,tx:c,ty:l,el:e,data:f.data,callback:pt})}}function ft(n){var t,r;p&&(n.preventDefault(),t=n.pageX||n.originalEvent.touches[0].pageX,r=n.pageY||n.originalEvent.touches[0].pageY,c=t-a+h.left-k.scrollLeft(),l=r-v+h.top-k.scrollTop(),ot(c,l),i.$broadcast("draggable:move",{x:a,y:v,tx:c,ty:l,el:e,data:f.data}))}function et(n){p&&(n.preventDefault(),i.$broadcast("draggable:end",{x:a,y:v,tx:c,ty:l,el:e,data:f.data,callback:wt}),e.removeClass("ad-dragging"),bt(),s.off(w,ft),s.off(b,et))}function pt(n){f.onDragStartCallback&&f.$apply(function(){f.onDragStartCallback(f,{$data:f.data,$dragElement:{el:e},$event:n})})}function wt(n){f.onDragEndCallback&&u(function(){f.$apply(function(){f.onDragEndCallback(f,{$data:f.data,$dragElement:{el:e},$event:n})})},100)}function bt(){e.css({left:"",top:"",position:"","z-index":""});var n=e.data("ad-draggable-temp-width");n?e.css({width:n}):e.css({width:""});e.children().each(function(){var n=$(this).data("ad-draggable-temp-width");n?$(this).css({width:n}):$(this).css({width:""})})}function ot(n,t){e.css({left:n,top:t,position:"fixed","z-index":99999})}f.draggable=o.adDrag;f.hasHandle=o.adDragHandle==="false"||typeof o.adDragHandle=="undefined"?!1:!0;f.onDragStartCallback=r(o.adDragBegin)||null;f.onDragEndCallback=r(o.adDragEnd)||null;f.data=null;var h,a,v,c,l,g="ontouchstart"in t.documentElement,nt="touchstart mousedown",w="touchmove mousemove",b="touchend mouseup",s=$(t),k=$(n),p=!1,tt=null;st()}return{restrict:"A",link:f}}]).directive("adDrop",["$rootScope","$parse",function(t,i){function r(r,u,f){function c(){h(!0)}function h(n){n&&(f.$observe("adDrop",a),r.$on("$destroy",l),r.$on("draggable:move",y),r.$on("draggable:end",p),r.$on("draggable:change",v))}function l(){h(!1)}function a(n){o=r.$eval(n)}function v(n,t){e!==t.el&&(e=null)}function y(n,i){if(o&&u!==i.el){var f=w(i.tx,i.ty,i.el);f!==null?(e=f,i.el.lastDropElement=e,r.$apply(function(){r.onDropOverCallback(r,{$data:i.data,$dragElement:{el:i.el},$dropElement:{el:e},$event:n})}),u.addClass("ad-drop-over"),t.$broadcast("draggable:change",{el:e})):i.el.lastDropElement===u&&(r.$apply(function(){r.onDropLeaveCallback(r,{$data:i.data,$dragElement:{el:i.el},$dropElement:{el:i.el.lastDropElement},$event:n})}),i.el.lastDropElement.removeClass("ad-drop-over"),delete i.el.lastDropElement)}}function p(n,t){o&&e&&(r.$apply(function(){r.onDropCallback(r,{$data:t.data,$dragElement:{el:t.el},$dropElement:{el:e},$event:n})}),e=null)}function w(n,t){var i=u.offset(),r=Math.floor(u.outerHeight()/6);return n=n+s.scrollLeft(),t=t+s.scrollTop(),t>=i.top+r&&t<=i.top+u.outerHeight()-r&&n>=i.left&&n<=i.left+u.outerWidth()&&n>=i.left&&n<=i.left+u.outerWidth()?u:null}r.droppable=f.adDrop;r.onDropCallback=i(f.adDropEnd)||null;r.onDropOverCallback=i(f.adDropOver)||null;r.onDropLeaveCallback=i(f.adDropLeave)||null;var o=!1,e=null,s=$(n);c()}return{restrict:"A",link:r}}]);angular.module("adaptv.adaptStrap.infinitedropdown",["adaptv.adaptStrap.utils","adaptv.adaptStrap.loadingindicator"]).directive("adInfiniteDropdown",["$parse","$compile","$templateCache","$adConfig","adLoadPage","adDebounce","adStrapUtils","adLoadLocalPage",function(n,t,r,u,f,e,o,s){function h(t,r,u){var l,c,h,a;t.attrs=u;t.adStrapUtils=o;t.items={list:[],paging:{currentPage:1,totalPages:i,pageSize:Number(u.pageSize)||10}};t.localConfig={loadingData:!1,singleSelectionMode:n(u.singleSelectionMode)()?!0:!1,dimensions:{"max-height":u.maxHeight||"200px","max-width":u.maxWidth||"auto"}};t.selectedItems=t.$eval(u.selectedItems)||[];t.ajaxConfig=t.$eval(u.ajaxConfig)||{};c=[];t.addRemoveItem=function(n,i,r){n.stopPropagation();t.localConfig.singleSelectionMode?t.selectedItems[0]=i:o.addRemoveItemFromList(i,r);var f=t.$eval(u.onItemClick);f&&f(i)};t.loadPage=e(function(n){l=Math.random();t.localConfig.loadingData=!0;var e=t.$eval(u.pageLoader)||f,i={pageNumber:n,pageSize:t.items.paging.pageSize,sortKey:t.localConfig.predicate,sortDirection:t.localConfig.reverse,ajaxConfig:t.ajaxConfig,token:l},r=function(i){i.token===l&&(t.items.list=n===1?i.items:t.items.list.concat(i.items),t.items.paging.totalPages=i.totalPages,t.items.paging.currentPage=i.currentPage,t.localConfig.loadingData=!1)},o=function(){t.localConfig.loadingData=!1};u.localDataSource?(i.localData=t.$eval(u.localDataSource),r(s(i))):e(i).then(r,o)},10);t.loadNextPage=function(){t.localConfig.loadingData||t.items.paging.currentPage+1<=t.items.paging.totalPages&&t.loadPage(t.items.paging.currentPage+1)};t.loadPage(1);u.ajaxConfig&&t.$watch(u.ajaxConfig,function(n){n&&t.loadPage(1)},!0);u.localDataSource&&(c.push(t.$watch(u.localDataSource,function(n){n&&t.loadPage(1)})),c.push(t.$watch(u.localDataSource+".length",function(n){n&&t.loadPage(1)})));t.$on("$destroy",function(){c.forEach(function(n){n()})});h=angular.element(r).find("ul")[0];a=e(function(){h.scrollTop+h.offsetHeight>=h.scrollHeight-300&&t.loadNextPage()},50);angular.element(h).bind("mousewheel",function(n){n.originalEvent&&n.originalEvent.deltaY&&(h.scrollTop+=n.originalEvent.deltaY,n.preventDefault(),n.stopPropagation());a()})}return{restrict:"E",scope:!0,link:h,templateUrl:"infinitedropdown/infinitedropdown.tpl.html"}}]);angular.module("adaptv.adaptStrap.loadingindicator",[]).directive("adLoadingIcon",["$adConfig","$compile",function(n,t){return{restrict:"E",compile:function(){return{pre:function(i,r,u){var f=u.loadingIconClass||n.iconClasses.loadingSpinner,e=u.loadingIconSize?"ng-style=\"{'font-size': '"+u.loadingIconSize+"'}\"":"",o='<i class="'+f+'" '+e+"><\/i>";r.empty();r.append(t(o)(i))}}}}}]).directive("adLoadingOverlay",["$adConfig",function(n){return{restrict:"E",templateUrl:"loadingindicator/loadingindicator.tpl.html",scope:{loading:"=",zIndex:"@",position:"@",containerClasses:"@",loadingIconClass:"@",loadingIconSize:"@"},compile:function(){return{pre:function(t){t.loadingIconClass=t.loadingIconClass||n.iconClasses.loading;t.loadingIconSize=t.loadingIconSize||"3em"}}}}}]);angular.module("adaptv.adaptStrap.tableajax",["adaptv.adaptStrap.utils","adaptv.adaptStrap.loadingindicator"]).directive("adTableAjax",["$parse","$filter","$adConfig","adLoadPage","adDebounce","adStrapUtils",function(n,t,r,u,f,e){function o(o,s){o.attrs=s;o.iconClasses=r.iconClasses;o.adStrapUtils=e;o.tableClasses=r.componentClasses.tableAjaxClass;o.onDataLoadedCallback=n(s.onDataLoaded)||null;o.items={list:i,paging:{currentPage:1,totalPages:i,totalItems:i,pageSize:Number(s.pageSize)||r.paging.pageSize,pageSizes:n(s.pageSizes)()||r.paging.pageSizes}};o.localConfig={pagingArray:[],loadingData:!1,showNoDataFoundMessage:!1,tableMaxHeight:s.tableMaxHeight,expandedItems:[]};o.onRowClick=function(n,t){var i=o.$parent.$eval(s.onRowClick);i&&i(n,t)};o.ajaxConfig=o.$eval(s.ajaxConfig);o.columnDefinition=o.$eval(s.columnDefinition);o.visibleColumnDefinition=t("filter")(o.columnDefinition,o.columnVisible);var h,c=[];o.items.paging.pageSizes.indexOf(o.items.paging.pageSize)<0&&(o.items.paging.pageSize=o.items.paging.pageSizes[0]);o.loadPage=f(function(n){o.collapseAll();h=Math.random();o.localConfig.loadingData=!0;o.localConfig.showNoDataFoundMessage=!1;var t=o.$eval(s.pageLoader)||u,i={pageNumber:n,pageSize:o.items.paging.pageSize,sortKey:o.localConfig.predicate,sortDirection:o.localConfig.reverse,ajaxConfig:o.ajaxConfig,token:h},r=function(n){if(n.token===h&&(o.items.list=n.items,o.items.paging.totalPages=n.totalPages,o.items.paging.totalItems=n.totalItems,o.items.paging.currentPage=n.currentPage,o.localConfig.pagingArray=n.pagingArray,o.localConfig.loadingData=!1),n.totalPages||(o.localConfig.showNoDataFoundMessage=!0),o.onDataLoadedCallback)o.onDataLoadedCallback(o,{$success:!0,$response:n})},f=function(){if(o.localConfig.loadingData=!1,o.localConfig.showNoDataFoundMessage=!0,o.onDataLoadedCallback)o.onDataLoadedCallback(o,{$success:!1,$response:null})};t(i).then(r,f)});o.loadNextPage=function(){o.localConfig.loadingData||o.items.paging.currentPage+1<=o.items.paging.totalPages&&o.loadPage(o.items.paging.currentPage+1)};o.loadPreviousPage=function(){o.localConfig.loadingData||o.items.paging.currentPage-1>0&&o.loadPage(o.items.paging.currentPage-1)};o.loadLastPage=function(){o.localConfig.loadingData||o.items.paging.currentPage!==o.items.paging.totalPages&&o.loadPage(o.items.paging.totalPages)};o.pageSizeChanged=function(n){Number(n)!==o.items.paging.pageSize&&(o.items.paging.pageSize=Number(n),o.loadPage(1))};o.columnVisible=function(n){return n.visible!==!1};o.sortByColumn=function(n){var t=!0;s.onClickSortDirection==="DEC"&&(t=!1);n.sortKey&&(n.sortKey!==o.localConfig.predicate?(o.localConfig.predicate=n.sortKey,o.localConfig.reverse=t):o.localConfig.reverse===t?o.localConfig.reverse=!t:(o.localConfig.reverse=i,o.localConfig.predicate=i),o.loadPage(o.items.paging.currentPage))};o.collapseAll=function(){o.localConfig.expandedItems.length=0};o.getRowClass=function(n,t){var i="";return s.rowClassProvider&&(i+=o.$eval(s.rowClassProvider)(n,t)),i};o.toggle=function(n,t,i){if(n.stopPropagation(),e.addRemoveItemFromList(t,o.localConfig.expandedItems),e.itemExistsInList(t,o.localConfig.expandedItems)){var r=o.$eval(s.rowExpandCallback);r&&r(i)}};o.loadPage(1);c.push(o.$watch(s.ajaxConfig,function(){o.loadPage(1)},!0));c.push(o.$watchCollection(s.columnDefinition,function(){o.columnDefinition=o.$eval(s.columnDefinition);o.visibleColumnDefinition=t("filter")(o.columnDefinition,o.columnVisible)}));o.$on("$destroy",function(){c.forEach(function(n){n()})})}return{restrict:"E",scope:!0,templateUrl:"tableajax/tableajax.tpl.html",controller:["$scope","$attrs",o]}}]);angular.module("adaptv.adaptStrap.tablelite",["adaptv.adaptStrap.utils"]).directive("adTableLite",["$parse","$http","$compile","$filter","$templateCache","$adConfig","adStrapUtils","adDebounce","adLoadLocalPage",function(n,t,r,u,f,e,o,s,h){function c(t,r){function w(n,t,i){t.next()[0]===n[0]?t.before(n):t.prev()[0]===n[0]?t.after(n):t.next()[0]===i[0]?t.before(n):t.prev()[0]===i[0]&&t.after(n)}var p;t.attrs=r;t.iconClasses=e.iconClasses;t.adStrapUtils=o;t.tableClasses=e.componentClasses.tableLiteClass;t.columnDefinition=t.$eval(r.columnDefinition);t.visibleColumnDefinition=u("filter")(t.columnDefinition,t.columnVisible);t.items={list:i,allItems:i,paging:{currentPage:1,totalPages:i,pageSize:Number(r.pageSize)||e.paging.pageSize,pageSizes:n(r.pageSizes)()||e.paging.pageSizes}};t.filters={};t.localConfig={localData:o.parse(t.$eval(r.localDataSource)),pagingArray:[],dragChange:t.$eval(r.onDragChange),expandedItems:[],predicate:r.initialSortKey};r.initialSortDirection==="DEC"?t.localConfig.reverse=!1:r.initialSortDirection==="ASC"&&(t.localConfig.reverse=!0);t.selectedItems=t.$eval(r.selectedItems);t.searchText=t.$eval(r.searchText);var c=null,l=!1,f=null,y=!1,v,a=[];t.items.paging.pageSizes.indexOf(t.items.paging.pageSize)<0&&(t.items.paging.pageSize=t.items.paging.pageSizes[0]);t.loadPage=s(function(n){var f,s,e,i;t.collapseAll();e=o.parse(t.$eval(r.localDataSource));t.localConfig.localData=!t.searchText?e:u("filter")(e,t.searchText);r.enableColumnSearch&&o.hasAtLeastOnePropertyWithValue(t.filters)&&(t.localConfig.localData=u("filter")(t.localConfig.localData,t.filters));f=t.localConfig.localData;s={pageNumber:n,pageSize:r.disablePaging?f.length:t.items.paging.pageSize,sortKey:t.localConfig.predicate,sortDirection:t.localConfig.reverse,localData:f};i=h(s);t.items.list=i.items;t.items.allItems=i.allItems;t.items.paging.currentPage=i.currentPage;t.items.paging.totalPages=i.totalPages;t.localConfig.pagingArray=i.pagingArray;t.$emit("adTableLite:pageChanged",t.items.paging)},100);t.loadNextPage=function(){t.items.paging.currentPage+1<=t.items.paging.totalPages&&t.loadPage(t.items.paging.currentPage+1)};t.loadPreviousPage=function(){t.items.paging.currentPage-1>0&&t.loadPage(t.items.paging.currentPage-1)};t.loadLastPage=function(){t.localConfig.disablePaging||t.loadPage(t.items.paging.totalPages)};t.pageSizeChanged=function(n){t.items.paging.pageSize=n;t.loadPage(1)};t.columnVisible=function(n){return n.visible!==!1};t.sortByColumn=function(n){var u=!0;r.onClickSortDirection==="DEC"&&(u=!1);n.sortKey&&(n.sortKey!==t.localConfig.predicate?(t.localConfig.predicate=n.sortKey,t.localConfig.reverse=u):t.localConfig.reverse===u?t.localConfig.reverse=!u:(t.localConfig.reverse=i,t.localConfig.predicate=i),t.loadPage(t.items.paging.currentPage))};t.unSortTable=function(){t.localConfig.reverse=i;t.localConfig.predicate=i};t.collapseAll=function(){t.localConfig.expandedItems.length=0};t.onDragStart=function(n,i){t.localConfig.expandedItems.length=0;i=i.el;var r=i.parent();c=$('<tr id="row-phldr"><td colspan='+i.find("td").length+">&nbsp;<\/td><\/tr>");v=i.index()+(t.items.paging.currentPage-1)*t.items.paging.pageSize;l||(i[0]!==r.children().last()[0]?(i.next().before(c),l=!0):(r.append(c),l=!0))};t.onDragEnd=function(){$("#row-phldr").remove();l=!1};t.onDragOver=function(n,t,i){c&&w(c,i.el,t.el)};t.onDropEnd=function(n,i){var r;i=i.el;c&&(c.next()[0]?c.next().before(i):c.prev()[0]&&c.prev().after(i),$("#row-phldr").remove(),l=!1,y=!0,r=i.index()+(t.items.paging.currentPage-1)*t.items.paging.pageSize,o.moveItemInList(v,r,t.localConfig.localData),t.localConfig.dragChange&&t.localConfig.dragChange(v,r,n),t.unSortTable(),t.loadPage(t.items.paging.currentPage))};t.onNextPageButtonOver=function(n,t,i){i.el.attr("disabled")!=="disabled"&&(f=i.el,f.parent().addClass("active"))};t.onNextPageButtonLeave=function(n,t,i){f&&f===i.el&&(f.parent().removeClass("active"),f=null)};t.onNextPageButtonDrop=function(n,i){var r;f&&(y=!0,f.attr("id")==="btnPrev"&&(r=t.items.paging.pageSize*(t.items.paging.currentPage-1)),f.attr("id")==="btnNext"&&(r=t.items.paging.pageSize*t.items.paging.currentPage),o.moveItemInList(v,r,t.localConfig.localData),t.loadPage(t.items.paging.currentPage),$("#row-phldr").remove(),l=!1,i.el.remove(),t.localConfig.dragChange&&t.localConfig.dragChange(v,r,n),f.parent().removeClass("active"),f=null)};t.getRowClass=function(n,i){var u="";return u+=r.selectedItems&&o.itemExistsInList(n,t.selectedItems)?"ad-selected":"",r.rowClassProvider&&(u+=" "+t.$eval(r.rowClassProvider)(n,i)),u};t.toggle=function(n,i,u){if(n.stopPropagation(),o.addRemoveItemFromList(i,t.localConfig.expandedItems),o.itemExistsInList(i,t.localConfig.expandedItems)){var f=t.$eval(r.rowExpandCallback);f&&f(u)}};t.onRowClick=function(n,i){var u=t.$parent.$eval(r.onRowClick);u&&u(n,i)};t.loadPage(1);a.push(t.$watch(r.localDataSource,function(){t.loadPage(t.items.paging.currentPage)}));a.push(t.$watch(r.localDataSource+".length",function(){t.loadPage(t.items.paging.currentPage)}));a.push(t.$watchCollection(r.columnDefinition,function(){t.columnDefinition=t.$eval(r.columnDefinition);t.visibleColumnDefinition=u("filter")(t.columnDefinition,t.columnVisible)}));a.push(t.$watch(r.searchText,function(){t.searchText=t.$eval(r.searchText);t.loadPage(1)}));r.enableColumnSearch&&(p=s(function(){t.loadPage(1)},Number(r.columnSearchDebounce)||400),a.push(t.$watch("filters",function(){p()},!0)));t.$on("$destroy",function(){a.forEach(function(n){n()})})}return{restrict:"E",controller:["$scope","$attrs",c],templateUrl:"tablelite/tablelite.tpl.html",scope:!0}}]);angular.module("adaptv.adaptStrap.treebrowser",[]).directive("adTreeBrowser",["$adConfig","$http","$timeout",function(n,t,r){function u(u,f){var o=Math.random(),e;u.attrs=f;u.iconClasses=n.iconClasses;u.treeRoot=u.$eval(f.treeRoot)||{};f.urlNode!==i&&t.get(u.$eval(f.urlNode)).success(function(n){u.treeRoot=n;r(function(){u.$parent[f.treeRoot]=u.treeRoot},500)});u.toggle=function(n,t){var i;n.stopPropagation();i=u.$eval(f.toggleCallback);i?i(t):t._ad_expanded=!t._ad_expanded};u.onRowClick=function(n,t,i){var r=u.$parent.$eval(f.onRowClick);r&&r(n,t,i)};e=u.$eval(f.hasChildren);u.hasChildren=function(n){var t=n[f.childNode]&&n[f.childNode].length>0;return e&&(t=e(n)),t};u.localConfig={rendererTemplateId:"tree-renderer-"+o+".html"}}return{restrict:"E",scope:!0,controller:["$scope","$attrs",u],templateUrl:"treebrowser/treebrowser.tpl.html"}}]);angular.module("adaptv.adaptStrap.utils",[]).factory("adStrapUtils",["$filter",function(n){var f=function(n,t){var i=t.split("."),r;if(n)while(i.length)r=i.shift(),n&&(n=n[r]);return n},e=function(t,i,r){var f,e,u;return t&&"function"==typeof t?t(r):(i&&(u=i.indexOf(":"),u>-1?(f=i.substring(0,u),e=i.substring(u+1),t=n(f)(t,e)):t=n(i)(t)),t)},t=function(n,t){var i=!1;return t.forEach(function(t){angular.equals(n,t)&&(i=!0)}),i},i=function(n,i){for(var u=!0,r=0;r<n.length;r++)if(t(n[r],i)===!1){u=!1;break}return u},o=function(n,t){t.push(n)},s=function(n,t){for(var i=t.length-1;i>-1;i--)angular.equals(n,t[i])&&t.splice(i,1)},r=function(n,t){for(var r=!1,i=t.length-1;i>-1;i--)angular.equals(n,t[i])&&(t.splice(i,1),r=!0);r===!1&&t.push(n)},u=function(n,i){n.forEach(function(n){t(n,i)||r(n,i)})},h=function(n,t){i(n,t)?t.length=0:u(n,t)},c=function(n,t,i){t<i.length&&i.splice(t,0,i.splice(n,1)[0])},l=function(n){var t=[];return angular.isArray(n)?t=n:angular.forEach(n,function(n){t.push(n)}),t},a=function(n,t){if(t&&"function"==typeof t)return t(n);for(var i=t.split(".");i.length;)n=n[i.shift()];return n},v=function(n){var t=!1,r,i;for(r in n)if(i=n[r],i instanceof Array?i.length>0&&(t=!0):!i||(t=!0),t)break;return t};return{evalObjectProperty:f,applyFilter:e,itemExistsInList:t,itemsExistInList:i,addItemToList:o,removeItemFromList:s,addRemoveItemFromList:r,addItemsToList:u,addRemoveItemsFromList:h,moveItemInList:c,parse:l,getObjectProperty:a,hasAtLeastOnePropertyWithValue:v}}]).factory("adDebounce",["$timeout","$q",function(n,t){return function(i,r,u,f){var o=null,e=t.defer(),s=r||300;return function(){var r=f||this,h=arguments,c=u&&!o,l=function(){u||(e.resolve(i.apply(r,h)),e=t.defer())};return o&&n.cancel(o),o=n(l,s),c&&(e.resolve(i.apply(r,h)),e=t.defer()),e.promise}}}]).directive("adCompileTemplate",["$compile",function(n){return function(t,i,r){t.$watch(function(n){return n.$eval(r.adCompileTemplate)},function(r){i.html(r);n(i.contents())(t)})}}]).factory("adLoadPage",["$adConfig","$http","adStrapUtils",function(n,t,i){return function(r){var o=(r.pageNumber-1)*r.pageSize,u=angular.copy(n.paging),f=angular.copy(r.ajaxConfig),e;return f.paginationConfig&&f.paginationConfig.request&&angular.extend(u.request,f.paginationConfig.request),f.paginationConfig&&f.paginationConfig.response&&angular.extend(u.response,f.paginationConfig.response),f.params=f.params?f.params:{},u.request.start&&(f.params[u.request.start]=o),u.request.pageSize&&(f.params[u.request.pageSize]=r.pageSize),u.request.page&&(f.params[u.request.page]=r.pageNumber),r.sortKey&&u.request.sortField&&(f.params[u.request.sortField]=r.sortKey),r.sortDirection===!1&&u.request.sortDirection?f.params[u.request.sortDirection]=u.request.sortAscValue:r.sortDirection===!0&&u.request.sortDirection&&(f.params[u.request.sortDirection]=u.request.sortDescValue),e=f.method==="JSONP"?t.jsonp(f.url+"?callback=JSON_CALLBACK",f):t(f),e.then(function(n){for(var f={items:i.evalObjectProperty(n.data,u.response.itemsLocation),currentPage:r.pageNumber,totalPages:Math.ceil(i.evalObjectProperty(n.data,u.response.totalItems)/r.pageSize),totalItems:Math.ceil(i.evalObjectProperty(n.data,u.response.totalItems)),pagingArray:[],token:r.token},e=5,o=r.pageNumber-Math.floor(e/2),t=o;t<=r.pageNumber;t++)t>0&&f.pagingArray.push(t);while(f.pagingArray.length<e){if(t>f.totalPages)break;f.pagingArray.push(t);t++}return f})}}]).factory("adLoadLocalPage",["$filter",function(n){return function(t){var r={items:i,currentPage:t.pageNumber,totalPages:i,pagingArray:[],token:t.token},o=(t.pageNumber-1)*t.pageSize,c=o+t.pageSize,u,f=t.localData,s=f,e,h;for(t.sortKey&&(s=n("orderBy")(f,t.sortKey,t.sortDirection)),r.items=s.slice(o,c),r.allItems=f,r.currentPage=t.pageNumber,r.totalPages=Math.ceil(f.length/t.pageSize),e=5,h=t.pageNumber-Math.floor(e/2),u=h;u<=t.pageNumber;u++)u>0&&r.pagingArray.push(u);while(r.pagingArray.length<e){if(u>r.totalPages)break;r.pagingArray.push(u);u++}return r}}])})(window,document);