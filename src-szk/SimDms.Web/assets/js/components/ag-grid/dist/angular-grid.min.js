(function e(n,t,i){function r(u,e){var s,h,o;if(!t[u]){if(!n[u]){if(s=typeof require=="function"&&require,!e&&s)return s(u,!0);if(f)return f(u,!0);h=new Error("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h;}o=t[u]={exports:{}};n[u][0].call(o.exports,function(t){var i=n[u][1][t];return r(i?i:t)},o,o.exports,e,n,t,i)}return t[u].exports}for(var f=typeof require=="function"&&require,u=0;u<i.length;u++)r(i[u]);return r})({1:[function(n,t,i){(function(){function e(n,t,i,r){var u,e,o,s,h;if(r){if(o=r.agGrid,e=o+".quickFilterText",u=t.$eval(o),!u){console.warn("WARNING - grid options for Angular Grid not found. Please ensure the attribute ag-grid points to a valid object on the scope");return}}else if(console.warn("WARNING - Directive angular-grid is deprecated, you should use the ag-grid directive instead."),u=t.angularGrid,e="angularGrid.quickFilterText",!u){console.warn("WARNING - grid options for Angular Grid not found. Please ensure the attribute angular-grid points to a valid object on the scope");return}s=n[0];h=new f(s,u,t,i,e);t.$on("$destroy",function(){h.setFinished()})}function u(n,t){var i;if(typeof n=="string"){if(i=document.querySelector(n),!i){console.warn("WARNING - was not able to find element "+n+" in the DOM, Angular Grid initialisation aborted.");return}}else i=n;new f(i,t,null,null)}var o=this,f=n("./grid"),r;typeof angular!="undefined"&&(r=angular.module("angularGrid",[]),r.directive("angularGrid",function(){return{restrict:"A",controller:["$element","$scope","$compile",e],scope:{angularGrid:"="}}}),r.directive("agGrid",function(){return{restrict:"A",controller:["$element","$scope","$compile","$attrs",e],scope:!0}}));typeof i!="undefined"&&(typeof t!="undefined"&&t.exports&&(i=t.exports=u),i.angularGrid=u);o.angularGrid=u}).call(window)},{"./grid":15}],2:[function(n,t){function e(n,t){function s(n,t){function s(){c(r,o,t)}var r=e(!0),o=e(!1);n.appendChild(r);n.appendChild(o);r.addEventListener("click",s);o.addEventListener("click",s);n.addEventListener("dblclick",s);u(r,o,t.node.expanded);t.eGridCell&&t.eGridCell.addEventListener("keydown",function(n){i.isKeyPressed(n,f.KEY_ENTER)&&(s(),n.preventDefault())})}function u(n,t,r){i.setVisible(n,!r);i.setVisible(t,r)}function h(n,t,r){i.useRenderer(n,r,t)}function c(n,t,i){i.node.expanded=!i.node.expanded;i.api.onGroupExpandedOrCollapsed(i.rowIndex+1);u(n,t,i.node.expanded)}function e(t){var u;return u=t?i.createIcon("groupContracted",n,null,r.createArrowRightSvg):i.createIcon("groupExpanded",n,null,r.createArrowDownSvg),i.addCssClass(u,"ag-group-expand"),u}function l(n,t){var i="Total "+o(t),r=document.createTextNode(i);n.appendChild(r)}function o(n){var t=n.colDef.cellRenderer,i;return t&&t.keyMap&&typeof t.keyMap=="object"&&n.colDef.cellRenderer!==null?(i=t.keyMap[n.node.key],i?i:n.node.key):n.node.key}function a(n,t){var u=o(t),r=t.api.getColumnDef(t.node.field),f;r&&typeof r.cellRenderer=="function"?(t.value=u,i.useRenderer(n,r.cellRenderer,t)):n.appendChild(document.createTextNode(u));f=t.colDef.cellRenderer&&t.colDef.cellRenderer.suppressCount;!f&&t.node.allChildrenCount>=0&&n.appendChild(document.createTextNode(" ("+t.node.allChildrenCount+")"))}function v(n,t){if(t.value){var i=document.createTextNode(" "+t.value);n.appendChild(i)}}return function(n){var r=document.createElement("span"),i=n.node,o=i.group&&!i.footer,f,e,u;return o&&s(r,n),f=n.colDef&&n.colDef.cellRenderer&&n.colDef.cellRenderer.checkbox&&!i.footer,f&&(e=t.createSelectionCheckbox(i,n.rowIndex),r.appendChild(e)),n.colDef&&n.colDef.cellRenderer&&n.colDef.cellRenderer.innerRenderer?h(r,n,n.colDef.cellRenderer.innerRenderer):i.footer?l(r,n):i.group?a(r,n):v(r,n),(i.footer||i.level>0)&&(u=i.level*10,i.footer?u+=10:i.group||(u+=5),r.style.paddingLeft=u+"px"),r}}var u=n("../svgFactory"),i=n("../utils"),f=n("../constants"),r=new u;t.exports=e},{"../constants":4,"../svgFactory":33,"../utils":38}],3:[function(n,t){function i(){this.listeners=[];this.createModel()}function r(n,t){this.pinned=n;this.name=t;this.allColumns=[];this.displayedColumns=[];this.expandable=!1;this.expanded=!1}function u(n,t){this.colDef=n;this.actualWidth=t;this.visible=!n.hide;this.colId=n.colId?n.colId:n.field?n.field:""+e++}var f=n("./constants"),o=n("./utils"),e;i.prototype.init=function(n,t,i,r){this.gridOptionsWrapper=i;this.angularGrid=n;this.selectionRendererFactory=t;this.expressionService=r};i.prototype.createModel=function(){var n=this;this.model={getAllColumns:function(){return n.allColumns},getDisplayedColumns:function(){return n.displayedColumns},getGroupedColumns:function(){return n.groupedColumns},getBodyContainerWidth:function(){return n.getTotalColWidth(!1)},getPinnedContainerWidth:function(){return n.getTotalColWidth(!0)},getHeaderGroups:function(){return n.headerGroups},getColumn:function(t){return n.getColumn(t)},getVisibleColBefore:function(t){var i=n.visibleColumns.indexOf(t);return i>0?n.visibleColumns[i-1]:null},getVisibleColAfter:function(t){var i=n.visibleColumns.indexOf(t);return i<n.visibleColumns.length-1?n.visibleColumns[i+1]:null},getDisplayNameForCol:function(t){return n.getDisplayNameForCol(t)}}};i.prototype.getColumn=function(n){for(var i,r,t=0;t<this.allColumns.length;t++)if(i=this.allColumns[t].colDef===n,r=this.allColumns[t].colDef.field===n,i||r)return this.allColumns[t]};i.prototype.getDisplayNameForCol=function(n){var t=n.colDef,i=t.headerValueGetter,r;return i?(r={colDef:t,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()},typeof i=="function")?i(r):typeof i=="string"?this.expressionService.evaluate(i,r):o.getValue(this.expressionService,undefined,t,undefined,api,context):t.displayName?(console.warn("ag-grid: Found displayName "+t.displayName+", please use headerName instead, displayName is deprecated."),t.displayName):t.headerName};i.prototype.addListener=function(n){this.listeners.push(n)};i.prototype.fireColumnsChanged=function(){for(var n=0;n<this.listeners.length;n++)this.listeners[n].columnsChanged(this.allColumns,this.groupedColumns)};i.prototype.getModel=function(){return this.model};i.prototype.setColumns=function(n){this.checkForDeprecatedItems(n);this.createColumns(n);this.createAggColumns();this.updateModel();this.fireColumnsChanged()};i.prototype.checkForDeprecatedItems=function(n){var i,t;if(n)for(i=0;i<n.length;i++)t=n[i],t.group!==undefined&&(console.warn("ag-grid: "+t.field+" colDef.group is deprecated, please use colDef.headerGroup"),t.headerGroup=t.group),t.groupShow!==undefined&&(console.warn("ag-grid: "+t.field+" colDef.groupShow is deprecated, please use colDef.headerGroupShow"),t.headerGroupShow=t.groupShow)};i.prototype.headerGroupOpened=function(n){n.expanded=!n.expanded;this.updateGroups();this.updateDisplayedColumns();this.angularGrid.refreshHeaderAndBody()};i.prototype.onColumnStateChanged=function(){this.updateModel();this.angularGrid.refreshHeaderAndBody()};i.prototype.hideColumns=function(n,t){for(var r,u,i=0;i<this.allColumns.length;i++)r=this.allColumns[i].colId,u=n.indexOf(r)>=0,u&&(this.allColumns[i].visible=!t);this.onColumnStateChanged();this.fireColumnsChanged()};i.prototype.updateModel=function(){this.updateVisibleColumns();this.updatePinnedColumns();this.buildGroups();this.updateGroups();this.updateDisplayedColumns()};i.prototype.updateDisplayedColumns=function(){var n,t;if(this.gridOptionsWrapper.isGroupHeaders())for(this.displayedColumns=[],n=0;n<this.headerGroups.length;n++)t=this.headerGroups[n],t.addToVisibleColumns(this.displayedColumns);else this.displayedColumns=this.visibleColumns};i.prototype.sizeColumnsToFit=function(n){var t,h,f,u,e,o,c;if(!(n<=0)&&this.displayedColumns.length!==0){var s=0,i=[],r=n;for(t=0;t<this.displayedColumns.length;t++)this.displayedColumns[t].colDef.suppressSizeToFit===!0?r-=this.displayedColumns[t].actualWidth:(i.push(this.displayedColumns[t]),s+=this.displayedColumns[t].actualWidth);if(!(r<=0)){for(h=r/s,f=r,u=0;u<i.length-1;u++)e=i[u],o=parseInt(e.actualWidth*h),e.actualWidth=o,f-=o;c=i[i.length-1];c.actualWidth=f;this.angularGrid.refreshHeaderAndBody()}}};i.prototype.buildGroups=function(){var n,i,t;if(!this.gridOptionsWrapper.isGroupHeaders()){this.headerGroups=null;return}n=null;this.headerGroups=[];i=this;t=!0;this.visibleColumns.forEach(function(u){var e=t&&!u.pinned,f;u.pinned||(t=!1);var o=n&&u.colDef.headerGroup!==n.name,s=n&&!n.name,h=n===null,c=h||e||o||s;c&&(f=u.pinned,n=new r(f,u.colDef.headerGroup),i.headerGroups.push(n));n.addColumn(u)})};i.prototype.updateGroups=function(){var n,t;if(this.gridOptionsWrapper.isGroupHeaders())for(n=0;n<this.headerGroups.length;n++)t=this.headerGroups[n],t.calculateExpandable(),t.calculateDisplayedColumns()};i.prototype.updateVisibleColumns=function(){var r,f,t,e,n,i;for(this.visibleColumns=[],r=this.groupedColumns.length>0&&!this.gridOptionsWrapper.isGroupSuppressAutoColumn()&&!this.gridOptionsWrapper.isGroupUseEntireRow(),f=this.gridOptionsWrapper.getLocaleTextFunc(),r&&(t=this.gridOptionsWrapper.getGroupColumnDef(),t||(t={headerName:f("group","Group"),cellRenderer:{renderer:"group"}}),e=new u(t,this.gridOptionsWrapper.getColWidth()),this.visibleColumns.push(e)),n=0;n<this.allColumns.length;n++)i=this.allColumns[n],i.visible&&(i.index=this.visibleColumns.length,this.visibleColumns.push(this.allColumns[n]))};i.prototype.updatePinnedColumns=function(){for(var t,i=this.gridOptionsWrapper.getPinnedColCount(),n=0;n<this.visibleColumns.length;n++)t=n<i,this.visibleColumns[n].pinned=t};i.prototype.createColumns=function(n){var i,r,t,f,e;if(this.allColumns=[],i=this,n)for(r=0;r<n.length;r++)t=n[r],t==="checkboxSelection"&&(t=i.selectionRendererFactory.createCheckboxColDef()),f=i.calculateColInitialWidth(t),e=new u(t,f),i.allColumns.push(e)};i.prototype.createAggColumns=function(){var n,t,r,i;if(this.groupedColumns=[],n=this.gridOptionsWrapper.getGroupKeys(),n&&!(n.length<=0))for(t=0;t<n.length;t++)r=n[t],i=this.getColumn(r),i||(i=this.createDummyColumn(r)),this.groupedColumns.push(i)};i.prototype.createDummyColumn=function(n){var t={field:n,headerName:n,hide:!1},i=this.gridOptionsWrapper.getColWidth();return new u(t,i)};i.prototype.calculateColInitialWidth=function(n){return n.width?n.width<f.MIN_COL_WIDTH?f.MIN_COL_WIDTH:n.width:this.gridOptionsWrapper.getColWidth()};i.prototype.getTotalColWidth=function(n){var t=0,i=typeof n!="boolean";return this.displayedColumns.forEach(function(r){var u=i||r.pinned===n;u&&(t+=r.actualWidth)}),t};r.prototype.addColumn=function(n){this.allColumns.push(n)};r.prototype.calculateExpandable=function(){for(var u,n=!1,t=!1,i=!1,r=0,f=this.allColumns.length;r<f;r++)u=this.allColumns[r],u.colDef.headerGroupShow==="open"?(n=!0,i=!0):u.colDef.headerGroupShow==="closed"?(t=!0,i=!0):(n=!0,t=!0);this.expandable=n&&t&&i};r.prototype.calculateDisplayedColumns=function(){var t,i,n;if(this.displayedColumns=[],!this.expandable){this.displayedColumns=this.allColumns;return}for(t=0,i=this.allColumns.length;t<i;t++){n=this.allColumns[t];switch(n.colDef.headerGroupShow){case"open":this.expanded&&this.displayedColumns.push(n);break;case"closed":this.expanded||this.displayedColumns.push(n);break;default:this.displayedColumns.push(n)}}};r.prototype.addToVisibleColumns=function(n){for(var i,t=0;t<this.displayedColumns.length;t++)i=this.displayedColumns[t],n.push(i)};e=0;t.exports=i},{"./constants":4,"./utils":38}],4:[function(n,t){var i={STEP_EVERYTHING:0,STEP_FILTER:1,STEP_SORT:2,STEP_MAP:3,ASC:"asc",DESC:"desc",ROW_BUFFER_SIZE:20,SORT_STYLE_SHOW:"display:inline;",SORT_STYLE_HIDE:"display:none;",MIN_COL_WIDTH:10,KEY_TAB:9,KEY_ENTER:13,KEY_SPACE:32,KEY_DOWN:40,KEY_UP:38,KEY_LEFT:37,KEY_RIGHT:39},f=!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,e=typeof InstallTrigger!="undefined",o=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,s=!!window.chrome&&!this.isOpera,h=/*@cc_on!@*/!1||!!document.documentMode,r,u;f?i.BROWSER="opera":e?i.BROWSER="firefox":o?i.BROWSER="safari":s?i.BROWSER="chrome":h&&(i.BROWSER="ie");r=navigator.platform.toUpperCase().indexOf("MAC")>=0;u=navigator.platform.toUpperCase().indexOf("WIN")>=0;r?i.PLATFORM="mac":u&&(i.PLATFORM="win");t.exports=i},{}],5:[function(n,t){function i(){document.addEventListener("mouseup",this.stopDragging.bind(this))}var r=n("../utils");i.prototype.stopDragging=function(){this.dragItem&&(this.setDragCssClasses(this.dragItem.eDragSource,!1),this.dragItem=null)};i.prototype.setDragCssClasses=function(n,t){r.addOrRemoveCssClass(n,"ag-dragging",t);r.addOrRemoveCssClass(n,"ag-not-dragging",!t)};i.prototype.addDragSource=function(n,t,i){this.setDragCssClasses(n,!1);var r=!1,u=this;n.addEventListener("mousedown",function(){r=!0});n.addEventListener("mouseup",function(){r=!1});n.addEventListener("mouseout",function(){r=!1});n.addEventListener("mousemove",function(){if(r){var f=this.dragItem&&this.dragItem.eDropSource===n;f||u.startDragging(n,t,i)}})};i.prototype.startDragging=function(n,t){var i,r;this.dragItem&&this.dragItem.eDragSource===n||(this.dragItem&&this.stopDragging(),t.getData&&(i=t.getData()),t.getContainerId&&(r=t.getContainerId()),this.dragItem={eDragSource:n,data:i,containerId:r},this.setDragCssClasses(this.dragItem.eDragSource,!0))};i.prototype.addDropTarget=function(n,t){var u=!1,i=!1,r=this;n.addEventListener("mouseover",function(){u||(u=!0,i=r.dragItem?t.acceptDrag(r.dragItem):!1)});n.addEventListener("mouseout",function(){i&&t.noDrop();u=!1;i=!1});n.addEventListener("mouseup",function(){i&&r.dragItem&&t.drop(r.dragItem)})};t.exports=new i},{"../utils":38}],6:[function(n,t){function i(){}function i(){this.expressionToFunctionCache={}}i.prototype.evaluate=function(){};i.prototype.evaluate=function(n,t){try{var i=this.createExpressionFunction(n);return i(t.value,t.context,t.node,t.data,t.colDef,t.rowIndex,t.api)}catch(r){return console.error("Processing of the expression failed"),console.error("Expression = "+n),console.error("Exception = "+r),null}};i.prototype.createExpressionFunction=function(n){if(this.expressionToFunctionCache[n])return this.expressionToFunctionCache[n];var i=this.createFunctionBody(n),t=new Function("x, ctx, node, data, colDef, rowIndex, api",i);return this.expressionToFunctionCache[n]=t,t};i.prototype.createFunctionBody=function(n){return n.indexOf("return")>=0?n:"return "+n+";"};t.exports=i},{}],7:[function(n,t){function i(){}var r=n("./../utils"),u=n("./setFilter"),f=n("./numberFilter"),e=n("./textFilter");i.prototype.init=function(n,t,i,r,u,f){this.$compile=i;this.$scope=r;this.gridOptionsWrapper=t;this.grid=n;this.allFilters={};this.expressionService=u;this.columnModel=f};i.prototype.setFilterModel=function(n){var t=this,i;n?(i=Object.keys(n),r.iterateObject(this.allFilters,function(u,f){var e=f.column.colDef.field,o;r.removeFromArray(i,e);e?(o=n[e],t.setModelOnFilterWrapper(f.filter,o)):console.warn("Warning ag-grid - no field found for column while doing setFilterModel")}),r.iterateArray(i,function(i){var r=t.columnModel.getColumn(i),u;if(!r){console.warn("Warning ag-grid - no column found for field "+i);return}u=t.getOrCreateFilterWrapper(r);t.setModelOnFilterWrapper(u.filter,n[i])})):r.iterateObject(this.allFilters,function(n,i){t.setModelOnFilterWrapper(i.filter,null)})};i.prototype.setModelOnFilterWrapper=function(n,t){if(typeof n.getApi!="function"){console.warn("Warning ag-grid - filter missing getApi method, which is needed for getFilterModel");return}var i=n.getApi();if(typeof i.setModel!="function"){console.warn("Warning ag-grid - filter API missing setModel method, which is needed for setFilterModel");return}i.setModel(t)};i.prototype.getFilterModel=function(){var n={};return r.iterateObject(this.allFilters,function(t,i){var r,u,f;if(typeof i.filter.getApi!="function"){console.warn("Warning ag-grid - filter missing getApi method, which is needed for getFilterModel");return}if(r=i.filter.getApi(),typeof r.getModel!="function"){console.warn("Warning ag-grid - filter API missing getModel method, which is needed for getFilterModel");return}u=r.getModel();u&&(f=i.column.colDef.field,f?n[f]=u:console.warn("Warning ag-grid - cannot get filter model when no field value present for column"))}),n};i.prototype.setRowModel=function(n){this.rowModel=n};i.prototype.isFilterPresent=function(){var n=!1,t=this,i=Object.keys(this.allFilters);return i.forEach(function(i){var r=t.allFilters[i];r.filter.isFilterActive||console.error("Filter is missing method isFilterActive");r.filter.isFilterActive()&&(n=!0)}),n};i.prototype.isFilterPresentForCol=function(n){var t=this.allFilters[n];return t?(t.filter.isFilterActive||console.error("Filter is missing method isFilterActive"),t.filter.isFilterActive()):!1};i.prototype.doesFilterPass=function(n){for(var u,t,f,e=n.data,r=Object.keys(this.allFilters),i=0,o=r.length;i<o;i++)if((u=r[i],t=this.allFilters[u],t!==undefined)&&(t.filter.doesFilterPass||console.error("Filter is missing method doesFilterPass"),f={node:n,data:e},!t.filter.doesFilterPass(f)))return!1;return!0};i.prototype.onNewRowsLoaded=function(){var n=this;Object.keys(this.allFilters).forEach(function(t){var i=n.allFilters[t].filter;i.onNewRowsLoaded&&i.onNewRowsLoaded()})};i.prototype.positionPopup=function(n,t,i){var f=n.getBoundingClientRect(),u=i.getBoundingClientRect(),r=f.left-u.left,o=f.top-u.top+f.height,s=u.right-u.left,e=s-220;r>e&&(r=e);r<0&&(r=0);t.style.left=r+"px";t.style.top=o+"px"};i.prototype.createValueGetter=function(n){var t=this;return function(i){var u=t.gridOptionsWrapper.getApi(),f=t.gridOptionsWrapper.getContext();return r.getValue(t.expressionService,i.data,n,i,u,f)}};i.prototype.getFilterApi=function(n){var t=this.getOrCreateFilterWrapper(n);if(t&&typeof t.filter.getApi=="function")return t.filter.getApi()};i.prototype.getOrCreateFilterWrapper=function(n){var t=this.allFilters[n.colId];return t||(t=this.createFilterWrapper(n),this.allFilters[n.colId]=t),t};i.prototype.createFilterWrapper=function(n){var i=n.colDef,t={column:n},a=this.grid.onFilterChanged.bind(this.grid),v=i.filterParams,s={colDef:i,rowModel:this.rowModel,filterChangedCallback:a,filterParams:v,localeTextFunc:this.gridOptionsWrapper.getLocaleTextFunc(),valueGetter:this.createValueGetter(i)},c,o,h,l;if(typeof i.filter=="function"?(this.gridOptionsWrapper.isAngularCompileFilters()&&(c=this.$scope.$new(),t.scope=c,s.$scope=c),t.filter=new i.filter(s)):t.filter=i.filter==="text"?new e(s):i.filter==="number"?new f(s):new u(s),!t.filter.getGui)throw"Filter is missing method getGui";return o=document.createElement("div"),o.className="ag-filter",h=t.filter.getGui(),r.isNodeOrElement(h)?o.appendChild(h):(l=document.createElement("span"),l.innerHTML=h,o.appendChild(l)),t.gui=t.scope?this.$compile(o)(t.scope)[0]:o,t};i.prototype.showFilter=function(n,t){var i=this.getOrCreateFilterWrapper(n),u=this.grid.getPopupParent();this.positionPopup(t,i.gui,u);r.addAsModalPopup(u,i.gui);i.filter.afterGuiAttached&&i.filter.afterGuiAttached()};t.exports=i},{"./../utils":38,"./numberFilter":9,"./setFilter":11,"./textFilter":14}],8:[function(n,t){t.exports='<div><div><select class=ag-filter-select id=filterType><option value=1>[EQUALS]<\/option><option value=2>[LESS THAN]<\/option><option value=3>[GREATER THAN]<\/option><\/select><\/div><div><input class=ag-filter-filter id=filterText type=text placeholder="[FILTER...]"><\/div><\/div>'},{}],9:[function(n,t){function i(n){this.filterParams=n.filterParams;this.filterChangedCallback=n.filterChangedCallback;this.localeTextFunc=n.localeTextFunc;this.valueGetter=n.valueGetter;this.createGui();this.filterNumber=null;this.filterType=u;this.createApi()}var r=n("./../utils"),o=n("./numberFilter.html"),u=1,f=2,e=3;i.prototype.onNewRowsLoaded=function(){var n=this.filterParams&&this.filterParams.newRowsAction==="keep";n||(this.api.setType(u),this.api.setFilter(null))};i.prototype.afterGuiAttached=function(){this.eFilterTextField.focus()};i.prototype.doesFilterPass=function(n){var t,i;if(this.filterNumber===null)return!0;if(t=this.valueGetter(n),!t&&t!==0)return!1;i=typeof t=="number"?t:parseFloat(t);switch(this.filterType){case u:return i===this.filterNumber;case f:return i<=this.filterNumber;case e:return i>=this.filterNumber;default:return console.warn("invalid filter type "+this.filterType),!1}};i.prototype.getGui=function(){return this.eGui};i.prototype.isFilterActive=function(){return this.filterNumber!==null};i.prototype.createTemplate=function(){return o.replace("[FILTER...]",this.localeTextFunc("filterOoo","Filter...")).replace("[EQUALS]",this.localeTextFunc("equals","Equals")).replace("[LESS THAN]",this.localeTextFunc("lessThan","Less than")).replace("[GREATER THAN]",this.localeTextFunc("greaterThan","Greater than"))};i.prototype.createGui=function(){this.eGui=r.loadTemplate(this.createTemplate());this.eFilterTextField=this.eGui.querySelector("#filterText");this.eTypeSelect=this.eGui.querySelector("#filterType");r.addChangeListener(this.eFilterTextField,this.onFilterChanged.bind(this));this.eTypeSelect.addEventListener("change",this.onTypeChanged.bind(this))};i.prototype.onTypeChanged=function(){this.filterType=parseInt(this.eTypeSelect.value);this.filterChangedCallback()};i.prototype.onFilterChanged=function(){var n=r.makeNull(this.eFilterTextField.value);n&&n.trim()===""&&(n=null);this.filterNumber=n?parseFloat(n):null;this.filterChangedCallback()};i.prototype.createApi=function(){var n=this;this.api={EQUALS:u,LESS_THAN:f,GREATER_THAN:e,setType:function(t){n.filterType=t;n.eTypeSelect.value=t},setFilter:function(t){t=r.makeNull(t);t===null||typeof t=="number"||(t=parseFloat(t));n.filterNumber=t;n.eFilterTextField.value=t},getType:function(){return n.filterType},getFilter:function(){return n.filterNumber},getModel:function(){return n.isFilterActive()?{type:n.filterType,filter:n.filterNumber}:null},setModel:function(n){n?(this.setType(n.type),this.setFilter(n.filter)):this.setFilter(null)}}};i.prototype.getApi=function(){return this.api};t.exports=i},{"./../utils":38,"./numberFilter.html":8}],10:[function(n,t){t.exports='<div><div class=ag-filter-header-container><input class=ag-filter-filter type=text placeholder="[SEARCH...]"><\/div><div class=ag-filter-header-container><label><input id=selectAll type=checkbox class="ag-filter-checkbox"> ([SELECT ALL])<\/label><\/div><div class=ag-filter-list-viewport><div class=ag-filter-list-container><div id=itemForRepeat class=ag-filter-item><label><input type=checkbox class=ag-filter-checkbox filter-checkbox="true"> <span class=ag-filter-value><\/span><\/label><\/div><\/div><\/div><\/div>'},{}],11:[function(n,t){function i(n){this.filterParams=n.filterParams;this.rowHeight=this.filterParams&&this.filterParams.cellHeight?this.filterParams.cellHeight:e;this.model=new u(n.colDef,n.rowModel,n.valueGetter);this.filterChangedCallback=n.filterChangedCallback;this.valueGetter=n.valueGetter;this.rowsInBodyContainer={};this.colDef=n.colDef;this.localeTextFunc=n.localeTextFunc;this.filterParams&&(this.cellRenderer=this.filterParams.cellRenderer);this.createGui();this.addScrollListener();this.createApi()}var r=n("./../utils"),u=n("./setFilterModel"),f=n("./setFilter.html"),e=20;i.prototype.afterGuiAttached=function(){this.drawVirtualRows()};i.prototype.isFilterActive=function(){return this.model.isFilterActive()};i.prototype.doesFilterPass=function(n){var t;return this.model.isEverythingSelected()?!0:this.model.isNothingSelected()?!1:(t=this.valueGetter(n),t=r.makeNull(t),this.model.isValueSelected(t))};i.prototype.getGui=function(){return this.eGui};i.prototype.onNewRowsLoaded=function(){var n=this.filterParams&&this.filterParams.newRowsAction==="keep";this.model.refreshUniqueValues(n);this.setContainerHeight();this.refreshVirtualRows()};i.prototype.createTemplate=function(){return f.replace("[SELECT ALL]",this.localeTextFunc("selectAll","Select All")).replace("[SEARCH...]",this.localeTextFunc("searchOoo","Search..."))};i.prototype.createGui=function(){var n=this;this.eGui=r.loadTemplate(this.createTemplate());this.eListContainer=this.eGui.querySelector(".ag-filter-list-container");this.eFilterValueTemplate=this.eGui.querySelector("#itemForRepeat");this.eSelectAll=this.eGui.querySelector("#selectAll");this.eListViewport=this.eGui.querySelector(".ag-filter-list-viewport");this.eMiniFilter=this.eGui.querySelector(".ag-filter-filter");this.eListContainer.style.height=this.model.getUniqueValueCount()*this.rowHeight+"px";this.setContainerHeight();this.eMiniFilter.value=this.model.getMiniFilter();r.addChangeListener(this.eMiniFilter,function(){n.onMiniFilterChanged()});r.removeAllChildren(this.eListContainer);this.eSelectAll.onclick=this.onSelectAll.bind(this);this.model.isEverythingSelected()?(this.eSelectAll.indeterminate=!1,this.eSelectAll.checked=!0):this.model.isNothingSelected()?(this.eSelectAll.indeterminate=!1,this.eSelectAll.checked=!1):this.eSelectAll.indeterminate=!0};i.prototype.setContainerHeight=function(){this.eListContainer.style.height=this.model.getDisplayedValueCount()*this.rowHeight+"px"};i.prototype.drawVirtualRows=function(){var n=this.eListViewport.scrollTop,t=n+this.eListViewport.offsetHeight,i=Math.floor(n/this.rowHeight),r=Math.floor(t/this.rowHeight);this.ensureRowsRendered(i,r)};i.prototype.ensureRowsRendered=function(n,t){for(var u,f=this,r=Object.keys(this.rowsInBodyContainer),i=n;i<=t;i++){if(r.indexOf(i.toString())>=0){r.splice(r.indexOf(i.toString()),1);continue}this.model.getDisplayedValueCount()>i&&(u=this.model.getDisplayedValue(i),f.insertRow(u,i))}this.removeVirtualRows(r)};i.prototype.removeVirtualRows=function(n){var t=this;n.forEach(function(n){var i=t.rowsInBodyContainer[n];t.eListContainer.removeChild(i);delete t.rowsInBodyContainer[n]})};i.prototype.insertRow=function(n,t){var h=this,i=this.eFilterValueTemplate.cloneNode(!0),e=i.querySelector(".ag-filter-value"),u,o,s,f;this.cellRenderer?(u=this.cellRenderer({value:n}),r.isNode(u)?e.appendChild(u):e.innerHTML=u):(o="("+this.localeTextFunc("blanks","Blanks")+")",s=n===null?o:n,e.innerHTML=s);f=i.querySelector("input");f.checked=this.model.isValueSelected(n);f.onclick=function(){h.onCheckboxClicked(f,n)};i.style.top=this.rowHeight*t+"px";this.eListContainer.appendChild(i);this.rowsInBodyContainer[t]=i};i.prototype.onCheckboxClicked=function(n,t){var i=n.checked;i?(this.model.selectValue(t),this.model.isEverythingSelected()?(this.eSelectAll.indeterminate=!1,this.eSelectAll.checked=!0):this.eSelectAll.indeterminate=!0):(this.model.unselectValue(t),this.model.isNothingSelected()?(this.eSelectAll.indeterminate=!1,this.eSelectAll.checked=!1):this.eSelectAll.indeterminate=!0);this.filterChangedCallback()};i.prototype.onMiniFilterChanged=function(){var n=this.model.setMiniFilter(this.eMiniFilter.value);n&&(this.setContainerHeight(),this.refreshVirtualRows())};i.prototype.refreshVirtualRows=function(){this.clearVirtualRows();this.drawVirtualRows()};i.prototype.clearVirtualRows=function(){var n=Object.keys(this.rowsInBodyContainer);this.removeVirtualRows(n)};i.prototype.onSelectAll=function(){var n=this.eSelectAll.checked;n?this.model.selectEverything():this.model.selectNothing();this.updateAllCheckboxes(n);this.filterChangedCallback()};i.prototype.updateAllCheckboxes=function(n){for(var i=this.eListContainer.querySelectorAll("[filter-checkbox=true]"),t=0,r=i.length;t<r;t++)i[t].checked=n};i.prototype.addScrollListener=function(){var n=this;this.eListViewport.addEventListener("scroll",function(){n.drawVirtualRows()})};i.prototype.getApi=function(){return this.api};i.prototype.createApi=function(){var n=this.model,t=this;this.api={setMiniFilter:function(t){n.setMiniFilter(t)},getMiniFilter:function(){return n.getMiniFilter()},selectEverything:function(){n.selectEverything()},isFilterActive:function(){return n.isFilterActive()},selectNothing:function(){n.selectNothing()},unselectValue:function(i){n.unselectValue(i);t.refreshVirtualRows()},selectValue:function(i){n.selectValue(i);t.refreshVirtualRows()},isValueSelected:function(t){return n.isValueSelected(t)},isEverythingSelected:function(){return n.isEverythingSelected()},isNothingSelected:function(){return n.isNothingSelected()},getUniqueValueCount:function(){return n.getUniqueValueCount()},getUniqueValue:function(t){return n.getUniqueValue(t)},getModel:function(){return n.getModel()},setModel:function(i){n.setModel(i);t.refreshVirtualRows()}}};t.exports=i},{"./../utils":38,"./setFilter.html":10,"./setFilterModel":12}],12:[function(n,t){function i(n,t,i){this.colDef=n;this.rowModel=t;this.valueGetter=i;this.createUniqueValues();this.displayedValues=this.uniqueValues;this.miniFilter=null;this.selectedValuesMap={};this.selectEverything()}var r=n("../utils");i.prototype.refreshUniqueValues=function(n){this.createUniqueValues();var t=Object.keys(this.selectedValuesMap);this.selectedValuesMap={};this.filterDisplayedValues();n?this.setModel(t):this.selectEverything()};i.prototype.createUniqueValues=function(){this.uniqueValues=this.colDef.filterParams&&this.colDef.filterParams.values?r.toStrings(this.colDef.filterParams.values):r.toStrings(this.iterateThroughNodesForValues());this.colDef.comparator?this.uniqueValues.sort(this.colDef.comparator):this.uniqueValues.sort(r.defaultComparator)};i.prototype.iterateThroughNodesForValues=function(){function i(u){for(var e,f,o=0;o<u.length;o++)e=u[o],e.group&&!e.footer?i(e.children):(f=r.valueGetter(e),(f===""||f===undefined)&&(f=null),n.hasOwnProperty(f)||(t.push(f),n[f]=1))}var n={},t=[],r=this,u=this.rowModel.getTopLevelNodes();return i(u),t};i.prototype.setMiniFilter=function(n){return(n=r.makeNull(n),this.miniFilter===n)?!1:(this.miniFilter=n,this.filterDisplayedValues(),!0)};i.prototype.getMiniFilter=function(){return this.miniFilter};i.prototype.filterDisplayedValues=function(){var i,n,r,t;if(this.miniFilter===null){this.displayedValues=this.uniqueValues;return}for(this.displayedValues=[],i=this.miniFilter.toUpperCase(),n=0,r=this.uniqueValues.length;n<r;n++)t=this.uniqueValues[n],t!==null&&t.toString().toUpperCase().indexOf(i)>=0&&this.displayedValues.push(t)};i.prototype.getDisplayedValueCount=function(){return this.displayedValues.length};i.prototype.getDisplayedValue=function(n){return this.displayedValues[n]};i.prototype.selectEverything=function(){for(var i,t=this.uniqueValues.length,n=0;n<t;n++)i=this.uniqueValues[n],this.selectedValuesMap[i]=null;this.selectedValuesCount=t};i.prototype.isFilterActive=function(){return this.uniqueValues.length!==this.selectedValuesCount};i.prototype.selectNothing=function(){this.selectedValuesMap={};this.selectedValuesCount=0};i.prototype.getUniqueValueCount=function(){return this.uniqueValues.length};i.prototype.getUniqueValue=function(n){return this.uniqueValues[n]};i.prototype.unselectValue=function(n){this.selectedValuesMap[n]!==undefined&&(delete this.selectedValuesMap[n],this.selectedValuesCount--)};i.prototype.selectValue=function(n){this.selectedValuesMap[n]===undefined&&(this.selectedValuesMap[n]=null,this.selectedValuesCount++)};i.prototype.isValueSelected=function(n){return this.selectedValuesMap[n]!==undefined};i.prototype.isEverythingSelected=function(){return this.uniqueValues.length===this.selectedValuesCount};i.prototype.isNothingSelected=function(){return this.uniqueValues.length===0};i.prototype.getModel=function(){if(!this.isFilterActive())return null;var n=[];return r.iterateObject(this.selectedValuesMap,function(t){n.push(t)}),n};i.prototype.setModel=function(n){var t,i;if(n)for(this.selectNothing(),t=0;t<n.length;t++)i=n[t],this.uniqueValues.indexOf(i)>=0?this.selectValue(n[t]):console.warn("Value "+i+" is not a valid value for filter");else this.selectEverything()};t.exports=i},{"../utils":38}],13:[function(n,t){t.exports='<div><div><select class=ag-filter-select id=filterType><option value=1>[CONTAINS]<\/option><option value=2>[EQUALS]<\/option><option value=3>[STARTS WITH]<\/option><option value=4>[ENDS WITH]<\/option><\/select><\/div><div><input class=ag-filter-filter id=filterText type=text placeholder="[FILTER...]"><\/div><\/div>'},{}],14:[function(n,t){function i(n){this.filterParams=n.filterParams;this.filterChangedCallback=n.filterChangedCallback;this.localeTextFunc=n.localeTextFunc;this.valueGetter=n.valueGetter;this.createGui();this.filterText=null;this.filterType=u;this.createApi()}var r=n("../utils"),s=n("./textFilter.html"),u=1,f=2,e=3,o=4;i.prototype.onNewRowsLoaded=function(){var n=this.filterParams&&this.filterParams.newRowsAction==="keep";n||(this.api.setType(u),this.api.setFilter(null))};i.prototype.afterGuiAttached=function(){this.eFilterTextField.focus()};i.prototype.doesFilterPass=function(n){var i,t,r;if(!this.filterText)return!0;if(i=this.valueGetter(n),!i)return!1;t=i.toString().toLowerCase();switch(this.filterType){case u:return t.indexOf(this.filterText)>=0;case f:return t===this.filterText;case e:return t.indexOf(this.filterText)===0;case o:return r=t.indexOf(this.filterText),r>=0&&r===t.length-this.filterText.length;default:return console.warn("invalid filter type "+this.filterType),!1}};i.prototype.getGui=function(){return this.eGui};i.prototype.isFilterActive=function(){return this.filterText!==null};i.prototype.createTemplate=function(){return s.replace("[FILTER...]",this.localeTextFunc("filterOoo","Filter...")).replace("[EQUALS]",this.localeTextFunc("equals","Equals")).replace("[CONTAINS]",this.localeTextFunc("contains","Contains")).replace("[STARTS WITH]",this.localeTextFunc("startsWith","Starts with")).replace("[ENDS WITH]",this.localeTextFunc("endsWith","Ends with"))};i.prototype.createGui=function(){this.eGui=r.loadTemplate(this.createTemplate());this.eFilterTextField=this.eGui.querySelector("#filterText");this.eTypeSelect=this.eGui.querySelector("#filterType");r.addChangeListener(this.eFilterTextField,this.onFilterChanged.bind(this));this.eTypeSelect.addEventListener("change",this.onTypeChanged.bind(this))};i.prototype.onTypeChanged=function(){this.filterType=parseInt(this.eTypeSelect.value);this.filterChangedCallback()};i.prototype.onFilterChanged=function(){var n=r.makeNull(this.eFilterTextField.value);n&&n.trim()===""&&(n=null);this.filterText=n?n.toLowerCase():null;this.filterChangedCallback()};i.prototype.createApi=function(){var n=this;this.api={EQUALS:f,CONTAINS:u,STARTS_WITH:e,ENDS_WITH:o,setType:function(t){n.filterType=t;n.eTypeSelect.value=t},setFilter:function(t){t=r.makeNull(t);t?(n.filterText=t.toLowerCase(),n.eFilterTextField.value=t):(n.filterText=null,n.eFilterTextField.value=null)},getType:function(){return n.filterType},getFilter:function(){return n.filterText},getModel:function(){return n.isFilterActive()?{type:n.filterType,filter:n.filterText}:null},setModel:function(n){n?(this.setType(n.type),this.setFilter(n.filter)):this.setFilter(null)}}};i.prototype.getApi=function(){return this.api};t.exports=i},{"../utils":38,"./textFilter.html":13}],15:[function(n,t){function i(n,t,i,e,o){var s,h,c;this.gridOptions=t;this.gridOptionsWrapper=new f(this.gridOptions);this.setupComponents(i,e,n);s=this;this.quickFilter=null;i&&i.$watch(o,function(n){s.onQuickFilterChanged(n)});this.virtualRowCallbacks={};h=this.gridOptionsWrapper.isDontUseScrolls();this.addApi();this.scrollWidth=u.getScrollbarWidth();this.setupColumns();this.inMemoryRowController.setAllRows(this.gridOptionsWrapper.getAllRows());h||window.addEventListener("resize",this.doLayout.bind(this));this.updateModelAndRefresh(r.STEP_EVERYTHING);c=!this.gridOptionsWrapper.getAllRows()&&!this.gridOptionsWrapper.isVirtualPaging();this.showLoadingPanel(c);this.gridOptionsWrapper.getDatasource()&&this.setDatasource();this.doLayout();typeof this.gridOptionsWrapper.getReady()=="function"&&this.gridOptionsWrapper.getReady()(t.api)}var u=n("./utils"),r=n("./constants"),f=n("./gridOptionsWrapper"),e=n("./selectionController"),o=n("./filter/filterManager"),s=n("./selectionRendererFactory"),h=n("./columnController"),c=n("./rowRenderer"),l=n("./headerRenderer"),a=n("./rowControllers/inMemoryRowController"),v=n("./rowControllers/virtualPageRowController"),y=n("./rowControllers/paginationController"),p=n("./expressionService"),w=n("./templateService"),b=n("./toolPanel/toolPanel"),k=n("./layout/borderLayout"),d=n("./gridPanel/gridPanel");i.prototype.setupComponents=function(n,t,i){var r=this.gridOptionsWrapper,pt=this.gridOptions,st=r.isDontUseScrolls(),tt=new e,it=new o,ht=new s,rt=new h,f=new c,at=new l,ot=new a,vt=new v,ut=new p,yt=new w,u=new d(r),g=rt.getModel(),ct,ft,nt,et,lt;yt.init(n);tt.init(this,u,r,n,f);it.init(this,r,t,n,ut,g);ht.init(this,tt);rt.init(this,ht,r,ut);f.init(pt,g,r,u,this,ht,t,n,tt,ut,yt);at.init(r,rt,g,u,this,it,n,t,ut);ot.init(r,g,this,it,n,ut);vt.init(f,r,this);u.init(g,f);ct=null;ft=null;st||(ft=new b,ct=ft.layout,ft.init(rt,ot,r));nt=ot.getModel();tt.setRowModel(nt);it.setRowModel(nt);f.setRowModel(nt);u.setRowModel(nt);et=null;lt=null;st||(et=new y,et.init(this,r),lt=et.getGui());this.rowModel=nt;this.selectionController=tt;this.columnController=rt;this.columnModel=g;this.inMemoryRowController=ot;this.virtualPageRowController=vt;this.rowRenderer=f;this.headerRenderer=at;this.paginationController=et;this.filterManager=it;this.eToolPanel=ft;this.gridPanel=u;this.eRootPanel=new k({center:u.layout,east:ct,south:lt,dontFill:st,name:"eRootPanel"});this.eRootPanel.setSouthVisible(!1);this.showToolPanel(r.isShowToolPanel());i.appendChild(this.eRootPanel.getGui())};i.prototype.showToolPanel=function(n){if(!this.eToolPanel){this.toolPanelShowing=!1;return}this.toolPanelShowing=n;this.eRootPanel.setEastVisible(n)};i.prototype.isToolPanelShowing=function(){return this.toolPanelShowing};i.prototype.setDatasource=function(n){var t,i;n&&(this.gridOptions.datasource=n);t=this.gridOptionsWrapper.getDatasource();this.doingVirtualPaging=this.gridOptionsWrapper.isVirtualPaging()&&t;this.doingPagination=t&&!this.doingVirtualPaging;this.doingVirtualPaging?(this.paginationController.setDatasource(null),this.virtualPageRowController.setDatasource(t),this.rowModel=this.virtualPageRowController.getModel(),i=!1):this.doingPagination?(this.paginationController.setDatasource(t),this.virtualPageRowController.setDatasource(null),this.rowModel=this.inMemoryRowController.getModel(),i=!0):(this.paginationController.setDatasource(null),this.virtualPageRowController.setDatasource(null),this.rowModel=this.inMemoryRowController.getModel(),i=!1);this.selectionController.setRowModel(this.rowModel);this.filterManager.setRowModel(this.rowModel);this.rowRenderer.setRowModel(this.rowModel);this.eRootPanel.setSouthVisible(i);this.rowRenderer.refreshView();this.doLayout()};i.prototype.refreshHeaderAndBody=function(){this.headerRenderer.refreshHeader();this.headerRenderer.updateFilterIcons();this.headerRenderer.updateSortIcons();this.gridPanel.setBodyContainerWidth();this.gridPanel.setPinnedColContainerWidth();this.rowRenderer.refreshView()};i.prototype.setFinished=function(){window.removeEventListener("resize",this.doLayout)};i.prototype.getPopupParent=function(){return this.eRootPanel.getGui()};i.prototype.getQuickFilter=function(){return this.quickFilter};i.prototype.onQuickFilterChanged=function(n){if((n===undefined||n==="")&&(n=null),this.quickFilter!==n){if(this.gridOptionsWrapper.isVirtualPaging()){console.warn("ag-grid: cannot do quick filtering when doing virtual paging");return}(n===undefined||n==="")&&(n=null);n!==null&&(n=n.toUpperCase());this.quickFilter=n;this.onFilterChanged()}};i.prototype.onFilterChanged=function(){this.headerRenderer.updateFilterIcons();this.gridOptionsWrapper.isEnableServerSideFilter()?this.setDatasource():this.updateModelAndRefresh(r.STEP_FILTER)};i.prototype.onRowClicked=function(n,t,i){var e,r,u,f,o,s;(this.gridOptions.rowClicked&&(e={node:i,data:i.data,event:n,rowIndex:t},this.gridOptions.rowClicked(e)),i.group)||(r=this.gridOptionsWrapper,u=this.selectionController,r.isRowSelection())&&(r.isSuppressRowClickSelection()||(f=n.ctrlKey||n.metaKey,o=f&&u.isNodeSelected(i)&&r.isRowDeselection(),o?u.deselectNode(i):(s=f,u.selectNode(i,s))))};i.prototype.showLoadingPanel=function(n){this.gridPanel.showLoading(n)};i.prototype.setupColumns=function(){this.gridPanel.setHeaderHeight();this.columnController.setColumns(this.gridOptionsWrapper.getColumnDefs());this.gridPanel.showPinnedColContainersIfNeeded();this.headerRenderer.refreshHeader();this.gridOptionsWrapper.isDontUseScrolls()||(this.gridPanel.setPinnedColContainerWidth(),this.gridPanel.setBodyContainerWidth());this.headerRenderer.updateFilterIcons()};i.prototype.updateModelAndRefresh=function(n,t){this.inMemoryRowController.updateModel(n);this.rowRenderer.refreshView(t)};i.prototype.setRows=function(n,t){n&&(this.gridOptions.rowData=n);this.inMemoryRowController.setAllRows(this.gridOptionsWrapper.getAllRows(),t);this.selectionController.deselectAll();this.filterManager.onNewRowsLoaded();this.updateModelAndRefresh(r.STEP_EVERYTHING);this.headerRenderer.updateFilterIcons();this.showLoadingPanel(!1)};i.prototype.ensureNodeVisible=function(n){var t,r;if(this.doingVirtualPaging)throw"Cannot use ensureNodeVisible when doing virtual paging, as we cannot check rows that are not in memory";var u=this.rowModel.getVirtualRowCount(),f=typeof n=="function",i=-1;for(t=0;t<u;t++)if(r=this.rowModel.getVirtualRow(t),f){if(n(r)){i=t;break}}else if(n===r||n===r.data){i=t;break}i>=0&&this.gridPanel.ensureIndexVisible(i)};i.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()};i.prototype.addApi=function(){var n=this,t={setDatasource:function(t){n.setDatasource(t)},onNewDatasource:function(){n.setDatasource()},setRows:function(t){n.setRows(t)},onNewRows:function(){n.setRows()},onNewCols:function(){n.onNewCols()},unselectAll:function(){console.error("unselectAll deprecated, call deselectAll instead");this.deselectAll()},refreshView:function(){n.rowRenderer.refreshView()},softRefreshView:function(){n.rowRenderer.softRefreshView()},refreshGroupRows:function(){n.rowRenderer.refreshGroupRows()},refreshHeader:function(){n.headerRenderer.refreshHeader();n.headerRenderer.updateFilterIcons()},getModel:function(){return n.rowModel},onGroupExpandedOrCollapsed:function(t){n.updateModelAndRefresh(r.STEP_MAP,t)},expandAll:function(){n.inMemoryRowController.expandOrCollapseAll(!0,null);n.updateModelAndRefresh(r.STEP_MAP)},collapseAll:function(){n.inMemoryRowController.expandOrCollapseAll(!1,null);n.updateModelAndRefresh(r.STEP_MAP)},addVirtualRowListener:function(t,i){n.addVirtualRowListener(t,i)},rowDataChanged:function(t){n.rowRenderer.rowDataChanged(t)},setQuickFilter:function(t){n.onQuickFilterChanged(t)},selectIndex:function(t,i,r){n.selectionController.selectIndex(t,i,r)},deselectIndex:function(t){n.selectionController.deselectIndex(t)},selectNode:function(t,i,r){n.selectionController.selectNode(t,i,r)},deselectNode:function(t){n.selectionController.deselectNode(t)},selectAll:function(){n.selectionController.selectAll();n.rowRenderer.refreshView()},deselectAll:function(){n.selectionController.deselectAll();n.rowRenderer.refreshView()},recomputeAggregates:function(){n.inMemoryRowController.doAggregate();n.rowRenderer.refreshGroupRows()},sizeColumnsToFit:function(){if(n.gridOptionsWrapper.isDontUseScrolls()){console.warn("ag-grid: sizeColumnsToFit does not work when dontUseScrolls=true");return}var t=n.gridPanel.getWidthForSizeColsToFit();n.columnController.sizeColumnsToFit(t)},showLoading:function(t){n.showLoadingPanel(t)},isNodeSelected:function(t){return n.selectionController.isNodeSelected(t)},getSelectedNodes:function(){return n.selectionController.getSelectedNodes()},getBestCostNodeSelection:function(){return n.selectionController.getBestCostNodeSelection()},ensureColIndexVisible:function(t){n.gridPanel.ensureColIndexVisible(t)},ensureIndexVisible:function(t){n.gridPanel.ensureIndexVisible(t)},ensureNodeVisible:function(t){n.ensureNodeVisible(t)},forEachInMemory:function(t){n.rowModel.forEachInMemory(t)},getFilterApiForColDef:function(n){return console.warn("ag-grid API method getFilterApiForColDef deprecated, use getFilterApi instead"),this.getFilterApi(n)},getFilterApi:function(t){var i=n.columnModel.getColumn(t);return n.filterManager.getFilterApi(i)},getColumnDef:function(t){var i=n.columnModel.getColumn(t);return i?i.colDef:null},onFilterChanged:function(){n.onFilterChanged()},setSortModel:function(t){n.setSortModel(t)},getSortModel:function(){return n.getSortModel()},setFilterModel:function(t){n.filterManager.setFilterModel(t)},getFilterModel:function(){return n.getFilterModel()},getFocusedCell:function(){return n.rowRenderer.getFocusedCell()},setFocusedCell:function(t,i){n.setFocusedCell(t,i)},showToolPanel:function(t){n.showToolPanel(t)},isToolPanelShowing:function(){return n.isToolPanelShowing()},hideColumn:function(t,i){n.columnController.hideColumns([t],i)},hideColumns:function(t,i){n.columnController.hideColumns(t,i)}};this.gridOptions.api=t};i.prototype.setFocusedCell=function(n,t){this.gridPanel.ensureIndexVisible(n);this.gridPanel.ensureColIndexVisible(t);var i=this;setTimeout(function(){i.rowRenderer.setFocusedCell(n,t)},10)};i.prototype.getSortModel=function(){for(var i=this.columnModel.getAllColumns(),t=[],r,u,n=0;n<i.length;n++)i[n].sort&&t.push(i[n]);for(t.sort(function(n,t){return n.sortedAt-t.sortedAt}),r=[],n=0;n<t.length;n++)u={field:t[n].colDef.field,sort:t[n].sort},r.push(u);return r};i.prototype.setSortModel=function(n){var o,f,r,i,u;if(!this.gridOptionsWrapper.isEnableSorting()){console.warn("ag-grid: You are setting the sort model on a grid that does not have sorting enabled");return}for(o=n!==null&&n!==undefined&&n.length>0,f=this.columnModel.getAllColumns(),r=0;r<f.length;r++){var t=f[r],e=null,s=-1;if(o&&!t.colDef.suppressSorting)for(i=0;i<n.length;i++)u=n[i],typeof u.field=="string"&&typeof t.colDef.field=="string"&&u.field===t.colDef.field&&(e=u.sort,s=i);e?(t.sort=e,t.sortedAt=s):(t.sort=null,t.sortedAt=null)}this.onSortingChanged()};i.prototype.onSortingChanged=function(){this.headerRenderer.updateSortIcons();this.gridOptionsWrapper.isEnableServerSideSorting()?this.setDatasource():this.updateModelAndRefresh(r.STEP_SORT)};i.prototype.addVirtualRowListener=function(n,t){this.virtualRowCallbacks[n]||(this.virtualRowCallbacks[n]=[]);this.virtualRowCallbacks[n].push(t)};i.prototype.onVirtualRowSelected=function(n,t){this.virtualRowCallbacks[n]&&this.virtualRowCallbacks[n].forEach(function(n){typeof n.rowRemoved=="function"&&n.rowSelected(t)})};i.prototype.onVirtualRowRemoved=function(n){this.virtualRowCallbacks[n]&&this.virtualRowCallbacks[n].forEach(function(n){typeof n.rowRemoved=="function"&&n.rowRemoved()});delete this.virtualRowCallbacks[n]};i.prototype.onNewCols=function(){this.setupColumns();this.updateModelAndRefresh(r.STEP_EVERYTHING)};i.prototype.updateBodyContainerWidthAfterColResize=function(){this.rowRenderer.setMainRowWidths();this.gridPanel.setBodyContainerWidth()};i.prototype.updatePinnedColContainerWidthAfterColResize=function(){this.gridPanel.setPinnedColContainerWidth()};i.prototype.doLayout=function(){setTimeout(this.doLayoutForReal.bind(this),0);setTimeout(this.doLayoutForReal.bind(this),10);setTimeout(this.doLayoutForReal.bind(this),20);this.doLayoutForReal()};i.prototype.doLayoutForReal=function(){this.eRootPanel.doLayout();this.rowRenderer.drawVirtualRows();this.gridPanel.setPinnedColHeight()};t.exports=i},{"./columnController":3,"./constants":4,"./expressionService":6,"./filter/filterManager":7,"./gridOptionsWrapper":16,"./gridPanel/gridPanel":19,"./headerRenderer":22,"./layout/borderLayout":24,"./rowControllers/inMemoryRowController":26,"./rowControllers/paginationController":27,"./rowControllers/virtualPageRowController":29,"./rowRenderer":30,"./selectionController":31,"./selectionRendererFactory":32,"./templateService":34,"./toolPanel/toolPanel":37,"./utils":38}],16:[function(n,t){function i(n){this.gridOptions=n;this.setupDefaults()}function r(n){return n===!0||n==="true"}var u=30,f=n("./constants");i.prototype.isRowSelection=function(){return this.gridOptions.rowSelection==="single"||this.gridOptions.rowSelection==="multiple"};i.prototype.isRowDeselection=function(){return r(this.gridOptions.rowDeselection)};i.prototype.isRowSelectionMulti=function(){return this.gridOptions.rowSelection==="multiple"};i.prototype.getContext=function(){return this.gridOptions.context};i.prototype.isVirtualPaging=function(){return r(this.gridOptions.virtualPaging)};i.prototype.isShowToolPanel=function(){return r(this.gridOptions.showToolPanel)};i.prototype.isRowsAlreadyGrouped=function(){return r(this.gridOptions.rowsAlreadyGrouped)};i.prototype.isGroupSelectsChildren=function(){return r(this.gridOptions.groupSelectsChildren)};i.prototype.isGroupIncludeFooter=function(){return r(this.gridOptions.groupIncludeFooter)};i.prototype.isSuppressRowClickSelection=function(){return r(this.gridOptions.suppressRowClickSelection)};i.prototype.isSuppressCellSelection=function(){return r(this.gridOptions.suppressCellSelection)};i.prototype.isSuppressUnSort=function(){return r(this.gridOptions.suppressUnSort)};i.prototype.isSuppressMultiSort=function(){return r(this.gridOptions.suppressMultiSort)};i.prototype.isGroupSuppressAutoColumn=function(){return r(this.gridOptions.groupSuppressAutoColumn)};i.prototype.isGroupHeaders=function(){return r(this.gridOptions.groupHeaders)};i.prototype.isDontUseScrolls=function(){return r(this.gridOptions.dontUseScrolls)};i.prototype.isSuppressDescSort=function(){return r(this.gridOptions.suppressDescSort)};i.prototype.getRowStyle=function(){return this.gridOptions.rowStyle};i.prototype.getRowClass=function(){return this.gridOptions.rowClass};i.prototype.getHeaderCellRenderer=function(){return this.gridOptions.headerCellRenderer};i.prototype.getApi=function(){return this.gridOptions.api};i.prototype.isEnableColResize=function(){return this.gridOptions.enableColResize};i.prototype.getGroupDefaultExpanded=function(){return this.gridOptions.groupDefaultExpanded};i.prototype.getGroupKeys=function(){return this.gridOptions.groupKeys};i.prototype.getGroupAggFunction=function(){return this.gridOptions.groupAggFunction};i.prototype.getGroupAggFields=function(){return this.gridOptions.groupAggFields};i.prototype.getAllRows=function(){return this.gridOptions.rowData};i.prototype.isGroupUseEntireRow=function(){return r(this.gridOptions.groupUseEntireRow)};i.prototype.getGroupColumnDef=function(){return this.gridOptions.groupColumnDef};i.prototype.isAngularCompileRows=function(){return r(this.gridOptions.angularCompileRows)};i.prototype.isAngularCompileFilters=function(){return r(this.gridOptions.angularCompileFilters)};i.prototype.isAngularCompileHeaders=function(){return r(this.gridOptions.angularCompileHeaders)};i.prototype.getColumnDefs=function(){return this.gridOptions.columnDefs};i.prototype.getRowHeight=function(){return this.gridOptions.rowHeight};i.prototype.getModelUpdated=function(){return this.gridOptions.modelUpdated};i.prototype.getCellClicked=function(){return this.gridOptions.cellClicked};i.prototype.getCellDoubleClicked=function(){return this.gridOptions.cellDoubleClicked};i.prototype.getCellValueChanged=function(){return this.gridOptions.cellValueChanged};i.prototype.getCellFocused=function(){return this.gridOptions.cellFocused};i.prototype.getRowSelected=function(){return this.gridOptions.rowSelected};i.prototype.getSelectionChanged=function(){return this.gridOptions.selectionChanged};i.prototype.getVirtualRowRemoved=function(){return this.gridOptions.virtualRowRemoved};i.prototype.getDatasource=function(){return this.gridOptions.datasource};i.prototype.getReady=function(){return this.gridOptions.ready};i.prototype.getRowBuffer=function(){return this.gridOptions.rowBuffer};i.prototype.getGroupRowInnerRenderer=function(){return this.gridOptions.groupInnerRenderer?(console.warn("ag-grid: as of v1.10.0 (21st Jun 2015) groupInnerRenderer is nwo called groupRowInnerRenderer. Please change you code as groupInnerRenderer is deprecated."),this.gridOptions.groupInnerRenderer):this.gridOptions.groupRowInnerRenderer};i.prototype.getColWidth=function(){return typeof this.gridOptions.colWidth!="number"||this.gridOptions.colWidth<f.MIN_COL_WIDTH?200:this.gridOptions.colWidth};i.prototype.isEnableSorting=function(){return r(this.gridOptions.enableSorting)||r(this.gridOptions.enableServerSideSorting)};i.prototype.isEnableServerSideSorting=function(){return r(this.gridOptions.enableServerSideSorting)};i.prototype.isEnableFilter=function(){return r(this.gridOptions.enableFilter)||r(this.gridOptions.enableServerSideFilter)};i.prototype.isEnableServerSideFilter=function(){return this.gridOptions.enableServerSideFilter};i.prototype.setSelectedRows=function(n){return this.gridOptions.selectedRows=n};i.prototype.setSelectedNodesById=function(n){return this.gridOptions.selectedNodesById=n};i.prototype.getIcons=function(){return this.gridOptions.icons};i.prototype.getHeaderHeight=function(){return typeof this.gridOptions.headerHeight=="number"?this.gridOptions.headerHeight:this.isGroupHeaders()?50:25};i.prototype.setupDefaults=function(){this.gridOptions.rowHeight||(this.gridOptions.rowHeight=u)};i.prototype.getPinnedColCount=function(){return this.isDontUseScrolls()?0:this.gridOptions.pinnedColumnCount?Number(this.gridOptions.pinnedColumnCount):0};i.prototype.getLocaleTextFunc=function(){var n=this;return function(t,i){var r=n.gridOptions.localeText;return r&&r[t]?r[t]:i}};t.exports=i},{"./constants":4}],17:[function(n,t){t.exports="<div><div class=ag-header><div class=ag-pinned-header><\/div><div class=ag-header-viewport><div class=ag-header-container><\/div><\/div><\/div><div class=ag-body><div class=ag-pinned-cols-viewport><div class=ag-pinned-cols-container><\/div><\/div><div class=ag-body-viewport-wrapper><div class=ag-body-viewport><div class=ag-body-container><\/div><\/div><\/div><\/div><\/div>"},{}],18:[function(n,t){t.exports="<div><div class=ag-header-container><\/div><div class=ag-body-container><\/div><\/div>"},{}],19:[function(n,t){function i(n){this.gridOptionsWrapper=n;this.forPrint=this.gridOptionsWrapper.isDontUseScrolls();this.setupComponents();this.scrollWidth=r.getScrollbarWidth()}var u=n("./grid.html"),f=n("./gridNoScrolls.html"),e=n("./loading.html"),o=n("../layout/borderLayout"),r=n("../utils");i.prototype.setupComponents=function(){this.forPrint?(this.eRoot=r.loadTemplate(f),r.addCssClass(this.eRoot,"ag-root ag-no-scrolls")):(this.eRoot=r.loadTemplate(u),r.addCssClass(this.eRoot,"ag-root ag-scrolls"));this.findElements();this.layout=new o({overlay:r.loadTemplate(e),center:this.eRoot,dontFill:this.forPrint,name:"eGridPanel"});this.addScrollListener()};i.prototype.ensureIndexVisible=function(n){var o=this.rowModel.getVirtualRowCount(),e;if(typeof n!="number"||n<0||n>=o){console.warn("invalid row index for ensureIndexVisible: "+n);return}var r=this.gridOptionsWrapper.getRowHeight(),t=r*n,u=t+r,f=this.eBodyViewport.scrollTop,i=this.eBodyViewport.offsetHeight,s=this.eBodyViewport.clientWidth<this.eBodyViewport.scrollWidth;s&&(i-=this.scrollWidth);var h=f+i,c=f>t,l=h<u;c?this.eBodyViewport.scrollTop=t:l&&(e=u-i,this.eBodyViewport.scrollTop=e)};i.prototype.ensureColIndexVisible=function(n){var t,e,u,i,r,h;if(typeof n!="number"){console.warn("col index must be a number: "+n);return}if(t=this.columnModel.getDisplayedColumns(),typeof n!="number"||n<0||n>=t.length){console.warn("invalid col index for ensureColIndexVisible: "+n+", should be between 0 and "+(t.length-1));return}if(e=t[n],u=this.gridOptionsWrapper.getPinnedColCount(),n<u){console.warn("invalid col index for ensureColIndexVisible: "+n+", scrolling to a pinned col makes no sense");return}for(i=0,r=u;r<n;r++)i+=t[r].actualWidth;var o=i+e.actualWidth,s=this.eBodyViewport.scrollLeft,f=this.eBodyViewport.offsetWidth,c=this.eBodyViewport.clientHeight<this.eBodyViewport.scrollHeight;c&&(f-=this.scrollWidth);var l=s+f,a=s>i,v=l<o;a?this.eBodyViewport.scrollLeft=i:v&&(h=o-f,this.eBodyViewport.scrollLeft=h)};i.prototype.showLoading=function(n){this.layout.setOverlayVisible(n)};i.prototype.getWidthForSizeColsToFit=function(){var n=this.eBody.clientWidth,t=this.eBodyViewport.clientHeight<this.eBodyViewport.scrollHeight;return t&&(n-=this.scrollWidth),n};i.prototype.init=function(n,t){this.columnModel=n;this.rowRenderer=t};i.prototype.setRowModel=function(n){this.rowModel=n};i.prototype.getBodyContainer=function(){return this.eBodyContainer};i.prototype.getBodyViewport=function(){return this.eBodyViewport};i.prototype.getPinnedColsContainer=function(){return this.ePinnedColsContainer};i.prototype.getHeaderContainer=function(){return this.eHeaderContainer};i.prototype.getRoot=function(){return this.eRoot};i.prototype.getPinnedHeader=function(){return this.ePinnedHeader};i.prototype.getHeader=function(){return this.eHeader};i.prototype.getRowsParent=function(){return this.eParentOfRows};i.prototype.findElements=function(){this.forPrint?(this.eHeaderContainer=this.eRoot.querySelector(".ag-header-container"),this.eBodyContainer=this.eRoot.querySelector(".ag-body-container"),this.eParentOfRows=this.eBodyContainer):(this.eBody=this.eRoot.querySelector(".ag-body"),this.eBodyContainer=this.eRoot.querySelector(".ag-body-container"),this.eBodyViewport=this.eRoot.querySelector(".ag-body-viewport"),this.eBodyViewportWrapper=this.eRoot.querySelector(".ag-body-viewport-wrapper"),this.ePinnedColsContainer=this.eRoot.querySelector(".ag-pinned-cols-container"),this.ePinnedColsViewport=this.eRoot.querySelector(".ag-pinned-cols-viewport"),this.ePinnedHeader=this.eRoot.querySelector(".ag-pinned-header"),this.eHeader=this.eRoot.querySelector(".ag-header"),this.eHeaderContainer=this.eRoot.querySelector(".ag-header-container"),this.eParentOfRows=this.eBody)};i.prototype.setBodyContainerWidth=function(){var n=this.columnModel.getBodyContainerWidth()+"px";this.eBodyContainer.style.width=n};i.prototype.setPinnedColContainerWidth=function(){var n=this.columnModel.getPinnedContainerWidth()+"px";this.ePinnedColsContainer.style.width=n;this.eBodyViewportWrapper.style.marginLeft=n};i.prototype.showPinnedColContainersIfNeeded=function(){if(!this.forPrint){var n=this.gridOptionsWrapper.getPinnedColCount()>0;n?(this.ePinnedHeader.style.display="inline-block",this.ePinnedColsViewport.style.display="inline"):(this.ePinnedHeader.style.display="none",this.ePinnedColsViewport.style.display="none")}};i.prototype.setHeaderHeight=function(){var t=this.gridOptionsWrapper.getHeaderHeight(),n=t+"px";this.forPrint?this.eHeaderContainer.style.height=n:(this.eHeader.style.height=n,this.eBody.style.paddingTop=n)};i.prototype.setPinnedColHeight=function(){if(!this.forPrint){var n=this.eBodyViewport.offsetHeight;this.ePinnedColsViewport.style.height=n+"px"}};i.prototype.addScrollListener=function(){if(!this.forPrint){var n=this,t=-1,i=-1;this.eBodyViewport.addEventListener("scroll",function(){var r=n.eBodyViewport.scrollLeft,u=n.eBodyViewport.scrollTop;r!==t&&(t=r,n.scrollHeader(r));u!==i&&(i=u,n.scrollPinned(u),n.rowRenderer.drawVirtualRows())});this.ePinnedColsViewport.addEventListener("scroll",function(){n.ePinnedColsViewport.scrollTop=0})}};i.prototype.scrollHeader=function(n){this.eHeaderContainer.style.left=-n+"px"};i.prototype.scrollPinned=function(n){this.ePinnedColsContainer.style.top=-n+"px"};t.exports=i},{"../layout/borderLayout":24,"../utils":38,"./grid.html":17,"./gridNoScrolls.html":18,"./loading.html":20}],20:[function(n,t){t.exports="<div class=ag-loading-panel><div class=ag-loading-wrapper><span class=ag-loading-center>Loading...<\/span><\/div><\/div>"},{}],21:[function(n,t){function i(){}i.prototype.group=function(n,t,i,r){var s={level:-1,children:[],childrenMap:{}},c=[],a,f,o,h,y,e,v,l,u,p;for(c.push(s),a=t.length-1,p=-1,f=0;f<n.length;f++)for(h=n[f],y=h.data,h.level=a+1,o=0;o<t.length;o++)v=t[o].colDef.field,l=y[v],o==0&&(e=s),u=e.childrenMap[l],u||(u={group:!0,field:v,id:p--,key:l,expanded:this.isExpanded(r,o),children:[],parent:e===s?null:e,allChildrenCount:0,level:e.level+1,childrenMap:{}},e.childrenMap[l]=u,e.children.push(u),c.push(u)),u.allChildrenCount++,o==a?(h.parent=u===s?null:u,u.children.push(h)):e=u;for(f=0;f<c.length;f++)delete c[f].childrenMap;return s.children};i.prototype.isExpanded=function(n,t){return typeof n=="number"?t<n:n===!0||n==="true"};t.exports=new i},{}],22:[function(n,t){function r(){}var i=n("./utils"),e=n("./svgFactory"),u=n("./constants"),f=new e;r.prototype.init=function(n,t,i,r,u,f,e,o,s){this.expressionService=s;this.gridOptionsWrapper=n;this.columnModel=i;this.columnController=t;this.angularGrid=u;this.filterManager=f;this.$scope=e;this.$compile=o;this.findAllElements(r)};r.prototype.findAllElements=function(n){this.ePinnedHeader=n.getPinnedHeader();this.eHeaderContainer=n.getHeaderContainer();this.eHeader=n.getHeader();this.eRoot=n.getRoot()};r.prototype.refreshHeader=function(){i.removeAllChildren(this.ePinnedHeader);i.removeAllChildren(this.eHeaderContainer);this.childScopes&&this.childScopes.forEach(function(n){n.$destroy()});this.childScopes=[];this.gridOptionsWrapper.isGroupHeaders()?this.insertHeadersWithGrouping():this.insertHeadersWithoutGrouping()};r.prototype.insertHeadersWithGrouping=function(){var t=this.columnModel.getHeaderGroups(),n=this;t.forEach(function(t){var i=n.createGroupedHeaderCell(t),r=t.pinned?n.ePinnedHeader:n.eHeaderContainer;r.appendChild(i)})};r.prototype.createGroupedHeaderCell=function(n){var u=document.createElement("div"),t,f,i,h,e,r,o,s;return u.className="ag-header-group",t=document.createElement("div"),n.eHeaderGroupCell=t,f=["ag-header-group-cell"],n.name?f.push("ag-header-group-cell-with-group"):f.push("ag-header-group-cell-no-group"),t.className=f.join(" "),this.gridOptionsWrapper.isEnableColResize()&&(i=document.createElement("div"),i.className="ag-header-cell-resize",t.appendChild(i),n.eHeaderCellResize=i,h=this.groupDragCallbackFactory(n),this.addDragHandler(i,h)),e=n.name,e&&e!==""&&(r=document.createElement("div"),r.className="ag-header-group-cell-label",t.appendChild(r),o=document.createElement("span"),o.className="ag-header-group-text",o.innerHTML=e,r.appendChild(o),n.expandable&&this.addGroupExpandIcon(n,r,n.expanded)),u.appendChild(t),s=this,n.displayedColumns.forEach(function(t){var i=s.createHeaderCell(t,!0,n);u.appendChild(i)}),s.setWidthOfGroupHeaderCell(n),u};r.prototype.addGroupExpandIcon=function(n,t,r){var u,e;u=r?i.createIcon("headerGroupOpened",this.gridOptionsWrapper,null,f.createArrowLeftSvg):i.createIcon("headerGroupClosed",this.gridOptionsWrapper,null,f.createArrowRightSvg);u.className="ag-header-expand-icon";t.appendChild(u);e=this;u.onclick=function(){e.columnController.headerGroupOpened(n)}};r.prototype.addDragHandler=function(n,t){var i=this;n.addEventListener("mousedown",function(n){t.onDragStart();i.eRoot.style.cursor="col-resize";i.dragStartX=n.clientX;var r={};r.mousemove=function(n){var r=n.clientX,u=r-i.dragStartX;t.onDragging(u)};r.mouseup=function(){i.stopDragging(r)};r.mouseleave=function(){i.stopDragging(r)};i.eRoot.addEventListener("mousemove",r.mousemove);i.eRoot.addEventListener("mouseup",r.mouseup);i.eRoot.addEventListener("mouseleave",r.mouseleave)})};r.prototype.setWidthOfGroupHeaderCell=function(n){var t=0;n.displayedColumns.forEach(function(n){t+=n.actualWidth});n.eHeaderGroupCell.style.width=i.formatWidth(t);n.actualWidth=t};r.prototype.insertHeadersWithoutGrouping=function(){var n=this.ePinnedHeader,t=this.eHeaderContainer,i=this;this.columnModel.getDisplayedColumns().forEach(function(r){var u=i.createHeaderCell(r,!1);r.pinned?n.appendChild(u):t.appendChild(u)})};r.prototype.createHeaderCell=function(n,t,r){var tt=this,e=n.colDef,u=document.createElement("div"),h,c,l,k,d,o,s,a,w,g,v,y,b,nt,p;return n.eHeaderCell=u,this.gridOptionsWrapper.isAngularCompileHeaders()&&(h=this.$scope.$new(),h.colDef=e,h.colIndex=e.index,h.colDefWrapper=n,this.childScopes.push(h)),c=["ag-header-cell"],t?c.push("ag-header-cell-grouped"):c.push("ag-header-cell-not-grouped"),u.className=c.join(" "),this.addHeaderClassesFromCollDef(e,h,u),e.headerTooltip&&(u.title=e.headerTooltip),this.gridOptionsWrapper.isEnableColResize()&&!e.suppressResize&&(l=document.createElement("div"),l.className="ag-header-cell-resize",u.appendChild(l),k=this.headerDragCallbackFactory(u,n,r),this.addDragHandler(l,k)),d=this.gridOptionsWrapper.isEnableFilter()&&!e.suppressMenu,d&&(o=i.createIcon("menu",this.gridOptionsWrapper,n,f.createMenuSvg),i.addCssClass(o,"ag-header-icon"),o.setAttribute("class","ag-header-cell-menu-button"),o.onclick=function(){tt.filterManager.showFilter(n,this)},u.appendChild(o),u.onmouseenter=function(){o.style.opacity=1},u.onmouseleave=function(){o.style.opacity=0},o.style.opacity=0,o.style["-webkit-transition"]="opacity 0.5s, border 0.2s",o.style.transition="opacity 0.5s, border 0.2s"),s=document.createElement("div"),s.className="ag-header-cell-label",this.gridOptionsWrapper.isEnableSorting()&&!e.suppressSorting&&(n.eSortAsc=i.createIcon("sortAscending",this.gridOptionsWrapper,n,f.createArrowDownSvg),n.eSortDesc=i.createIcon("sortDescending",this.gridOptionsWrapper,n,f.createArrowUpSvg),i.addCssClass(n.eSortAsc,"ag-header-icon"),i.addCssClass(n.eSortDesc,"ag-header-icon"),s.appendChild(n.eSortAsc),s.appendChild(n.eSortDesc),n.eSortAsc.style.display="none",n.eSortDesc.style.display="none",this.addSortHandling(s,n)),n.eFilterIcon=i.createIcon("filter",this.gridOptionsWrapper,n,f.createFilterSvg),i.addCssClass(n.eFilterIcon,"ag-header-icon"),s.appendChild(n.eFilterIcon),e.headerCellRenderer?a=e.headerCellRenderer:this.gridOptionsWrapper.getHeaderCellRenderer()&&(a=this.gridOptionsWrapper.getHeaderCellRenderer()),w=this.columnModel.getDisplayNameForCol(n),a?(g={colDef:e,$scope:h,context:this.gridOptionsWrapper.getContext(),value:w,api:this.gridOptionsWrapper.getApi()},v=a(g),i.isNodeOrElement(v)?y=v:(b=document.createElement("span"),b.innerHTML=v,y=b),this.gridOptionsWrapper.isAngularCompileHeaders()?(nt=this.$compile(y)(h)[0],s.appendChild(nt)):s.appendChild(y)):(p=document.createElement("span"),p.className="ag-header-cell-text",p.innerHTML=w,s.appendChild(p)),u.appendChild(s),u.style.width=i.formatWidth(n.actualWidth),u};r.prototype.addHeaderClassesFromCollDef=function(n,t,r){var u,f;n.headerClass&&(typeof n.headerClass=="function"?(f={colDef:n,$scope:t,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()},u=n.headerClass(f)):u=n.headerClass,typeof u=="string"?i.addCssClass(r,u):Array.isArray(u)&&u.forEach(function(n){i.addCssClass(r,n)}))};r.prototype.getNextSortDirection=function(n){var t=this.gridOptionsWrapper.isSuppressUnSort(),i=this.gridOptionsWrapper.isSuppressDescSort();switch(n){case u.DESC:return t?u.ASC:null;case u.ASC:return t&&i?u.ASC:i?null:u.DESC;default:return u.ASC}};r.prototype.addSortHandling=function(n,t){var i=this;n.addEventListener("click",function(n){t.sort=i.getNextSortDirection(t.sort);t.sortedAt=t.sort?(new Date).valueOf():null;var r=!i.gridOptionsWrapper.isSuppressMultiSort()&&n.shiftKey;i.columnModel.getAllColumns().forEach(function(n){r||n===t||(n.sort=null)});i.angularGrid.onSortingChanged()})};r.prototype.updateSortIcons=function(){this.columnModel.getAllColumns().forEach(function(n){var t=n.sort===u.ASC,r=n.sort===u.DESC;n.eSortAsc&&i.setVisible(n.eSortAsc,t);n.eSortDesc&&i.setVisible(n.eSortDesc,r)})};r.prototype.groupDragCallbackFactory=function(n){var i=this,t=n.displayedColumns;return{onDragStart:function(){this.groupWidthStart=n.actualWidth;this.childrenWidthStarts=[];var i=this;t.forEach(function(n){i.childrenWidthStarts.push(n.actualWidth)});this.minWidth=t.length*u.MIN_COL_WIDTH},onDragging:function(r){var f=this.groupWidthStart+r,e;f<this.minWidth&&(f=this.minWidth);e=f+"px";n.eHeaderGroupCell.style.width=e;n.actualWidth=f;var s=f/this.groupWidthStart,o=f,h=this;n.displayedColumns.forEach(function(n,r){var l=r!==t.length-1,f,e,c;l?(e=h.childrenWidthStarts[r],f=e*s,f<u.MIN_COL_WIDTH&&(f=u.MIN_COL_WIDTH),o-=f):f=o;c=t[r].eHeaderCell;i.adjustColumnWidth(f,n,c)});n.pinned?i.angularGrid.updatePinnedColContainerWidthAfterColResize():i.angularGrid.updateBodyContainerWidthAfterColResize()}}};r.prototype.adjustColumnWidth=function(n,t,i){for(var u=n+"px",e=".cell-col-"+t.index,f=this.eRoot.querySelectorAll(e),r=0;r<f.length;r++)f[r].style.width=u;i.style.width=u;t.actualWidth=n};r.prototype.headerDragCallbackFactory=function(n,t,i){var r=this;return{onDragStart:function(){this.startWidth=t.actualWidth},onDragging:function(f){var e=this.startWidth+f;e<u.MIN_COL_WIDTH&&(e=u.MIN_COL_WIDTH);r.adjustColumnWidth(e,t,n);i&&r.setWidthOfGroupHeaderCell(i);t.pinned?r.angularGrid.updatePinnedColContainerWidthAfterColResize():r.angularGrid.updateBodyContainerWidthAfterColResize()}}};r.prototype.stopDragging=function(n){this.eRoot.style.cursor="";var t=this;i.iterateObject(n,function(n,i){t.eRoot.removeEventListener(n,i)})};r.prototype.updateFilterIcons=function(){var n=this;this.columnModel.getDisplayedColumns().forEach(function(t){if(t.eFilterIcon){var i=n.filterManager.isFilterPresentForCol(t.colId),r=i?"inline":"none";t.eFilterIcon.style.display=r}})};t.exports=r},{"./constants":4,"./svgFactory":33,"./utils":38}],23:[function(n,t){function i(n){this.isLayoutPanel=!0;this.fullHeight=!n.north&&!n.south;var t;n.dontFill?(t='<div style="position: relative;"><div id="north"><\/div><div id="centerRow"><div id="west"><\/div><div id="east"><\/div><div id="center"><\/div><\/div><div id="south"><\/div><div id="overlay" style="position: absolute; height: 100%; width: 100%; top: 0px; left: 0px;"><\/div><\/div>',this.layoutActive=!1):(t=this.fullHeight?'<div style="height: 100%; overflow: auto; position: relative;"><div id="west" style="height: 100%; float: left;"><\/div><div id="east" style="height: 100%; float: right;"><\/div><div id="center" style="height: 100%;"><\/div><div id="overlay" style="position: absolute; height: 100%; width: 100%; top: 0px; left: 0px;"><\/div><\/div>':'<div style="height: 100%; position: relative;"><div id="north"><\/div><div id="centerRow" style="height: 100%; overflow: hidden;"><div id="west" style="height: 100%; float: left;"><\/div><div id="east" style="height: 100%; float: right;"><\/div><div id="center" style="height: 100%;"><\/div><\/div><div id="south"><\/div><div id="overlay" style="position: absolute; height: 100%; width: 100%; top: 0px; left: 0px;"><\/div><\/div>',this.layoutActive=!0);this.eGui=r.loadTemplate(t);this.id="borderLayout";n.name&&(this.id+="_"+n.name);this.eGui.setAttribute("id",this.id);this.childPanels=[];n&&this.setupPanels(n);this.setOverlayVisible(!1)}var r=n("../utils");i.prototype.setupPanels=function(n){this.eNorthWrapper=this.eGui.querySelector("#north");this.eSouthWrapper=this.eGui.querySelector("#south");this.eEastWrapper=this.eGui.querySelector("#east");this.eWestWrapper=this.eGui.querySelector("#west");this.eCenterWrapper=this.eGui.querySelector("#center");this.eOverlayWrapper=this.eGui.querySelector("#overlay");this.eCenterRow=this.eGui.querySelector("#centerRow");this.eNorthChildLayout=this.setupPanel(n.north,this.eNorthWrapper);this.eSouthChildLayout=this.setupPanel(n.south,this.eSouthWrapper);this.eEastChildLayout=this.setupPanel(n.east,this.eEastWrapper);this.eWestChildLayout=this.setupPanel(n.west,this.eWestWrapper);this.eCenterChildLayout=this.setupPanel(n.center,this.eCenterWrapper);this.setupPanel(n.overlay,this.eOverlayWrapper)};i.prototype.setupPanel=function(n,t){if(t)return n?n.isLayoutPanel?(this.childPanels.push(n),t.appendChild(n.getGui()),n):(t.appendChild(n),null):(t.parentNode.removeChild(t),null)};i.prototype.getGui=function(){return this.eGui};i.prototype.doLayout=function(){this.layoutChild(this.eNorthChildLayout);this.layoutChild(this.eSouthChildLayout);this.layoutChild(this.eEastChildLayout);this.layoutChild(this.eWestChildLayout);this.layoutActive&&(this.layoutHeight(),this.layoutWidth());this.layoutChild(this.eCenterChildLayout)};i.prototype.layoutChild=function(n){n&&n.doLayout()};i.prototype.layoutHeight=function(){if(!this.fullHeight){var t=r.offsetHeight(this.eGui),i=r.offsetHeight(this.eNorthWrapper),u=r.offsetHeight(this.eSouthWrapper),n=t-i-u;n<0&&(n=0);this.eCenterRow.style.height=n+"px"}};i.prototype.layoutWidth=function(){var t=r.offsetWidth(this.eGui),i=r.offsetWidth(this.eEastWrapper),u=r.offsetWidth(this.eWestWrapper),n=t-i-u;n<0&&(n=0);this.eCenterWrapper.style.width=n+"px"};i.prototype.setEastVisible=function(n){this.eEastWrapper&&(this.eEastWrapper.style.display=n?"":"none");this.doLayout()};i.prototype.setOverlayVisible=function(n){this.eOverlayWrapper&&(this.eOverlayWrapper.style.display=n?"":"none");this.doLayout()};i.prototype.setSouthVisible=function(n){this.eSouthWrapper&&(this.eSouthWrapper.style.display=n?"":"none");this.doLayout()};t.exports=i},{"../utils":38}],24:[function(n,t,i){arguments[4][23][0].apply(i,arguments)},{"../utils":38,dup:23}],25:[function(n,t){function i(){this.isLayoutPanel=!0;this.childPanels=[];this.eGui=document.createElement("div");this.eGui.style.height="100%"}var r=n("../utils");i.prototype.addPanel=function(n,t){var i;n.isLayoutPanel?(this.childPanels.push(n),i=n.getGui()):i=n;t&&(i.style.height=t);this.eGui.appendChild(i)};i.prototype.getGui=function(){return this.eGui};i.prototype.doLayout=function(){for(var n=0;n<this.childPanels.length;n++)this.childPanels[n].doLayout()};t.exports=i},{"../utils":38}],26:[function(n,t){function i(){this.createModel()}var f=n("./../groupCreator"),u=n("./../utils"),r=n("./../constants");i.prototype.init=function(n,t,i,r,u,f){this.gridOptionsWrapper=n;this.columnModel=t;this.angularGrid=i;this.filterManager=r;this.$scope=u;this.expressionService=f;this.allRows=null;this.rowsAfterGroup=null;this.rowsAfterFilter=null;this.rowsAfterSort=null;this.rowsAfterMap=null};i.prototype.createModel=function(){var n=this;this.model={getTopLevelNodes:function(){return n.rowsAfterGroup},getVirtualRow:function(t){return n.rowsAfterMap[t]},getVirtualRowCount:function(){return n.rowsAfterMap?n.rowsAfterMap.length:0},forEachInMemory:function(t){n.forEachInMemory(t)}}};i.prototype.getModel=function(){return this.model};i.prototype.forEachInMemory=function(n){function t(n,i){var r,u;if(n)for(r=0;r<n.length;r++)u=n[r],i(u),u.group&&group.children&&t(group.children)}t(this.rowsAfterGroup,n)};i.prototype.updateModel=function(n){switch(n){case r.STEP_EVERYTHING:case r.STEP_FILTER:this.doFilter();this.doAggregate();case r.STEP_SORT:this.doSort();case r.STEP_MAP:this.doGroupMapping()}if(typeof this.gridOptionsWrapper.getModelUpdated()=="function"){this.gridOptionsWrapper.getModelUpdated()();var t=this.$scope;t&&setTimeout(function(){t.$apply()},0)}};i.prototype.defaultGroupAggFunctionFactory=function(n){return function(t){for(var u,f,i,s,e,o={},r=0;r<n.length;r++){for(u=n[r],f=null,i=0;i<t.length;i++)s=t[i],e=s.data[u],typeof e=="number"&&(f+=e);o[u]=f}return o}};i.prototype.getValue=function(n,t,i,r){var f=this.gridOptionsWrapper.getApi(),e=this.gridOptionsWrapper.getContext();return u.getValue(this.expressionService,n,t,i,r,f,e)};i.prototype.doAggregate=function(){var t=this.gridOptionsWrapper.getGroupAggFunction(),n,i;if(typeof t=="function"){this.recursivelyCreateAggData(this.rowsAfterFilter,t);return}if(n=this.gridOptionsWrapper.getGroupAggFields(),n){i=this.defaultGroupAggFunctionFactory(n);this.recursivelyCreateAggData(this.rowsAfterFilter,i);return}};i.prototype.expandOrCollapseAll=function(n,t){if(t===null&&(t=this.rowsAfterGroup),t){var i=this;t.forEach(function(t){t.group&&(t.expanded=n,i.expandOrCollapseAll(n,t.children))})}};i.prototype.recursivelyCreateAggData=function(n,t){for(var i,u,r=0,f=n.length;r<f;r++)i=n[r],i.group&&(this.recursivelyCreateAggData(i.childrenAfterFilter,t),u=t(i.childrenAfterFilter),i.data=u,i.sibling&&(i.sibling.data=u))};i.prototype.doSort=function(){var i,n,t;this.gridOptionsWrapper.isEnableServerSideSorting()?i=!1:(n=[],this.columnModel.getAllColumns().forEach(function(t){if(t.sort){var i=t.sort===r.ASC;n.push({inverter:i?1:-1,sortedAt:t.sortedAt,colDef:t.colDef})}}),n.length>0&&(i=!0));t=this.rowsAfterFilter?this.rowsAfterFilter.slice(0):null;i?(n.sort(function(n,t){return n.sortedAt-t.sortedAt}),this.sortList(t,n)):this.recursivelyResetSort(t);this.rowsAfterSort=t};i.prototype.recursivelyResetSort=function(n){var i,r,t;if(n)for(i=0,r=n.length;i<r;i++)t=n[i],t.group&&t.children&&(t.childrenAfterSort=t.childrenAfterFilter,this.recursivelyResetSort(t.children))};i.prototype.sortList=function(n,t){function o(n,t,i){var r=f.getValue(n.data,i,n),e=f.getValue(t.data,i,t);return i.comparator?i.comparator(r,e,n,t):u.defaultComparator(r,e,n,t)}for(var i,f,r=0,e=n.length;r<e;r++)i=n[r],i.group&&i.children&&(i.childrenAfterSort=i.childrenAfterFilter.slice(0),this.sortList(i.childrenAfterSort,t));f=this;n.sort(function(n,i){for(var u,f,r=0,e=t.length;r<e;r++)if(u=t[r],f=o(n,i,u.colDef),f!==0)return f*u.inverter;return 0})};i.prototype.doGrouping=function(){var n,t=this.columnModel.getGroupedColumns(),r=this.gridOptionsWrapper.isRowsAlreadyGrouped(),u=!r&&t.length>0,i;u?(i=this.gridOptionsWrapper.getGroupDefaultExpanded(),n=f.group(this.allRows,t,this.gridOptionsWrapper.getGroupAggFunction(),i)):n=this.allRows;this.rowsAfterGroup=n};i.prototype.doFilter=function(){var n,t,i,r;this.gridOptionsWrapper.isEnableServerSideFilter()?n=!1:(t=this.angularGrid.getQuickFilter()!==null,i=this.filterManager.isFilterPresent(),n=t||i);n?r=this.filterItems(this.rowsAfterGroup,t,i):(r=this.rowsAfterGroup,this.recursivelyResetFilter(this.rowsAfterGroup));this.rowsAfterFilter=r};i.prototype.filterItems=function(n,t,i){for(var r,u=[],f=0,e=n.length;f<e;f++)r=n[f],r.group?(r.childrenAfterFilter=this.filterItems(r.children,t,i),r.childrenAfterFilter.length>0&&(r.allChildrenCount=this.getTotalChildCount(r.childrenAfterFilter),u.push(r))):this.doesRowPassFilter(r,t,i)&&u.push(r);return u};i.prototype.recursivelyResetFilter=function(n){var i,r,t;if(n)for(i=0,r=n.length;i<r;i++)t=n[i],t.group&&t.children&&(t.childrenAfterFilter=t.children,t.allChildrenCount=this.getTotalChildCount(t.childrenAfterFilter),this.recursivelyResetFilter(t.children))};i.prototype.setAllRows=function(n,t){var i,r,u;if(this.gridOptionsWrapper.isRowsAlreadyGrouped())i=n,this.recursivelyCheckUserProvidedNodes(i,null,0);else if(i=[],n)for(r=0;r<n.length;r++)i.push({data:n[r]});u=t?t:0;this.recursivelyAddIdToNodes(i,u);this.allRows=i;this.doGrouping()};i.prototype.recursivelyAddIdToNodes=function(n,t){var r,i;if(n){for(r=0;r<n.length;r++)i=n[r],i.id=t++,i.group&&i.children&&(t=this.recursivelyAddIdToNodes(i.children,t));return t}};i.prototype.recursivelyCheckUserProvidedNodes=function(n,t,i){var u,r;if(n)for(u=0;u<n.length;u++)r=n[u],t&&(r.parent=t),r.level=i,r.group&&r.children&&this.recursivelyCheckUserProvidedNodes(r.children,r,i+1)};i.prototype.getTotalChildCount=function(n){for(var r,t=0,i=0,u=n.length;i<u;i++)r=n[i],r.group?t+=r.allChildrenCount:t++;return t};i.prototype.copyGroupNode=function(n,t,i){return{group:!0,data:n.data,field:n.field,key:n.key,expanded:n.expanded,children:t,allChildrenCount:i,level:n.level}};i.prototype.doGroupMapping=function(){var n=[];this.addToMap(n,this.rowsAfterSort);this.rowsAfterMap=n};i.prototype.addToMap=function(n,t){var r,i,u;if(t)for(r=0;r<t.length;r++)i=t[r],n.push(i),i.group&&i.expanded&&(this.addToMap(n,i.childrenAfterSort),this.gridOptionsWrapper.isGroupIncludeFooter()&&(u=this.createFooterNode(i),n.push(u)))};i.prototype.createFooterNode=function(n){var t={};return Object.keys(n).forEach(function(i){t[i]=n[i]}),t.footer=!0,t.sibling=n,n.sibling=t,t};i.prototype.doesRowPassFilter=function(n,t,i){return t&&(n.quickFilterAggregateText||this.aggregateRowForQuickFilter(n),n.quickFilterAggregateText.indexOf(this.angularGrid.getQuickFilter())<0)?!1:i&&!this.filterManager.doesFilterPass(n)?!1:!0};i.prototype.aggregateRowForQuickFilter=function(n){var t="";this.columnModel.getAllColumns().forEach(function(i){var u=n.data,r=u?u[i.colDef.field]:null;r&&r!==""&&(t=t+r.toString().toUpperCase()+"_")});n.quickFilterAggregateText=t};t.exports=i},{"./../constants":4,"./../groupCreator":21,"./../utils":38}],27:[function(n,t){function i(){}var u=n("./paginationPanel.html"),r=n("./../utils");i.prototype.init=function(n,t){this.gridOptionsWrapper=t;this.angularGrid=n;this.setupComponents();this.callVersion=0};i.prototype.setDatasource=function(n){(this.datasource=n,n)&&this.reset()};i.prototype.reset=function(){this.datasource.pageSize&&typeof this.datasource.pageSize!="number"&&console.warn("datasource.pageSize should be a number");this.pageSize=this.datasource.pageSize;typeof this.datasource.rowCount=="number"&&this.datasource.rowCount>=0?(this.rowCount=this.datasource.rowCount,this.foundMaxRow=!0,this.calculateTotalPages()):(this.rowCount=0,this.foundMaxRow=!1,this.totalPages=null);this.currentPage=0;this.ePageRowSummaryPanel.style.visibility="hidden";this.setTotalLabels();this.loadPage()};i.prototype.setTotalLabels=function(){if(this.foundMaxRow)this.lbTotal.innerHTML=this.totalPages.toLocaleString(),this.lbRecordCount.innerHTML=this.rowCount.toLocaleString();else{var n=this.gridOptionsWrapper.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=n;this.lbRecordCount.innerHTML=n}};i.prototype.calculateTotalPages=function(){this.totalPages=Math.floor((this.rowCount-1)/this.pageSize)+1};i.prototype.pageLoaded=function(n,t){var i=this.currentPage*this.pageSize;this.angularGrid.setRows(n,i);!this.foundMaxRow&&typeof t=="number"&&t>=0&&(this.foundMaxRow=!0,this.rowCount=t,this.calculateTotalPages(),this.setTotalLabels(),this.currentPage>this.totalPages&&(this.currentPage=this.totalPages-1,this.loadPage()));this.enableOrDisableButtons();this.updateRowLabels()};i.prototype.updateRowLabels=function(){var t,n;this.isZeroPagesToDisplay()?(t=0,n=0):(t=this.pageSize*this.currentPage+1,n=t+this.pageSize-1,this.foundMaxRow&&n>this.rowCount&&(n=this.rowCount));this.lbFirstRowOnPage.innerHTML=t.toLocaleString();this.lbLastRowOnPage.innerHTML=n.toLocaleString();this.ePageRowSummaryPanel.style.visibility=null};i.prototype.loadPage=function(){function h(i,r){n.isCallDaemon(t)||n.pageLoaded(i,r)}function c(){n.isCallDaemon(t)||n.angularGrid.setRows([])}var i,u,t,n,f,e,o,s;this.enableOrDisableButtons();i=this.currentPage*this.datasource.pageSize;u=(this.currentPage+1)*this.datasource.pageSize;this.lbCurrent.innerHTML=(this.currentPage+1).toLocaleString();this.callVersion++;t=this.callVersion;n=this;this.angularGrid.showLoadingPanel(!0);this.gridOptionsWrapper.isEnableServerSideSorting()&&(f=this.angularGrid.getSortModel());this.gridOptionsWrapper.isEnableServerSideFilter()&&(e=this.angularGrid.getFilterModel());o={startRow:i,endRow:u,successCallback:h,failCallback:c,sortModel:f,filterModel:e};s=r.getFunctionParameters(this.datasource.getRows);s.length>1&&(console.warn("ag-grid: It looks like your paging datasource is of the old type, taking more than one parameter."),console.warn("ag-grid: From ag-grid 1.9.0, now the getRows takes one parameter. See the documentation for details."));this.datasource.getRows(o)};i.prototype.isCallDaemon=function(n){return n!==this.callVersion};i.prototype.onBtNext=function(){this.currentPage++;this.loadPage()};i.prototype.onBtPrevious=function(){this.currentPage--;this.loadPage()};i.prototype.onBtFirst=function(){this.currentPage=0;this.loadPage()};i.prototype.onBtLast=function(){this.currentPage=this.totalPages-1;this.loadPage()};i.prototype.isZeroPagesToDisplay=function(){return this.foundMaxRow&&this.totalPages===0};i.prototype.enableOrDisableButtons=function(){var n=this.currentPage===0,i;this.btPrevious.disabled=n;this.btFirst.disabled=n;var t=this.isZeroPagesToDisplay(),r=this.foundMaxRow&&this.currentPage===this.totalPages-1,u=r||t;this.btNext.disabled=u;i=!this.foundMaxRow||t||this.currentPage===this.totalPages-1;this.btLast.disabled=i};i.prototype.createTemplate=function(){var n=this.gridOptionsWrapper.getLocaleTextFunc();return u.replace("[PAGE]",n("page","Page")).replace("[TO]",n("to","to")).replace("[OF]",n("of","of")).replace("[OF]",n("of","of")).replace("[FIRST]",n("first","First")).replace("[PREVIOUS]",n("previous","Previous")).replace("[NEXT]",n("next","Next")).replace("[LAST]",n("last","Last"))};i.prototype.getGui=function(){return this.eGui};i.prototype.setupComponents=function(){this.eGui=r.loadTemplate(this.createTemplate());this.btNext=this.eGui.querySelector("#btNext");this.btPrevious=this.eGui.querySelector("#btPrevious");this.btFirst=this.eGui.querySelector("#btFirst");this.btLast=this.eGui.querySelector("#btLast");this.lbCurrent=this.eGui.querySelector("#current");this.lbTotal=this.eGui.querySelector("#total");this.lbRecordCount=this.eGui.querySelector("#recordCount");this.lbFirstRowOnPage=this.eGui.querySelector("#firstRowOnPage");this.lbLastRowOnPage=this.eGui.querySelector("#lastRowOnPage");this.ePageRowSummaryPanel=this.eGui.querySelector("#pageRowSummaryPanel");var n=this;this.btNext.addEventListener("click",function(){n.onBtNext()});this.btPrevious.addEventListener("click",function(){n.onBtPrevious()});this.btFirst.addEventListener("click",function(){n.onBtFirst()});this.btLast.addEventListener("click",function(){n.onBtLast()})};t.exports=i},{"./../utils":38,"./paginationPanel.html":28}],28:[function(n,t){t.exports="<div class=ag-paging-panel><span id=pageRowSummaryPanel class=ag-paging-row-summary-panel><span id=firstRowOnPage><\/span> [TO] <span id=lastRowOnPage><\/span> [OF] <span id=recordCount><\/span><\/span> <span class=ag-paging-page-summary-panel><button class=ag-paging-button id=btFirst>[FIRST]<\/button> <button class=ag-paging-button id=btPrevious>[PREVIOUS]<\/button> [PAGE] <span id=current><\/span> [OF] <span id=total><\/span> <button class=ag-paging-button id=btNext>[NEXT]<\/button> <button class=ag-paging-button id=btLast>[LAST]<\/button><\/span><\/div>"},{}],29:[function(n,t){function i(){}var u=n("./../utils"),r=!1;i.prototype.init=function(n,t,i){this.rowRenderer=n;this.datasourceVersion=0;this.gridOptionsWrapper=t;this.angularGrid=i};i.prototype.setDatasource=function(n){(this.datasource=n,n)&&this.reset()};i.prototype.reset=function(){typeof this.datasource.rowCount=="number"&&this.datasource.rowCount>=0?(this.virtualRowCount=this.datasource.rowCount,this.foundMaxRow=!0):(this.virtualRowCount=0,this.foundMaxRow=!1);this.datasourceVersion++;this.pageCache={};this.pageCacheSize=0;this.pageLoadsInProgress=[];this.pageLoadsQueued=[];this.pageAccessTimes={};this.accessTime=0;this.maxConcurrentDatasourceRequests=typeof this.datasource.maxConcurrentRequests=="number"&&this.datasource.maxConcurrentRequests>0?this.datasource.maxConcurrentRequests:2;this.maxPagesInCache=typeof this.datasource.maxPagesInCache=="number"&&this.datasource.maxPagesInCache>0?this.datasource.maxPagesInCache:null;this.pageSize=this.datasource.pageSize;this.overflowSize=this.datasource.overflowSize;this.doLoadOrQueue(0)};i.prototype.createNodesFromRows=function(n,t){var r=[],i,u,f;if(t)for(i=0,u=t.length;i<u;i++)f=n*this.pageSize+i,r.push({data:t[i],id:f});return r};i.prototype.removeFromLoading=function(n){var t=this.pageLoadsInProgress.indexOf(n);this.pageLoadsInProgress.splice(t,1)};i.prototype.pageLoadFailed=function(n){this.removeFromLoading(n);this.checkQueueForNextLoad()};i.prototype.pageLoaded=function(n,t,i){this.putPageIntoCacheAndPurge(n,t);this.checkMaxRowAndInformRowRenderer(n,i);this.removeFromLoading(n);this.checkQueueForNextLoad()};i.prototype.putPageIntoCacheAndPurge=function(n,t){var u,i;this.pageCache[n]=this.createNodesFromRows(n,t);this.pageCacheSize++;r&&console.log("adding page "+n);u=this.maxPagesInCache&&this.maxPagesInCache<this.pageCacheSize;u&&(i=this.findLeastRecentlyAccessedPage(Object.keys(this.pageCache)),r&&console.log("purging page "+i+" from cache "+Object.keys(this.pageCache)),delete this.pageCache[i],this.pageCacheSize--)};i.prototype.checkMaxRowAndInformRowRenderer=function(n,t){if(this.foundMaxRow)this.rowRenderer.refreshAllVirtualRows();else{if(typeof t=="number"&&t>=0)this.virtualRowCount=t,this.foundMaxRow=!0;else{var i=(n+1)*this.pageSize+this.overflowSize;this.virtualRowCount<i&&(this.virtualRowCount=i)}this.rowRenderer.refreshView()}};i.prototype.isPageAlreadyLoading=function(n){return this.pageLoadsInProgress.indexOf(n)>=0||this.pageLoadsQueued.indexOf(n)>=0};i.prototype.doLoadOrQueue=function(n){this.isPageAlreadyLoading(n)||(this.pageLoadsInProgress.length<this.maxConcurrentDatasourceRequests?this.loadPage(n):this.addToQueueAndPurgeQueue(n))};i.prototype.addToQueueAndPurgeQueue=function(n){var t,i,u;r&&console.log("queueing "+n+" - "+this.pageLoadsQueued);this.pageLoadsQueued.push(n);t=this.maxPagesInCache&&this.maxPagesInCache<this.pageLoadsQueued.length;t&&(i=this.findLeastRecentlyAccessedPage(this.pageLoadsQueued),r&&console.log("de-queueing "+n+" - "+this.pageLoadsQueued),u=this.pageLoadsQueued.indexOf(i),this.pageLoadsQueued.splice(u,1))};i.prototype.findLeastRecentlyAccessedPage=function(n){var t=-1,i=Number.MAX_VALUE,r=this;return n.forEach(function(n){var u=r.pageAccessTimes[n];u<i&&(i=u,t=n)}),t};i.prototype.checkQueueForNextLoad=function(){if(this.pageLoadsQueued.length>0){var n=this.pageLoadsQueued[0];this.pageLoadsQueued.splice(0,1);r&&console.log("dequeueing "+n+" - "+this.pageLoadsQueued);this.loadPage(n)}};i.prototype.loadPage=function(n){function c(r,u){t.requestIsDaemon(i)||t.pageLoaded(n,r,u)}function l(){t.requestIsDaemon(i)||t.pageLoadFailed(n)}var f,e,o;this.pageLoadsInProgress.push(n);var s=n*this.pageSize,h=(n+1)*this.pageSize,t=this,i=this.datasourceVersion,r;this.gridOptionsWrapper.isEnableServerSideSorting()&&(r=this.angularGrid.getSortModel());this.gridOptionsWrapper.isEnableServerSideFilter()&&(f=this.angularGrid.getFilterModel());e={startRow:s,endRow:h,successCallback:c,failCallback:l,sortModel:r,filterModel:f};o=u.getFunctionParameters(this.datasource.getRows);o.length>1&&(console.warn("ag-grid: It looks like your paging datasource is of the old type, taking more than one parameter."),console.warn("ag-grid: From ag-grid 1.9.0, now the getRows takes one parameter. See the documentation for details."));this.datasource.getRows(e)};i.prototype.requestIsDaemon=function(n){return this.datasourceVersion!==n};i.prototype.getVirtualRow=function(n){var t,i,r;return n>this.virtualRowCount?null:(t=Math.floor(n/this.pageSize),i=this.pageCache[t],this.pageAccessTimes[t]=this.accessTime++,i?(r=n%this.pageSize,i[r]):(this.doLoadOrQueue(t),{data:{},id:n}))};i.prototype.forEachInMemory=function(n){for(var f,r,t,e,u=Object.keys(this.pageCache),i=0;i<u.length;i++)for(f=u[i],r=this.pageCache[f],t=0;t<r.length;t++)e=r[t],n(e)};i.prototype.getModel=function(){var n=this;return{getVirtualRow:function(t){return n.getVirtualRow(t)},getVirtualRowCount:function(){return n.virtualRowCount},forEachInMemory:function(t){n.forEachInMemory(t)}}};t.exports=i},{"./../utils":38}],30:[function(n,t){function i(){}var u=n("./constants"),r=n("./utils"),f=n("./cellRenderers/groupCellRendererFactory");i.prototype.init=function(n,t,i,r,u,e,o,s,h,c,l){this.gridOptions=n;this.columnModel=t;this.gridOptionsWrapper=i;this.angularGrid=u;this.selectionRendererFactory=e;this.gridPanel=r;this.$compile=o;this.$scope=s;this.selectionController=h;this.expressionService=c;this.templateService=l;this.findAllElements(r);this.cellRendererMap={group:f(i,e)};this.renderedRows={};this.renderedRowStartEditingListeners={};this.editingCell=!1};i.prototype.setRowModel=function(n){this.rowModel=n};i.prototype.setMainRowWidths=function(){for(var i=this.columnModel.getBodyContainerWidth()+"px",t=this.eBodyContainer.querySelectorAll(".ag-row"),n=0;n<t.length;n++)t[n].style.width=i};i.prototype.findAllElements=function(n){this.eBodyContainer=n.getBodyContainer();this.eBodyViewport=n.getBodyViewport();this.ePinnedColsContainer=n.getPinnedColsContainer();this.eParentOfRows=n.getRowsParent()};i.prototype.refreshView=function(n){if(!this.gridOptionsWrapper.isDontUseScrolls()){var i=this.rowModel.getVirtualRowCount(),t=this.gridOptionsWrapper.getRowHeight()*i;this.eBodyContainer.style.height=t+"px";this.ePinnedColsContainer.style.height=t+"px"}this.refreshAllVirtualRows(n)};i.prototype.softRefreshView=function(){var h=this.firstVirtualRenderedRow,c=this.lastVirtualRenderedRow,i=this.columnModel.getDisplayedColumns(),n,r,t,o,s;if(i&&i.length!==0)for(n=h;n<=c;n++)if(r=this.rowModel.getVirtualRow(n),r)for(t=0;t<i.length;t++){var u=i[t],f=this.renderedRows[n],e=f.eVolatileCells[u.colId];e&&(o=t===0,s=f.scope,this.softRefreshCell(e,o,r,u,s,n))}};i.prototype.softRefreshCell=function(n,t,i,u,f,e){r.removeAllChildren(n);var h=this.getDataForNode(i),o=this.createValueGetter(h,u.colDef,i),s;o&&(s=o());this.populateAndStyleGridCell(o,s,n,t,i,u,e,f);this.gridOptionsWrapper.isAngularCompileRows()&&this.$compile(n)(f)};i.prototype.rowDataChanged=function(n){var t=[],i=this.renderedRows;Object.keys(i).forEach(function(r){var u=i[r],f=n.indexOf(u.node.data)>=0;f&&t.push(r)});this.removeVirtualRows(t);this.drawVirtualRows()};i.prototype.refreshAllVirtualRows=function(n){var t=Object.keys(this.renderedRows);this.removeVirtualRows(t,n);this.drawVirtualRows()};i.prototype.refreshGroupRows=function(){var n=[],t=this;Object.keys(this.renderedRows).forEach(function(i){var r=t.renderedRows[i],u=r.node;u.group&&n.push(i)});this.removeVirtualRows(n);this.ensureRowsRendered()};i.prototype.removeVirtualRows=function(n,t){var i=this,r=typeof t=="number"?t:-1;n.forEach(function(n){n>=r&&(i.removeVirtualRow(n),i.focusedCell&&i.focusedCell.rowIndex==n&&(i.focusedCell=null))})};i.prototype.removeVirtualRow=function(n){var t=this.renderedRows[n];t.pinnedElement&&this.ePinnedColsContainer&&this.ePinnedColsContainer.removeChild(t.pinnedElement);t.bodyElement&&this.eBodyContainer.removeChild(t.bodyElement);t.scope&&t.scope.$destroy();this.gridOptionsWrapper.getVirtualRowRemoved()&&this.gridOptionsWrapper.getVirtualRowRemoved()(t.data,n);this.angularGrid.onVirtualRowRemoved(n);delete this.renderedRows[n];delete this.renderedRowStartEditingListeners[n]};i.prototype.drawVirtualRows=function(){var n,t,i=this.rowModel.getVirtualRowCount(),r,e,f;this.gridOptionsWrapper.isDontUseScrolls()?(n=0,t=i):(r=this.eBodyViewport.scrollTop,e=r+this.eBodyViewport.offsetHeight,n=Math.floor(r/this.gridOptionsWrapper.getRowHeight()),t=Math.floor(e/this.gridOptionsWrapper.getRowHeight()),f=this.gridOptionsWrapper.getRowBuffer()||u.ROW_BUFFER_SIZE,n=n-f,t=t+f,n<0&&(n=0),t>i-1&&(t=i-1));this.firstVirtualRenderedRow=n;this.lastVirtualRenderedRow=t;this.ensureRowsRendered()};i.prototype.getFirstVirtualRenderedRow=function(){return this.firstVirtualRenderedRow};i.prototype.getLastVirtualRenderedRow=function(){return this.lastVirtualRenderedRow};i.prototype.ensureRowsRendered=function(){for(var i,u=this.columnModel.getBodyContainerWidth(),r=this,t=Object.keys(this.renderedRows),n=this.firstVirtualRenderedRow;n<=this.lastVirtualRenderedRow;n++){if(t.indexOf(n.toString())>=0){t.splice(t.indexOf(n.toString()),1);continue}i=this.rowModel.getVirtualRow(n);i&&r.insertRow(i,n,u)}this.removeVirtualRows(t);this.gridOptionsWrapper.isAngularCompileRows()&&setTimeout(function(){r.$scope.$apply()},0)};i.prototype.insertRow=function(n,t,i){var o=this.columnModel.getDisplayedColumns(),e,l,a,v,c,y;if(o&&o.length!=0){var s=n.group,r=this.createChildScopeOrNull(n.data),h=this.createRowContainer(t,n,s,r),u=this.createRowContainer(t,n,s,r),f=this;u.style.width=i+"px";e={scope:r,node:n,rowIndex:t,eCells:{},eVolatileCells:{}};this.renderedRows[t]=e;this.renderedRowStartEditingListeners[t]={};l=this.gridOptionsWrapper.isGroupUseEntireRow();a=s&&l;a?(v=o[0],c=f.createGroupElement(n,t,!1),v.pinned?(h.appendChild(c),y=f.createGroupElement(n,t,!0),u.appendChild(y)):u.appendChild(c)):o.forEach(function(i,o){var s=o===0,c=f.getDataForNode(n),l=f.createValueGetter(c,i.colDef,n);f.createCellFromColDef(s,i,l,n,t,u,h,r,e)});e.pinnedElement=this.compileAndAdd(this.ePinnedColsContainer,t,h,r);e.bodyElement=this.compileAndAdd(this.eBodyContainer,t,u,r)}};i.prototype.getDataForNode=function(n){if(n.footer)return n.data;if(n.group){var t=this.gridOptionsWrapper.isGroupIncludeFooter();return n.expanded&&t?undefined:n.data}return n.data};i.prototype.createValueGetter=function(n,t,i){var u=this;return function(){var f=u.gridOptionsWrapper.getApi(),e=u.gridOptionsWrapper.getContext();return r.getValue(u.expressionService,n,t,i,f,e)}};i.prototype.createChildScopeOrNull=function(n){if(this.gridOptionsWrapper.isAngularCompileRows()){var t=this.$scope.$new();return t.data=n,t}return null};i.prototype.compileAndAdd=function(n,t,i,r){if(r){var u=this.$compile(i)(r);return n&&n.appendChild(u[0]),u[0]}return n&&n.appendChild(i),i};i.prototype.createCellFromColDef=function(n,t,i,r,u,f,e,o,s){var h=this.createCell(n,t,i,r,u,o);t.colDef.volatile&&(s.eVolatileCells[t.colId]=h);s.eCells[t.colId]=h;t.pinned?e.appendChild(h):f.appendChild(h)};i.prototype.addClassesToRow=function(n,t,i){var r=["ag-row"],f,u,e;r.push(n%2==0?"ag-row-even":"ag-row-odd");this.selectionController.isNodeSelected(t)&&r.push("ag-row-selected");t.group?r.push("ag-row-level-"+t.level):t.parent?r.push("ag-row-level-"+(t.parent.level+1)):r.push("ag-row-level-0");t.group&&r.push("ag-row-group");t.group&&!t.footer&&t.expanded&&r.push("ag-row-group-expanded");!t.group||t.footer||t.expanded||r.push("ag-row-group-contracted");t.group&&t.footer&&r.push("ag-row-footer");this.gridOptionsWrapper.getRowClass()&&(f={node:t,data:t.data,rowIndex:n,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()},u=this.gridOptionsWrapper.getRowClass()(f),u&&(typeof u=="string"?r.push(u):Array.isArray(u)&&u.forEach(function(n){r.push(n)})));e=r.join(" ");i.className=e};i.prototype.createRowContainer=function(n,t,i,r){var u=document.createElement("div"),f,e,o,s;return this.addClassesToRow(n,t,u),u.setAttribute("row",n),this.gridOptionsWrapper.isDontUseScrolls()||(u.style.top=this.gridOptionsWrapper.getRowHeight()*n+"px"),u.style.height=this.gridOptionsWrapper.getRowHeight()+"px",this.gridOptionsWrapper.getRowStyle()&&(e=this.gridOptionsWrapper.getRowStyle(),typeof e=="function"?(o={data:t.data,node:t,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext(),$scope:r},f=e(o)):f=e,f&&Object.keys(f).forEach(function(n){u.style[n]=f[n]})),s=this,u.addEventListener("click",function(n){s.angularGrid.onRowClicked(n,Number(this.getAttribute("row")),t)}),u};i.prototype.getIndexOfRenderedNode=function(n){for(var i=this.renderedRows,r=Object.keys(i),t=0;t<r.length;t++)if(i[r[t]].node===n)return i[r[t]].rowIndex;return-1};i.prototype.createGroupElement=function(n,t,i){var u,f;return i?u=document.createElement("span"):(f={node:n,data:n.data,rowIndex:t,api:this.gridOptionsWrapper.getApi(),colDef:{cellRenderer:{renderer:"group",innerRenderer:this.gridOptionsWrapper.getGroupRowInnerRenderer()}}},u=this.cellRendererMap.group(f)),n.footer?r.addCssClass(u,"ag-footer-cell-entire-row"):r.addCssClass(u,"ag-group-cell-entire-row"),u};i.prototype.putDataIntoCell=function(n,t,i,r,u,f,e,o,s){var h=n.colDef,c;h.template?f.innerHTML=h.template:h.templateUrl?(c=this.templateService.getTemplate(h.templateUrl,s),c&&(f.innerHTML=c)):h.cellRenderer?this.useCellRenderer(n,t,r,u,f,o,s,i,e):t!==undefined&&t!==null&&t!==""&&(f.innerHTML=t)};i.prototype.useCellRenderer=function(n,t,i,u,f,e,o,s,h){var c=n.colDef,v={value:t,valueGetter:s,data:i.data,node:i,colDef:c,column:n,$scope:u,rowIndex:e,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext(),refreshCell:o,eGridCell:h},l,a;if(typeof c.cellRenderer=="object"&&c.cellRenderer!==null){if(l=this.cellRendererMap[c.cellRenderer.renderer],!l)throw"Cell renderer "+c.cellRenderer+" not found, available are "+Object.keys(this.cellRendererMap);}else if(typeof c.cellRenderer=="function")l=c.cellRenderer;else throw"Cell Renderer must be String or Function";a=l(v);r.isNodeOrElement(a)?f.appendChild(a):f.innerHTML=a};i.prototype.addStylesFromCollDef=function(n,t,i,r,u){var f=n.colDef,e,o;f.cellStyle&&(typeof f.cellStyle=="function"?(o={value:t,data:i.data,node:i,colDef:f,column:n,$scope:r,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()},e=f.cellStyle(o)):e=f.cellStyle,e&&Object.keys(e).forEach(function(n){u.style[n]=e[n]}))};i.prototype.addClassesFromCollDef=function(n,t,i,u,f){var e,o;n.cellClass&&(typeof n.cellClass=="function"?(o={value:t,data:i.data,node:i,colDef:n,$scope:u,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()},e=n.cellClass(o)):e=n.cellClass,typeof e=="string"?r.addCssClass(f,e):Array.isArray(e)&&e.forEach(function(n){r.addCssClass(f,n)}))};i.prototype.addClassesToCell=function(n,t,i){var r=["ag-cell","ag-cell-no-focus","cell-col-"+n.index];t.group&&(t.footer?r.push("ag-footer-cell"):r.push("ag-group-cell"));i.className=r.join(" ")};i.prototype.addClassesFromRules=function(n,t,i,u,f){var o=n.cellClassRules,c,l,s,h,e,a;if(typeof o=="object"&&o!==null)for(c={value:i,data:u.data,node:u,colDef:n,rowIndex:f,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()},l=Object.keys(o),s=0;s<l.length;s++)h=l[s],e=o[h],typeof e=="string"?a=this.expressionService.evaluate(e,c):typeof e=="function"&&(a=e(c)),a?r.addCssClass(t,h):r.removeCssClass(t,h)};i.prototype.createCell=function(n,t,i,u,f,e){var h=this,o=document.createElement("div"),s;return o.setAttribute("col",t.index),this.gridOptionsWrapper.isSuppressCellSelection()||o.setAttribute("tabindex","-1"),i&&(s=i()),this.addClassesToCell(t,u,o),this.populateAndStyleGridCell(i,s,o,n,u,t,f,e),this.addCellClickedHandler(o,u,t,s,f),this.addCellDoubleClickedHandler(o,u,t,s,f,e,n,i),this.addCellNavigationHandler(o,f,t,u),o.style.width=r.formatWidth(t.actualWidth),this.renderedRowStartEditingListeners[f][t.colId]=function(){return h.isCellEditable(t.colDef,u)?(h.startEditing(o,t,u,e,f,n,i),!0):!1},o};i.prototype.addCellNavigationHandler=function(n,t,i,r){var f=this;n.addEventListener("keydown",function(e){var o,h,c,s,l,a,v;f.editingCell||e.target===n&&(o=e.which||e.keyCode,h=o===u.KEY_DOWN||o===u.KEY_UP||o===u.KEY_LEFT||o===u.KEY_RIGHT,h&&(e.preventDefault(),f.navigateToNextCell(o,t,i)),c=o===u.KEY_ENTER,c&&(s=f.renderedRowStartEditingListeners[t][i.colId],s&&(l=s(),l&&e.preventDefault())),a=o===u.KEY_SPACE,a&&f.gridOptionsWrapper.isRowSelection()&&(v=f.selectionController.isNodeSelected(r),v?f.selectionController.deselectNode(r):f.selectionController.selectNode(r,!0),e.preventDefault()))})};i.prototype.navigateToNextCell=function(n,t,i){for(var r={rowIndex:t,column:i},u,f;!f;){if(r=this.getNextCellToFocus(n,r),!r)return;u=this.renderedRows[r.rowIndex];f=u.eCells[r.column.colId]}this.gridPanel.ensureIndexVisible(u.rowIndex);this.focusCell(f,r.rowIndex,r.column.index,!0)};i.prototype.getNextCellToFocus=function(n,t){var i=t.rowIndex,e=t.column,r,f,o,s;switch(n){case u.KEY_UP:if(i===this.firstVirtualRenderedRow)return null;r=i-1;f=e;break;case u.KEY_DOWN:if(i===this.lastVirtualRenderedRow)return null;r=i+1;f=e;break;case u.KEY_RIGHT:if(o=this.columnModel.getVisibleColAfter(e),!o)return null;r=i;f=o;break;case u.KEY_LEFT:if(s=this.columnModel.getVisibleColBefore(e),!s)return null;r=i;f=s}return{rowIndex:r,column:f}};i.prototype.focusCell=function(n,t,i,u){if(!this.gridOptionsWrapper.isSuppressCellSelection()){r.querySelectorAll_replaceCssClass(this.eParentOfRows,".ag-cell-focus","ag-cell-focus","ag-cell-no-focus");var f='[row="'+t+'"] [col="'+i+'"]';r.querySelectorAll_replaceCssClass(this.eParentOfRows,f,"ag-cell-no-focus","ag-cell-focus");this.focusedCell={rowIndex:t,colIndex:i,node:this.rowModel.getVirtualRow(t)};u&&n.focus();typeof this.gridOptionsWrapper.getCellFocused()=="function"&&this.gridOptionsWrapper.getCellFocused()(this.focusedCell)}};i.prototype.getFocusedCell=function(){return this.focusedCell};i.prototype.setFocusedCell=function(n,t){var i=this.renderedRows[n],r=this.columnModel.getDisplayedColumns()[t],u;i&&r&&(u=i.eCells[r.colId],this.focusCell(u,n,t,!0))};i.prototype.populateAndStyleGridCell=function(n,t,i,r,u,f,e,o){var s=f.colDef;this.populateGridCell(i,r,u,f,e,t,n,o);this.addStylesFromCollDef(f,t,u,o,i);this.addClassesFromCollDef(s,t,u,o,i);this.addClassesFromRules(s,i,t,u,e)};i.prototype.populateGridCell=function(n,t,i,u,f,e,o,s){var h=document.createElement("span"),l,a,c,v,y;r.addCssClass(h,"ag-cell-wrapper");n.appendChild(h);l=u.colDef;l.checkboxSelection&&(a=this.selectionRendererFactory.createSelectionCheckbox(i,f),h.appendChild(a));c=document.createElement("span");r.addCssClass(c,"ag-cell-value");h.appendChild(c);v=this;y=function(){v.softRefreshCell(n,t,i,u,s,f)};this.putDataIntoCell(u,e,o,i,s,c,n,f,y)};i.prototype.addCellDoubleClickedHandler=function(n,t,i,r,u,f,e,o){var s=this,h=i.colDef;n.addEventListener("dblclick",function(c){var l,a;s.gridOptionsWrapper.getCellDoubleClicked()&&(l={node:t,data:t.data,value:r,rowIndex:u,colDef:h,event:c,eventSource:this,api:s.gridOptionsWrapper.getApi()},s.gridOptionsWrapper.getCellDoubleClicked()(l));h.cellDoubleClicked&&(a={node:t,data:t.data,value:r,rowIndex:u,colDef:h,event:c,eventSource:this,api:s.gridOptionsWrapper.getApi()},h.cellDoubleClicked(a));s.isCellEditable(h,t)&&s.startEditing(n,i,t,f,u,e,o)})};i.prototype.addCellClickedHandler=function(n,t,i,r,u){var e=i.colDef,f=this;n.addEventListener("click",function(o){var s,h;f.focusCell(n,u,i.index,!1);f.gridOptionsWrapper.getCellClicked()&&(s={node:t,data:t.data,value:r,rowIndex:u,colDef:e,event:o,eventSource:this,api:f.gridOptionsWrapper.getApi()},f.gridOptionsWrapper.getCellClicked()(s));e.cellClicked&&(h={node:t,data:t.data,value:r,rowIndex:u,colDef:e,event:o,eventSource:this,api:f.gridOptionsWrapper.getApi()},e.cellClicked(h))})};i.prototype.isCellEditable=function(n,t){return this.editingCell?!1:t.group?!1:typeof n.editable=="boolean"?n.editable:typeof n.editable=="function"?n.editable(t.data):!1};i.prototype.stopEditing=function(n,t,i,u,f,e,o,s,h){var c,a,l;this.editingCell=!1;l=f.value;c=t.colDef;f.removeEventListener("blur",e);r.removeAllChildren(n);a={node:i,data:i.data,oldValue:i.data[c.field],newValue:l,rowIndex:o,colDef:c,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()};c.newValueHandler?c.newValueHandler(a):i.data[c.field]=l;h&&(l=h());a.newValue=l;typeof c.cellValueChanged=="function"&&c.cellValueChanged(a);typeof this.gridOptionsWrapper.getCellValueChanged()=="function"&&this.gridOptionsWrapper.getCellValueChanged()(a);this.populateAndStyleGridCell(h,l,n,s,i,t,o,u)};i.prototype.startEditing=function(n,t,i,f,e,o,s){var c=this,h,a,l;this.editingCell=!0;r.removeAllChildren(n);h=document.createElement("input");h.type="text";r.addCssClass(h,"ag-cell-edit-input");s&&(a=s(),a!==null&&a!==undefined&&(h.value=a));h.style.width=t.actualWidth-14+"px";n.appendChild(h);h.focus();h.select();l=function(){c.stopEditing(n,t,i,f,h,l,e,o,s)};h.addEventListener("blur",l);h.addEventListener("keypress",function(r){var a=r.which||r.keyCode;a==u.KEY_ENTER&&(c.stopEditing(n,t,i,f,h,l,e,o,s),c.focusCell(n,e,t.index,!0))});h.addEventListener("keydown",function(r){var a=r.which||r.keyCode;if(a==u.KEY_TAB)return c.stopEditing(n,t,i,f,h,l,e,o,s),c.startEditingNextCell(e,t,r.shiftKey),r.preventDefault(),!1})};i.prototype.startEditingNextCell=function(n,t,i){for(var h=this.firstVirtualRenderedRow,c=this.lastVirtualRenderedRow,f=n,u=this.columnModel.getDisplayedColumns(),r=t,e,o,s;;){if(e=u.indexOf(r),i){if(r=u[e-1],r||(r=u[u.length-1],f--),f<h)return}else if(r=u[e+1],r||(r=u[0],f++),f>c)return;if(o=this.renderedRowStartEditingListeners[f][r.colId],o&&(s=o(),s))return}};t.exports=i},{"./cellRenderers/groupCellRendererFactory":2,"./constants":4,"./utils":38}],31:[function(n,t){function i(){}var r=n("./utils"),u=0,f=1,e=2,o=3;i.prototype.init=function(n,t,i,r,u){this.eRowsParent=t.getRowsParent();this.angularGrid=n;this.gridOptionsWrapper=i;this.$scope=r;this.rowRenderer=u;this.gridOptionsWrapper=i;this.initSelectedNodesById();this.selectedRows=[];i.setSelectedRows(this.selectedRows)};i.prototype.initSelectedNodesById=function(){this.selectedNodesById={};this.gridOptionsWrapper.setSelectedNodesById(this.selectedNodesById)};i.prototype.getSelectedNodes=function(){for(var r,u,t=[],i=Object.keys(this.selectedNodesById),n=0;n<i.length;n++)r=i[n],u=this.selectedNodesById[r],t.push(u);return t};i.prototype.getBestCostNodeSelection=function(){function t(i){for(var u,f=0,e=i.length;f<e;f++)u=i[f],r.isNodeSelected(u)?n.push(u):u.group&&u.children&&t(u.children)}if(typeof this.rowModel.getTopLevelNodes!="function")throw"selectAll not available when rows are on the server";var i=this.rowModel.getTopLevelNodes(),n=[],r=this;return t(i),n};i.prototype.setRowModel=function(n){this.rowModel=n};i.prototype.deselectAll=function(){this.initSelectedNodesById();this.syncSelectedRowsAndCallListener()};i.prototype.selectAll=function(){function i(r){var f,u;if(r)for(f=0;f<r.length;f++)u=r[f],u.group?(i(u.children),t&&(n[u.id]=u)):n[u.id]=u}var n,t,r;if(typeof this.rowModel.getTopLevelNodes!="function")throw"selectAll not available when rows are on the server";n=this.selectedNodesById;t=!this.gridOptionsWrapper.isGroupSelectsChildren();r=this.rowModel.getTopLevelNodes();i(r);this.syncSelectedRowsAndCallListener()};i.prototype.selectNode=function(n,t,i){var e=this.gridOptionsWrapper.isRowSelectionMulti()&&t,r,u,f;r=n.footer?n.sibling:n;u=!1;f=!1;e||(u=this.doWorkOfDeselectAllNodes());f=this.gridOptionsWrapper.isGroupSelectsChildren()&&r.group?this.recursivelySelectAllChildren(r):this.doWorkOfSelectNode(r,i);(u||f)&&this.syncSelectedRowsAndCallListener(i);this.updateGroupParentsIfNeeded()};i.prototype.recursivelySelectAllChildren=function(n,t){var u=!1,i,r;if(n.children)for(i=0;i<n.children.length;i++)r=n.children[i],r.group?this.recursivelySelectAllChildren(r)&&(u=!0):this.doWorkOfSelectNode(r,t)&&(u=!0);return u};i.prototype.recursivelyDeselectAllChildren=function(n){var t,i;if(n.children)for(t=0;t<n.children.length;t++)i=n.children[t],i.group?this.recursivelyDeselectAllChildren(i):this.deselectRealNode(i)};i.prototype.doWorkOfSelectNode=function(n,t){return this.selectedNodesById[n.id]?!1:(this.selectedNodesById[n.id]=n,this.addCssClassForNode_andInformVirtualRowListener(n),n.group&&n.expanded&&n.sibling&&this.addCssClassForNode_andInformVirtualRowListener(n.sibling),t||typeof this.gridOptionsWrapper.getRowSelected()!="function"||this.gridOptionsWrapper.getRowSelected()(n.data,n),!0)};i.prototype.addCssClassForNode_andInformVirtualRowListener=function(n){var t=this.rowRenderer.getIndexOfRenderedNode(n);if(t>=0){r.querySelectorAll_addCssClass(this.eRowsParent,'[row="'+t+'"]',"ag-row-selected");this.angularGrid.onVirtualRowSelected(t,!0)}};i.prototype.doWorkOfDeselectAllNodes=function(n){for(var f,i,r,u=Object.keys(this.selectedNodesById),t=0;t<u.length;t++)if(f=u[t],i=this.selectedNodesById[f],i===n)continue;else this.deselectRealNode(i),r=!0;return r};i.prototype.deselectRealNode=function(n){this.removeCssClassForNode(n);n.group&&n.expanded&&n.sibling&&this.removeCssClassForNode(n.sibling);delete this.selectedNodesById[n.id]};i.prototype.removeCssClassForNode=function(n){var t=this.rowRenderer.getIndexOfRenderedNode(n);if(t>=0){r.querySelectorAll_removeCssClass(this.eRowsParent,'[row="'+t+'"]',"ag-row-selected");this.angularGrid.onVirtualRowSelected(t,!1)}};i.prototype.deselectIndex=function(n){var t=this.rowModel.getVirtualRow(n);this.deselectNode(t)};i.prototype.deselectNode=function(n){n&&(this.gridOptionsWrapper.isGroupSelectsChildren()&&n.group?this.recursivelyDeselectAllChildren(n):this.deselectRealNode(n));this.syncSelectedRowsAndCallListener();this.updateGroupParentsIfNeeded()};i.prototype.selectIndex=function(n,t,i){var r=this.rowModel.getVirtualRow(n);this.selectNode(r,t,i)};i.prototype.syncSelectedRowsAndCallListener=function(n){var i=this.selectedRows,o=i.length,r,t,u,f,e;for(i.length=0,r=Object.keys(this.selectedNodesById),t=0;t<r.length;t++)this.selectedNodesById[r[t]]!==undefined&&(u=this.selectedNodesById[r[t]],i.push(u.data));f=o===0&&i.length===0;f||n||typeof this.gridOptionsWrapper.getSelectionChanged()!="function"||this.gridOptionsWrapper.getSelectionChanged()();e=this;this.$scope&&setTimeout(function(){e.$scope.$apply()},0)};i.prototype.recursivelyCheckIfSelected=function(n){var t=!1,i=!1,r,s,h;if(n.children)for(r=0;r<n.children.length;r++){if(s=n.children[r],s.group){h=this.recursivelyCheckIfSelected(s);switch(h){case u:t=!0;break;case f:i=!0;break;case e:t=!0;i=!0}}else this.isNodeSelected(s)?t=!0:i=!0;if(t&&i)return e}return t?u:i?f:o};i.prototype.isNodeSelected=function(n){if(this.gridOptionsWrapper.isGroupSelectsChildren()&&n.group){var t=this.recursivelyCheckIfSelected(n);switch(t){case u:return!0;case f:return!1;default:return undefined}}else return this.selectedNodesById[n.id]!==undefined};i.prototype.updateGroupParentsIfNeeded=function(){var u,f,n,t,i;if(this.gridOptionsWrapper.isGroupSelectsChildren())for(u=this.rowRenderer.getFirstVirtualRenderedRow(),f=this.rowRenderer.getLastVirtualRenderedRow(),n=u;n<=f;n++)if(t=this.rowModel.getVirtualRow(n),t.group){i=this.isNodeSelected(t);this.angularGrid.onVirtualRowSelected(n,i);i?r.querySelectorAll_addCssClass(this.eRowsParent,'[row="'+n+'"]',"ag-row-selected"):r.querySelectorAll_removeCssClass(this.eRowsParent,'[row="'+n+'"]',"ag-row-selected")}};t.exports=i},{"./utils":38}],32:[function(n,t){function i(){}function r(n,t){typeof t=="boolean"?(n.checked=t,n.indeterminate=!1):n.indeterminate=!0}i.prototype.init=function(n,t){this.angularGrid=n;this.selectionController=t};i.prototype.createCheckboxColDef=function(){return{width:30,suppressMenu:!0,suppressSorting:!0,headerCellRenderer:function(){var n=document.createElement("input");return n.type="checkbox",n.name="name",n},cellRenderer:this.createCheckboxRenderer()}};i.prototype.createCheckboxRenderer=function(){var n=this;return function(t){return n.createSelectionCheckbox(t.node,t.rowIndex)}};i.prototype.createSelectionCheckbox=function(n,t){var i=document.createElement("input"),u;return i.type="checkbox",i.name="name",i.className="ag-selection-checkbox",r(i,this.selectionController.isNodeSelected(n)),u=this,i.onclick=function(n){n.stopPropagation()},i.onchange=function(){var n=i.checked;n?u.selectionController.selectIndex(t,!0):u.selectionController.deselectIndex(t)},this.angularGrid.addVirtualRowListener(t,{rowSelected:function(n){r(i,n)},rowRemoved:function(){}}),i};t.exports=i},{}],33:[function(n,t){function i(){}function u(n){var t=f(),i=document.createElementNS(r,"polygon");return i.setAttribute("points",n),t.appendChild(i),t}function f(){var n=document.createElementNS(r,"svg");return n.setAttribute("width","10"),n.setAttribute("height","10"),n}function e(n){var i=f(),t=document.createElementNS(r,"circle");return t.setAttribute("cx","5"),t.setAttribute("cy","5"),t.setAttribute("r","5"),t.setAttribute("stroke","black"),t.setAttribute("stroke-width","2"),n?t.setAttribute("fill","black"):t.setAttribute("fill","none"),i.appendChild(t),i}var r="http://www.w3.org/2000/svg";i.prototype.createFilterSvg=function(){var t=f(),n=document.createElementNS(r,"polygon");return n.setAttribute("points","0,0 4,4 4,10 6,10 6,4 10,0"),n.setAttribute("class","ag-header-icon"),t.appendChild(n),t};i.prototype.createColumnShowingSvg=function(){return e(!0)};i.prototype.createColumnHiddenSvg=function(){return e(!1)};i.prototype.createMenuSvg=function(){var n=document.createElementNS(r,"svg"),t="12";return n.setAttribute("width",t),n.setAttribute("height",t),["0","5","10"].forEach(function(i){var u=document.createElementNS(r,"rect");u.setAttribute("y",i);u.setAttribute("width",t);u.setAttribute("height","2");u.setAttribute("class","ag-header-icon");n.appendChild(u)}),n};i.prototype.createArrowUpSvg=function(){return u("0,10 5,0 10,10")};i.prototype.createArrowLeftSvg=function(){return u("10,0 0,5 10,10")};i.prototype.createArrowDownSvg=function(){return u("0,0 5,10 10,0")};i.prototype.createArrowRightSvg=function(){return u("0,0 10,5 0,10")};t.exports=i},{}],34:[function(n,t){function i(){this.templateCache={};this.waitingCallbacks={}}i.prototype.init=function(n){this.$scope=n};i.prototype.getTemplate=function(n,t){var u=this.templateCache[n],i,f,r;return u?u:(i=this.waitingCallbacks[n],f=this,i||(i=[],this.waitingCallbacks[n]=i,r=new XMLHttpRequest,r.onload=function(){f.handleHttpResult(this,n)},r.open("GET",n),r.send()),t&&i.push(t),null)};i.prototype.handleHttpResult=function(n,t){var r,i,u,f;if(n.status!==200||n.response===null){console.warn("Unable to get template error "+n.status+" - "+t);return}for(this.templateCache[t]=n.response,r=this.waitingCallbacks[t],i=0;i<r.length;i++)u=r[i],u();this.$scope&&(f=this,setTimeout(function(){f.$scope.$apply()},0))};t.exports=i},{}],35:[function(n,t){function i(n,t){this.gridOptionsWrapper=t;this.setupComponents();this.columnController=n;var i=this;this.columnController.addListener({columnsChanged:i.columnsChanged.bind(i)})}var f=n("../widgets/checkboxSelection"),r=n("./../utils"),e=n("../layout/BorderLayout"),o=n("../svgFactory"),u=new o;i.prototype.columnsChanged=function(n){this.cColumnList.setModel(n)};i.prototype.getColumnList=function(){return this.cColumnList};i.prototype.columnCellRenderer=function(n){function l(){t.visible=!t.visible;h.cColumnList.refreshView();h.columnController.onColumnStateChanged()}var t=n.value,c=this.columnController.getDisplayNameForCol(t),f=document.createElement("span"),i=document.createElement("span"),e,o,s,h;return r.addCssClass(i,"ag-visible-icons"),e=r.createIcon("columnVisible",this.gridOptionsWrapper,t,u.createColumnShowingSvg),o=r.createIcon("columnHidden",this.gridOptionsWrapper,t,u.createColumnHiddenSvg),i.appendChild(e),i.appendChild(o),e.style.display=t.visible?"":"none",o.style.display=t.visible?"none":"",f.appendChild(i),s=document.createElement("span"),s.innerHTML=c,f.appendChild(s),t.visible||r.addCssClass(f,"ag-column-not-visible"),i.addEventListener("click",l),h=this,f};i.prototype.setupComponents=function(){var n;this.cColumnList=new f;this.cColumnList.setCellRenderer(this.columnCellRenderer.bind(this));n=this;this.cColumnList.addModelChangedListener(function(){n.columnController.onColumnStateChanged()});var i=this.gridOptionsWrapper.getLocaleTextFunc(),r=i("columns","Columns"),t=document.createElement("div");t.innerHTML='<div style="text-align: center;">'+r+"<\/div>";this.layout=new e({center:this.cColumnList.getGui(),north:t})};i.prototype.setSelected=function(n,t){n.visible=t;this.columnController.onColumnStateChanged()};i.prototype.getGui=function(){return this.eRootPanel.getGui()};t.exports=i},{"../layout/BorderLayout":23,"../svgFactory":33,"../widgets/checkboxSelection":40,"./../utils":38}],36:[function(n,t){function i(n,t,i){this.gridOptionsWrapper=i;this.setupComponents();this.columnController=n;this.inMemoryRowController=t;var r=this;this.columnController.addListener({columnsChanged:r.columnsChanged.bind(r)})}var u=n("../widgets/checkboxSelection"),f=n("../constants"),r=n("../utils"),e=n("../layout/borderLayout"),o=n("../svgFactory"),s=new o;i.prototype.columnsChanged=function(n,t){this.cColumnList.setModel(t)};i.prototype.getColumnList=function(){return this.cColumnList};i.prototype.columnCellRenderer=function(n){var i=n.value,o=this.columnController.getDisplayNameForCol(i),u=document.createElement("span"),f=r.createIcon("columnRemoveFromGroupIcon",this.gridOptionsWrapper,i,s.createArrowUpSvg),t,e;return r.addCssClass(f,"ag-visible-icons"),u.appendChild(f),t=this,f.addEventListener("click",function(){var n=t.cColumnList.getModel();n.splice(n.indexOf(i),1);t.cColumnList.setModel(n);t.onGroupingChanged()}),e=document.createElement("span"),e.innerHTML=o,u.appendChild(e),u};i.prototype.setupComponents=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc(),i=t("pivotedColumns","Pivoted Columns"),r=t("pivotedColumnsEmptyMessage","Drag columns down from above to pivot by those columns"),n;this.cColumnList=new u;this.cColumnList.setCellRenderer(this.columnCellRenderer.bind(this));this.cColumnList.addModelChangedListener(this.onGroupingChanged.bind(this));this.cColumnList.setEmptyMessage(r);n=document.createElement("div");n.style.paddingTop="10px";n.innerHTML='<div style="text-align: center;">'+i+"<\/div>";this.layout=new e({center:this.cColumnList.getGui(),north:n})};i.prototype.onGroupingChanged=function(){this.inMemoryRowController.doGrouping();this.inMemoryRowController.updateModel(f.STEP_EVERYTHING);this.columnController.onColumnStateChanged()};i.prototype.getGui=function(){return this.eRootPanel.getGui()};t.exports=i},{"../constants":4,"../layout/borderLayout":24,"../svgFactory":33,"../utils":38,"../widgets/checkboxSelection":40}],37:[function(n,t){function i(){this.layout=new e}var r=n("../utils"),u=n("./columnSelectionPanel"),f=n("./groupSelectionPanel"),e=n("../layout/verticalStack");i.prototype.init=function(n,t,i){var o=new u(n,i),e,s;this.layout.addPanel(o.layout,"50%");e=new f(n,t,i);this.layout.addPanel(e.layout,"50%");e.getColumnList().addDragSource(o.getColumnList().getUniqueId());s=this.layout.getGui();r.addCssClass(s,"ag-tool-panel-container")};t.exports=i},{"../layout/verticalStack":25,"../utils":38,"./columnSelectionPanel":35,"./groupSelectionPanel":36}],38:[function(n,t){function i(){}var r=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,u=/([^\s,]+)/g;i.prototype.iterateObject=function(n,t){for(var r,f,u=Object.keys(n),i=0;i<u.length;i++)r=u[i],f=n[r],t(r,f)};i.prototype.map=function(n,t){for(var u,f,r=[],i=0;i<n.length;i++)u=n[i],f=t(u),r.push(f);return r};i.prototype.getFunctionParameters=function(n){var t=n.toString().replace(r,""),i=t.slice(t.indexOf("(")+1,t.indexOf(")")).match(u);return i===null?[]:i};i.prototype.toStrings=function(n){return this.map(n,function(n){return n!==undefined&&n!==null&&n.toString?n.toString():null})};i.prototype.iterateArray=function(n,t){for(var r,i=0;i<n.length;i++)r=n[i],t(r,i)};i.prototype.getValue=function(n,t,i,r,u,f){var e=i.valueGetter,s=i.field,o;if(e){if(o={data:t,node:r,colDef:i,api:u,context:f},typeof e=="function")return e(o);if(typeof e=="string")return n.evaluate(e,o)}else return s&&t?t[s]:undefined};i.prototype.isNode=function(n){return typeof Node=="object"?n instanceof Node:n&&typeof n=="object"&&typeof n.nodeType=="number"&&typeof n.nodeName=="string"};i.prototype.isElement=function(n){return typeof HTMLElement=="object"?n instanceof HTMLElement:n&&typeof n=="object"&&n!==null&&n.nodeType===1&&typeof n.nodeName=="string"};i.prototype.isNodeOrElement=function(n){return this.isNode(n)||this.isElement(n)};i.prototype.addChangeListener=function(n,t){n.addEventListener("changed",t);n.addEventListener("paste",t);n.addEventListener("input",t)};i.prototype.makeNull=function(n){return n===null||n===undefined||n===""?null:n};i.prototype.removeAllChildren=function(n){if(n)while(n.hasChildNodes())n.removeChild(n.lastChild)};i.prototype.addAsModalPopup=function(n,t){var i=document.createElement("div");i.className="ag-popup-backdrop";i.onclick=function(){n.removeChild(t);n.removeChild(i)};n.appendChild(i);n.appendChild(t)};i.prototype.loadTemplate=function(n){var t=document.createElement("div");return t.innerHTML=n,t.firstChild};i.prototype.pixelStringToNumber=function(n){return typeof n=="string"?(n.indexOf("px")>=0&&n.replace("px",""),parseInt(n)):n};i.prototype.querySelectorAll_addCssClass=function(n,t,i){for(var u=n.querySelectorAll(t),r=0;r<u.length;r++)this.addCssClass(u[r],i)};i.prototype.querySelectorAll_removeCssClass=function(n,t,i){for(var u=n.querySelectorAll(t),r=0;r<u.length;r++)this.removeCssClass(u[r],i)};i.prototype.querySelectorAll_replaceCssClass=function(n,t,i,r){for(var f=n.querySelectorAll(t),u=0;u<f.length;u++)this.removeCssClass(f[u],i),this.addCssClass(f[u],r)};i.prototype.addOrRemoveCssClass=function(n,t,i){i?this.addCssClass(n,t):this.removeCssClass(n,t)};i.prototype.addCssClass=function(n,t){if(n.className&&n.className.length>0){var i=n.className.split(" ");i.indexOf(t)<0&&(i.push(t),n.className=i.join(" "))}else n.className=t};i.prototype.offsetHeight=function(n){return n&&n.clientHeight?n.clientHeight:0};i.prototype.offsetWidth=function(n){return n&&n.clientWidth?n.clientWidth:0};i.prototype.removeCssClass=function(n,t){if(n.className&&n.className.length>0){var i=n.className.split(" "),r=i.indexOf(t);r>=0&&(i.splice(r,1),n.className=i.join(" "))}};i.prototype.removeFromArray=function(n,t){n.splice(n.indexOf(t),1)};i.prototype.defaultComparator=function(n,t){var i=n===null||n===undefined,r=t===null||t===undefined;return i&&r?0:i?-1:r?1:n<t?-1:n>t?1:0};i.prototype.formatWidth=function(n){return typeof n=="number"?n+"px":n};i.prototype.useRenderer=function(n,t,i){var r=t(i),u;this.isNode(r)||this.isElement(r)?n.appendChild(r):(u=document.createElement("span"),u.innerHTML=r,n.appendChild(u))};i.prototype.createIcon=function(n,t,i,r){var e=document.createElement("span"),u,f;if(i&&i.colDef.icons&&(u=i.colDef.icons[n]),!u&&t.getIcons()&&(u=t.getIcons()[n]),u){if(typeof u=="function")f=u();else if(typeof u=="string")f=u;else throw"icon from grid options needs to be a string or a function";if(typeof f=="string")e.innerHTML=f;else if(this.isNodeOrElement(f))e.appendChild(f);else throw"iconRenderer should return back a string or a dom object";}else e.appendChild(r());return e};i.prototype.getScrollbarWidth=function(){var n=document.createElement("div"),i,t,r;return n.style.visibility="hidden",n.style.width="100px",n.style.msOverflowStyle="scrollbar",document.body.appendChild(n),i=n.offsetWidth,n.style.overflow="scroll",t=document.createElement("div"),t.style.width="100%",n.appendChild(t),r=t.offsetWidth,n.parentNode.removeChild(n),i-r};i.prototype.isKeyPressed=function(n,t){var i=n.which||n.keyCode;return i===t};i.prototype.setVisible=function(n,t){n.style.display=t?"inline":"none"};t.exports=new i},{}],39:[function(n,t){t.exports="<div class=ag-list-selection><div><div ag-repeat><\/div><\/div><\/div>"},{}],40:[function(n,t){function i(){this.setupComponents();this.uniqueId="CheckboxSelection-"+Math.random();this.modelChangedListeners=[];this.dragSources=[];this.setupAsDropTarget()}var s=n("./checkboxSelection.html"),r=n("../utils"),u=n("../dragAndDrop/dragAndDropService"),f=0,e=1,o=-11;i.prototype.setEmptyMessage=function(n){return this.emptyMessage=n};i.prototype.getUniqueId=function(){return this.uniqueId};i.prototype.addDragSource=function(n){this.dragSources.push(n)};i.prototype.addModelChangedListener=function(n){this.modelChangedListeners.push(n)};i.prototype.fireModelChanged=function(){for(var n=0;n<this.modelChangedListeners.length;n++)this.modelChangedListeners[n]()};i.prototype.setupComponents=function(){this.eGui=r.loadTemplate(s);this.eFilterValueTemplate=this.eGui.querySelector("[ag-repeat]");this.eListParent=this.eFilterValueTemplate.parentNode;r.removeAllChildren(this.eListParent)};i.prototype.setModel=function(n){this.model=n;this.refreshView()};i.prototype.getModel=function(){return this.model};i.prototype.setCellRenderer=function(n){this.cellRenderer=n};i.prototype.refreshView=function(){r.removeAllChildren(this.eListParent);this.model&&this.model.length>0?this.insertRows():this.insertBlankMessage()};i.prototype.insertRows=function(){for(var i,n,u,t=0;t<this.model.length;t++)i=this.model[t],n=this.eFilterValueTemplate.cloneNode(!0),this.cellRenderer?(u={value:i},r.useRenderer(n,this.cellRenderer,u)):n.innerHTML=i,this.addDragAndDropToListItem(n,i),this.eListParent.appendChild(n)};i.prototype.insertBlankMessage=function(){if(this.emptyMessage){var n=document.createElement("div");n.style.color="grey";n.style.padding="20px";n.style.textAlign="center";n.innerHTML=this.emptyMessage;this.eListParent.appendChild(n)}};i.prototype.getDragItem=function(){return this.dragItem};i.prototype.setupAsDropTarget=function(){u.addDropTarget(this.eGui,{acceptDrag:this.externalAcceptDrag.bind(this),drop:this.externalDrop.bind(this),noDrop:this.externalNoDrop.bind(this)})};i.prototype.externalAcceptDrag=function(n){var i=this.dragSources.indexOf(n.containerId)>=0,t;return i?(t=this.model.indexOf(n.data)>=0,t)?!1:(this.eGui.style.backgroundColor="lightgreen",!0):!1};i.prototype.externalDrop=function(n){this.addItemToList(n.data);this.eGui.style.backgroundColor=""};i.prototype.externalNoDrop=function(){this.eGui.style.backgroundColor=""};i.prototype.addItemToList=function(n){this.model.push(n);this.refreshView();this.fireModelChanged()};i.prototype.addDragAndDropToListItem=function(n,t){var i=this;u.addDragSource(n,{getData:function(){return t},getContainerId:function(){return i.uniqueId}});u.addDropTarget(n,{acceptDrag:function(r){return i.internalAcceptDrag(t,r,n)},drop:function(n){i.internalDrop(t,n.data)},noDrop:function(){i.internalNoDrop(n)}})};i.prototype.internalAcceptDrag=function(n,t,i){var r=t.data!==n&&t.containerId===this.uniqueId;return r&&(this.dragAfterThisItem(n,t.data)?this.setDropCssClasses(i,e):this.setDropCssClasses(i,o)),r};i.prototype.internalDrop=function(n,t){var i=this.model.indexOf(t),r=this.model.indexOf(n);this.model.splice(i,1);this.model.splice(r,0,t);this.refreshView();this.fireModelChanged()};i.prototype.internalNoDrop=function(n){this.setDropCssClasses(n,f)};i.prototype.dragAfterThisItem=function(n,t){return this.model.indexOf(n)<this.model.indexOf(t)};i.prototype.setDropCssClasses=function(n,t){r.addOrRemoveCssClass(n,"ag-not-drop-target",t===f);r.addOrRemoveCssClass(n,"ag-drop-target-above",t===e);r.addOrRemoveCssClass(n,"ag-drop-target-below",t===o)};i.prototype.getGui=function(){return this.eGui};t.exports=i},{"../dragAndDrop/dragAndDropService":5,"../utils":38,"./checkboxSelection.html":39}]},{},[1]);
//# sourceMappingURL=angular-grid.min.js.map
