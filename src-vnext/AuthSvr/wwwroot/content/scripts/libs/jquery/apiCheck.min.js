(function(n,t){typeof exports=="object"&&typeof module=="object"?module.exports=t():typeof define=="function"&&define.amd?define(t):typeof exports=="object"?exports.apiCheck=t():n.apiCheck=t()})(this,function(){return function(n){function t(r){if(i[r])return i[r].exports;var u=i[r]={exports:{},id:r,loaded:!1};return n[r].call(u.exports,u,u.exports,t),u.loaded=!0,u.exports}var i={};return t.m=n,t.c=i,t.p="",t(0)}([function(n,t,i){"use strict";n.exports=i(1)},function(n,t,i){"use strict";function a(){function n(i,r,u){var o,s,h,f;return t?{apiTypes:{},argTypes:{},passed:!0,message:"",failed:!1}:(p(arguments),o=Array.prototype.slice.call(r),s=undefined,i=e(i),h=y(i,o),s=h.length?h:v(i,o),f=c(i,o),s.length?(f.message=n.getErrorMessage(i,o,s,u),f.failed=!0,f.passed=!1):(f.message="",f.passed=!0,f.failed=!1),f)}function p(t){var i=r.string.optional,f=[r.typeOrArrayOf(l),r.oneOfType([r.args,r.array]),r.shape({prefix:i,suffix:i,urlSuffix:i,onlyPrefix:i,onlySuffix:i,url:i}).strict.optional],u=y(f,t),e;u.length||(u=v(f,t));e=undefined;u.length&&(e=n.getErrorMessage(f,t,u,{prefix:"apiCheck"}),n.handleErrorMessage(e,!0))}function h(t){return function(i,r,u){var f=n(i,r,u);return n.handleErrorMessage(f.message,t),f}}function b(n,t){if(t&&n)throw new Error(n);else n&&console.warn(n)}function d(t,i){function l(){var n=r.onlyPrefix;return n||(n=(""+(u.prefix||"")+" "+(r.prefix||"")).trim()),n}function a(){var n=r.onlySuffix;return n||(n=(""+(r.suffix||"")+" "+(u.suffix||"")).trim()),n}function v(){var n=r.url;return n||(n=u.docsBaseUrl&&r.urlSuffix&&(""+u.docsBaseUrl+""+r.urlSuffix).trim()),n}var f=arguments[2]===undefined?[]:arguments[2],r=arguments[3]===undefined?{}:arguments[3],u=n.config.output||{},e=l(),o=a(),s=v(),h="apiCheck failed! "+f.join(", "),c="\n\n"+g(t,i);return(""+e+" "+h+" "+o+" "+(s||"")+""+c).trim()}function g(n,t){function a(n){f(n,function(t,i){h.indexOf(t)===-1&&(h.push(t),typeof t=="object"?a(n):typeof t=="function"&&(n[i]=t.displayName||t.name||"anonymous function"))})}var l,i;n=e(n);t=e(t);var s=c(n,t),r=s.apiTypes,u=s.argTypes,o=t.slice(),h=[];return a(o),l=o.length?JSON.stringify(o,null,2):"nothing",u=t.length?JSON.stringify(u,null,2):"nothing",r=r.length?JSON.stringify(r,null,2):"nothing",i="\n",["You passed:"+i+""+l,"With the types of:"+i+""+u,"The API calls for:"+i+""+r].join(i+i)}function c(t,i){t=e(t);i=e(i);var r=t.map(function(t,r){return k(t,{terse:!n.config.verbose,obj:i[r],addHelpers:!0})}),u=i.map(w);return{argTypes:u,apiTypes:r}}var i=arguments[0]===undefined?{}:arguments[0],a=arguments[1]===undefined?{}:arguments[1],t,s;return o&&arguments.length&&o["throw"](nt,arguments,{prefix:"creating an instance of apiCheck"}),t=!1,s={"throw":h(!0),warn:h(!1),disable:function(){return t=!0},enable:function(){return t=!1},getErrorMessage:d,handleErrorMessage:b,config:{output:i.output||{prefix:"",suffix:"",docsBaseUrl:""},verbose:i.verbose||!1},utils:u},f(s,function(t,i){return n[i]=t}),f(r,function(t,i){return n[i]=t}),f(a,function(t,i){return n[i]=t}),n}function v(n,t){for(var e=[],a=!1,r=0,u=0,o=undefined,i=undefined,s=undefined,h=undefined,l=undefined,f=undefined,v=undefined;(i=n[r++])&&u<t.length;)o=t[u++],l="Argument "+u+(i.isOptional?" (optional)":""),s=i(o,null,l),f=c(s),h=r>=n.length,v=r>1&&n[r-1].isOptional,f&&h||f&&!h&&!i.isOptional&&!v?(a=!0,e.push(tt(s,i,o))):f&&i.isOptional?u--:e.push(""+b(l)+" passed");return a?e:[]}function s(n,t,i){var u=r.shape({type:r.string,optional:r.bool}),e=r.func.withProperties({__apiCheckData:u}),o=r.shape({__apiCheckData:u}),f=r.oneOfType([e,o])(n,t,i);return c(f)?f:typeof n!="function"&&!n.hasOwnProperty(n.__apiCheckData.type)?g(t,i,s.type):void 0}function tt(n,t,i){var r=it(t,i);return r=r?" - "+r:"",n.message+r}function it(n,t){var i=n.help;return i?(typeof i=="function"&&(i=i(t)),i):""}function y(n,t){var i=n.filter(function(n){return!n.isOptional});return t.length<i.length?["Not enough arguments specified. Requires `"+i.length+"`, you passed `"+t.length+"`"]:[]}function p(n){var t={};return f(n,function(n,i){return t[i]=w(n)}),t}function w(n){var t=n&&n.constructor&&n.constructor.name;return t?h[t]?h[t](n):t:n===null?"null":d(n)}var u=i(2),f=u.each,c=u.isError,b=u.t,e=u.arrayify,k=u.getCheckerDisplay,d=u.typeOf,g=u.getError,r=i(3),o=a({output:{prefix:"apiCheck"}}),l=r.func.withProperties({type:r.oneOfType([r.string,s]).optional,displayName:r.string.optional,shortType:r.string.optional,notOptional:r.bool.optional,childrenCheckers:r.arrayOf(r.string).optional}),nt=[r.shape({output:r.shape({prefix:r.string.optional})}),r.objectOf(l).optional],h;n.exports=a;n.exports.internalChecker=o;n.exports.utils=u;f(r,function(t,i){return n.exports[i]=t});s.type="function with __apiCheckData property and `${function.type}` property";h={Object:p,Array:p}},function(n){"use strict";function r(n){var i=e(n),t=undefined;if(i==="array")t=[];else if(i==="object")t={};else return n;return u(n,function(n,i){t[i]=n}),t}function e(n){return Array.isArray(n)?"array":n instanceof RegExp?"object":typeof n}function o(n,t){var r=undefined,i=t&&t.short;return i&&n.shortType?n.shortType:(i||typeof n.type!="object")&&n.type!=="function"?s(n,t)||n.displayName||n.name:s(n,t)}function s(n,t){var i=n.type,r,u;return typeof i=="function"&&(r=i.__apiCheckData,u=i(t),i=a({__apiCheckData:r},r.type,u)),i}function h(n){return n?Array.isArray(n)?n:[n]:[]}function u(n){return Array.isArray(n)?p.apply(undefined,arguments):y.apply(undefined,arguments)}function y(n,t,i){var r,f=Object.prototype.hasOwnProperty;for(var u in n)if(f.call(n,u)&&(r=t.call(i,n[u],u,n),r===!1))return r;return!0}function p(n,t,i){for(var u,f=n.length,r=0;r<f;r++)if(u=t.call(i,n[r],r,n),u===!1)return u;return!0}function w(n){return n instanceof Error}function b(n,t,i){n=h(n);var r=n.slice(),u=r.pop();return r.length===1&&(t=" "),r.join(t)+(""+(r.length?t+i:"")+""+u)}function k(n,i,r){var u=typeof r!="object"?r:JSON.stringify(r);return new Error(""+c(n,i)+" must be "+t(u))}function c(n,i){var r=t(n||"value"),u=i?" at "+t(i):"";return""+r+""+u}function t(n){return"`"+n+"`"}function f(n){return typeof n=="undefined"}function l(n){if(n.optional=function(t,i,r,u){if(!f(t))return n(t,i,r,u)},n.optional.isOptional=!0,n.optional.type=n.type,n.optional.displayName=n.displayName,typeof n.optional.type=="object")n.optional.type=r(n.optional.type);else if(typeof n.optional.type=="function")n.optional.type=function(){return n.type.apply(n,arguments)};else{n.optional.type+=" (optional)";return}n.optional.type.__apiCheckData=r(n.type.__apiCheckData)||{};n.optional.type.__apiCheckData.optional=!0}function d(n,r,u){function e(i,r,u,e){var h=f(i);if(h&&!n.isOptional){var c=u?" in "+t(u):"",s=o(n,{short:!0}),l=typeof s!="object"?s:JSON.stringify(s);return new Error("Required "+t(r)+" not specified"+c+". Must be "+t(l))}return n(i,r,u,e)}return n.type=r,n.shortType=u,e.type=n.type,e.shortType=n.shortType,e.notOptional=n.notOptional,e.childrenCheckers=n.childrenCheckers,i(e),i(n),e}function i(n){n.displayName="apiCheck "+t(n.shortType||n.type||n.name)+" type checker";n.notOptional||l(n);u(n.childrenCheckers,function(t){i(n[t])})}var a=function(n,t,i){return Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0})},v={makeOptional:l,wrapInSpecified:d,setupChecker:i};n.exports={each:u,copy:r,typeOf:e,arrayify:h,getCheckerDisplay:o,isError:w,list:b,getError:k,nAtL:c,t:t,undef:f,checkerHelpers:v}},function(n,t,i){"use strict";function c(n){var t=n.toLowerCase();return r.wrapInSpecified(function(i,r,u){if(l(i)!==t)return f(r,u,n)},n)}function k(){var t="Function",n=r.wrapInSpecified(function(n,i,r){if(l(n)!=="function")return f(i,r,t)},t);return n.withProperties=function(n){var i=o.objectOf(o.func)(n,"properties","apiCheck.func.withProperties"),t;if(u(i))throw i;return t=o.shape(n,!0),t.type.__apiCheckData.type="func.withProperties",r.wrapInSpecified(function(n,i,r){var f=o.func(n,i,r);return u(f)?f:t(n,i,r)},t.type,"func.withProperties")},n.childrenCheckers=["withProperties"],n}function d(){var t="Object (null ok)",i=r.wrapInSpecified(function(n,i,r){if(l(n)!=="object")return f(i,r,t)},t),n=r.wrapInSpecified(function(t,r,e){if(t===null||u(i(t,r,e)))return f(r,e,n.type)},"Object");return n.nullOk=i,n.childrenCheckers=["nullOk"],n}function g(n){return r.wrapInSpecified(function(t,i,r){if(!(t instanceof n))return f(i,r,n.name)},n.name)}function nt(n){var i={__apiCheckData:{optional:!1,type:"enum"},"enum":n},t="enum["+n.map(function(n){return JSON.stringify(n)}).join(", ")+"]";return r.wrapInSpecified(function(i,r,u){if(!n.some(function(n){return n===i}))return f(r,u,t)},i,t)}function tt(n){var i={__apiCheckData:{optional:!1,type:"oneOfType"},oneOfType:n.map(function(n){return s(n)})},e=n.map(function(n){return s(n,{short:!0})}),t="oneOfType["+e.join(", ")+"]";return r.wrapInSpecified(function(i,r,e){if(!n.some(function(n){return!u(n(i,r,e))}))return f(r,e,t)},i,t)}function it(n){var i={__apiCheckData:{optional:!1,type:"arrayOf"},arrayOf:s(n)},e=s(n,{short:!0}),t="arrayOf["+e+"]";return r.wrapInSpecified(function(i,r,e){if(u(o.array(i))||!i.every(function(t){return!u(n(t))}))return f(r,e,t)},i,t)}function rt(n){var i={__apiCheckData:{optional:!1,type:"objectOf"},objectOf:s(n)},e=s(n,{short:!0}),t="objectOf["+e+"]";return r.wrapInSpecified(function(i,r,e){var s=o.object(i,r,e),c;return u(s)?s:(c=h(i,function(t,i){if(u(n(t,i,r)))return!1}),c?void 0:f(r,e,t))},i,t)}function ut(n){var i={__apiCheckData:{optional:!1,type:"typeOrArrayOf"},typeOrArrayOf:s(n)},e=s(n,{short:!0}),t="typeOrArrayOf["+e+"]";return r.wrapInSpecified(function(i,r,e,s){if(u(o.oneOfType([n,o.arrayOf(n)])(i,r,e,s)))return f(r,e,t)},i,t)}function ft(){function n(n,t){function f(){function c(n,i,r,f,e){function h(t,r,u){typeof n[i]=="string"?n[i]+=u:n[i].__apiCheckData[t]=r}var s,o;r||!e||f.isOptional?r&&(o=f(t[i],i,null,t),u(o)&&h("error","THIS IS THE PROBLEM: "+o.message," <-- THIS IS THE PROBLEM: "+o.message)):(s="ITEM",f.type&&f.type.__apiCheckData&&(s=f.type.__apiCheckData.type.toUpperCase()),h("missing","MISSING THIS "+s," <-- YOU ARE MISSING THIS"))}var i=arguments[0]===undefined?{}:arguments[0],r={},f=i.terse,t=i.obj,e=i.addHelpers,o=i.required;return h(n,function(n,i){var u=t&&t.hasOwnProperty(i),h=b(o)?!n.isOptional:o;f&&!u&&n.isOptional||(r[i]=s(n,{terse:f,obj:t&&t[i],required:h,addHelpers:e}));e&&c(r,i,u,n,h)}),r}function e(){return f.apply(undefined,arguments)}var c={},i;return h(n,function(n,t){c[t]=s(n)}),f.__apiCheckData={strict:!1,optional:!1,type:"shape"},i=r.wrapInSpecified(function(i,r,f){var s=!t&&o.object(i,r,f),e;return u(s)?s:(e=undefined,f=f?f+(r?"/":""):"",r=r||"",h(n,function(n,t){if(i.hasOwnProperty(t)||!n.isOptional)return e=n(i[t],t,""+f+""+r,i),!u(e)}),u(e)?e:void 0)},f,"shape"),e.__apiCheckData=y(i.type.__apiCheckData),e.__apiCheckData.strict=!0,i.strict=r.wrapInSpecified(function(t,r,f){var s=i(t,r,f),e,o;return u(s)?s:(e=Object.keys(n),o=Object.keys(t).filter(function(n){return e.indexOf(n)===-1}),o.length?new Error(""+w(r,f)+" cannot have extra properties: "+v(o.join("`, `"))+"."+("It is limited to "+v(e.join("`, `")))):void 0)},e,"strict shape"),i.childrenCheckers=["strict"],r.setupChecker(i),i}return n.ifNot=function(n,t){var u,i;return Array.isArray(n)||(n=[n]),u=undefined,u=n.length===1?"specified only if "+n[0]+" is not specified":"specified only if none of the following are specified: ["+a(n,", ","and ")+"]",i=function(r,u,e,o){var s=o&&o.hasOwnProperty(u),h=n.some(function(n){return o&&o.hasOwnProperty(n)});return s===h?f(u,e,i.type):s?t(r,u,e,o):void 0},i.type=u,i.shortType="ifNot["+n.join(", ")+"]",r.setupChecker(i),i},n.onlyIf=function(n,t){var u,i;return n=p(n),u=undefined,u=n.length===1?"specified only if "+n[0]+" is also specified":"specified only if all of the following are specified: ["+a(n,", ","and ")+"]",i=function(r,u,e,o){var s=n.every(function(n){return o.hasOwnProperty(n)});return s?t(r,u,e,o):f(u,e,i.type)},i.type=u,i.shortType="onlyIf["+n.join(", ")+"]",r.setupChecker(i),i},n}function et(){var n="function arguments";return r.wrapInSpecified(function(t,i,r){if(Array.isArray(t)||u(o.object(t))||u(o.number(t.length)))return f(i,r,n)},n)}function ot(){return r.wrapInSpecified(function(){},"any")}var e=i(2),l=e.typeOf,h=e.each,y=e.copy,s=e.getCheckerDisplay,u=e.isError,p=e.arrayify,a=e.list,f=e.getError,w=e.nAtL,v=e.t,r=e.checkerHelpers,b=e.undef,o=n.exports={array:c("Array"),bool:c("Boolean"),number:c("Number"),string:c("String"),func:k(),object:d(),instanceOf:g,oneOf:nt,oneOfType:tt,arrayOf:it,objectOf:rt,typeOrArrayOf:ut,shape:ft(),args:et(),any:ot()};h(o,r.setupChecker)}])});