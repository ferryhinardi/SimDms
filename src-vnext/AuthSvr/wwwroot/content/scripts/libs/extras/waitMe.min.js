(function(n){n.fn.waitMe=function(t){return this.each(function(){function b(){var n=o.attr("data-waitme_id");o.removeClass(e+"_container").removeAttr("data-waitme_id");o.find("."+e+'[data-waitme_id="'+n+'"]').remove()}var o=n(this),e="waitMe",w,l,r,a=!1,h="background-color",s="",c="",v,u,i,f,y,p={init:function(){var p,b;f=n.extend({effect:"bounce",text:"",bg:"rgba(255,255,255,0.7)",color:"#000",sizeW:"",sizeH:"",source:""},t);y=(new Date).getMilliseconds();v=n('<div class="'+e+'" data-waitme_id="'+y+'"><\/div>');p="width:"+f.sizeW+";height:"+f.sizeH;switch(f.effect){case"none":r=0;break;case"bounce":r=3;u="";i=p;break;case"rotateplane":r=1;u="";i=p;break;case"stretch":r=5;u="";i=p;break;case"orbit":r=2;u=p;i="";break;case"roundBounce":r=12;u=p;i="";break;case"win8":r=5;a=!0;u=p;i=p;break;case"win8_linear":r=5;a=!0;u=p;i="";break;case"ios":r=12;u=p;i="";break;case"facebook":r=3;u="";i=p;break;case"rotation":r=1;h="border-color";u="";i=p;break;case"timer":r=2;s="border-color:"+f.color;u=p;i="";break;case"pulse":r=1;h="border-color";u="";i=p;break;case"progressBar":r=1;u="";i=p;break;case"bouncePulse":r=3;u="";i=p;break;case"img":r=1;u="";i=p}if(f.sizeW==""&&f.sizeH==""&&(i="",u=""),u!=""&&s!=""&&(s=";"+s),r>0){if(l=n('<div class="'+e+"_progress "+f.effect+'"><\/div>'),f.effect=="img")c='<img src="'+f.source+'" style="'+i+'">';else for(b=1;b<=r;++b)c+=a?'<div class="'+e+"_progress_elem"+b+'" style="'+i+'"><div style="'+h+":"+f.color+'"><\/div><\/div>':'<div class="'+e+"_progress_elem"+b+'" style="'+h+":"+f.color+";"+i+'"><\/div>';l=n('<div class="'+e+"_progress "+f.effect+'" style="'+u+s+'">'+c+"<\/div>")}f.text&&(w=n('<div class="'+e+'_text" style="color:'+f.color+'">'+f.text+"<\/div>"));o.find("> ."+e)&&o.find("> ."+e).remove();waitMeDivObj=n('<div class="'+e+'_content"><\/div>');waitMeDivObj.append(l,w);v.append(waitMeDivObj);o[0].tagName=="HTML"&&(o=n("body"));o.addClass(e+"_container").attr("data-waitme_id",y).append(v);o.find("> ."+e).css({background:f.bg});o.find("."+e+"_content").css({marginTop:-o.find("."+e+"_content").outerHeight()/2+"px"})},hide:function(){b()}};if(p[t])return p[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t=="object"||!t)return p.init.apply(this,arguments);n.event.special.destroyed={remove:function(n){n.handler&&n.handler()}}})};n(window).load(function(){n("body.waitMe_body").find(".waitMe_container:not([data-waitme_id])").remove();n("body.waitMe_body").removeClass("waitMe_body")})})(jQuery);