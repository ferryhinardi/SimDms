(function(){"use strict";var n=angular.module("angularModalService",[]);n.factory("ModalService",["$document","$compile","$controller","$http","$rootScope","$q","$templateCache",function(n,t,i,r,u,f,e){function s(){var n=this,s=function(n,t){var i=f.defer(),u;return n?i.resolve(n):t?(u=e.get(t),u!==undefined?i.resolve(u):r({method:"GET",url:t,cache:!0}).then(function(n){e.put(t,n.data);i.resolve(n.data)},function(n){i.reject(n)})):i.reject("No template or templateUrl has been specified."),i.promise};n.showModal=function(n){var r=f.defer(),e=n.controller;return e?(n.controllerAs&&(e=e+" as "+n.controllerAs),s(n.template,n.templateUrl).then(function(s){var c=u.$new(),a=f.defer(),l={$scope:c,close:function(n,t){(t===undefined||t===null)&&(t=0);window.setTimeout(function(){a.resolve(n);c.$destroy();h.remove();l.close=null;r=null;a=null;y=null;l=null;h=null;c=null},t)}},v,p,y;if(n.inputs)for(v in n.inputs)l[v]=n.inputs[v];var w=angular.element(s),b=t(w),h=b(c);l.$element=h;p=i(e,l);n.appendElement?n.appendElement.append(h):o.append(h);y={controller:p,scope:c,element:h,close:a.promise};r.resolve(y)}).then(null,function(n){r.reject(n)}),r.promise):(r.reject("No controller has been specified."),r.promise)}}var o=n.find("body");return new s}])})();