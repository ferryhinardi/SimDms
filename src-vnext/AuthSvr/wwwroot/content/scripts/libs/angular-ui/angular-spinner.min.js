(function(n,t){"use strict";t.module("angularSpinner",[]).factory("usSpinnerService",["$rootScope",function(n){var t={};return t.spin=function(t){n.$broadcast("us-spinner:spin",t)},t.stop=function(t){n.$broadcast("us-spinner:stop",t)},t}]).directive("usSpinner",["$window",function(n){return{scope:!0,controller:["$scope","$element","$attrs",function(n,i,r){n.spinner=null;n.key=t.isDefined(r.spinnerKey)?r.spinnerKey:!1;n.startActive=t.isDefined(r.spinnerStartActive)?r.spinnerStartActive:!n.key;n.spin=function(){n.spinner&&n.spinner.spin(i[0])};n.stop=function(){n.spinner&&n.spinner.stop()}}],link:function(t,i,r){t.$watch(r.usSpinner,function(r){t.stop();t.spinner=new n.Spinner(r);(!t.key||t.startActive)&&t.spinner.spin(i[0])},!0);t.$on("us-spinner:spin",function(n,i){i===t.key&&t.spin()});t.$on("us-spinner:stop",function(n,i){i===t.key&&t.stop()});t.$on("$destroy",function(){t.stop();t.spinner=null})}}}])})(window,window.angular);