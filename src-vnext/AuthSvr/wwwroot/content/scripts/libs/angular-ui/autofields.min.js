/**
 * @license Autofields v2.1.6
 * (c) 2014 Justin Maier http://justmaier.github.io/angular-autoFields-bootstrap
 * License: MIT
 */
angular.module("autofields.core",[]).provider("$autofields",function(){var n={},i={CamelToTitle:function(n){return n.replace(/([A-Z])/g," $1").replace(/^./,function(n){return n.toUpperCase()})},CamelToDash:function(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},LabelText:function(n){return n.label||i.CamelToTitle(n.property)}},r,t;n.settings={classes:{container:[],input:[],label:[]},attributes:{container:{"class":"$type"},input:{id:"$property_clean",name:"$property_clean",type:"$type",ngModel:"$data.$property",placeholder:"$placeholder"},label:{}},container:'<div class="autofields" ng-form name="$form"><\/div>',scope:{}};var u=n.setAttributes=function(n,t,r,u){angular.forEach(u,function(u,f){u&&typeof u=="string"&&(u=u.replace(/\$form/g,n.formStr).replace(/\$schema/g,n.schemaStr).replace(/\$type/g,t.type||"text").replace(/\$property_clean/g,t.property.replace(/\[|\]|\./g,"")).replace(/\$property/g,t.property).replace(/\$data/g,n.dataStr).replace(/\$placeholder/g,t.placeholder!=null?t.placeholder:i.LabelText(t)));r.attr(i.CamelToDash(f),u)})},f=function(t,i,r){var f=angular.element("<div/>");return r=angular.extend({},n.settings.attributes.container,r),u(t,i,f,r),f.addClass(n.settings.classes.container.join(" ")),f},e=function(t,r,f){var e=angular.element("<label/>");return f=angular.extend({},n.settings.attributes.label,f),u(t,r,e,f),e.addClass(n.settings.classes.label.join(" ")),e.html(i.LabelText(r)),e},o=function(t,i,r,f){var e=angular.element(r);return f=angular.extend({},n.settings.attributes.input,f,i.attr),u(t,i,e,f),e.addClass(n.settings.classes.input.join(" ")),e};return n.field=function(n,i,r,u){var s={fieldContainer:f(n,i),label:i.label!=""?e(n,i):null,input:o(n,i,r,u)},h;return s.fieldContainer.append(s.label).append(s.input),h=[],angular.forEach(t,function(t,r){s=t(n,i,s,h);h.push(r)}),s},n.updateScope=function(t){angular.forEach(n.settings.scope,function(n,i){t[i]=typeof n=="function"?function(){var i=Array.prototype.slice.call(arguments,0);i.unshift(t);n.apply(this,i)}:n})},r={},n.registerHandler=function(n,t){n=Array.isArray(n)?n:[n];angular.forEach(n,function(n){r[n]=t})},t={},n.registerMutator=function(n,i,r){(!t[n]||r.override)&&(t[n]=function(u,f,e,o){return r&&typeof r.require=="string"&&o.indexOf(r.require)==-1&&(e=t[r.require]),o.indexOf(n)==-1?i(u,f,e):void 0})},n.createField=function(n,t,i){var u=t.type==null?r.text:r[t.type];if(u==null){console.warn(t.type+" not supported - field ignored");return}return u(n,t,i)},n.$get=function(){return{settings:n.settings,createField:n.createField,updateScope:n.updateScope}},n}).directive("autoFields",["$autofields","$compile",function(n,t){return{restrict:"E",priority:1,replace:!0,compile:function(){return function(i,r,u){var f={schemaStr:u.fields||u.autoFields,optionsStr:u.options,dataStr:u.data,formStr:u.form||"autofields",classes:u["class"],container:null,formScope:null},o={extendDeep:function(n){return angular.forEach(arguments,function(t){t!==n&&angular.forEach(t,function(t,i){n[i]&&n[i].constructor&&n[i].constructor===Object?o.extendDeep(n[i],t):n[i]=t})}),n}},e;f.options=angular.copy(n.settings);e=function(r){r=r||i[f.schemaStr];f.container.html("");angular.forEach(r,function(t,i){var r=n.createField(f,t,i);f.container.append(r)});f.formScope!=null&&f.formScope.$destroy();f.formScope=i.$new();f.formScope.data=i[f.dataStr];f.formScope.fields=r;n.updateScope(f.formScope);t(f.container)(f.formScope)};i.$watch(f.optionsStr,function(n,t){o.extendDeep(f.options,n);n!==t&&e()},!0);i.$watch(f.schemaStr,function(n){e(n)},!0);i.$watch(f.formStr,function(){f.container.attr("name",f.formStr)});i.$watch(function(){return u["class"]},function(){f.classes=u["class"];f.container.attr("class",f.classes)});f.container=angular.element(f.options.container);f.container.attr("name",f.formStr);f.container.attr("class",f.classes);r.replaceWith(f.container)}}}}]);angular.module("autofields.standard",["autofields.core"]).config(["$autofieldsProvider",function(n){n.settings.fixUrl=!0;n.registerHandler(["text","email","url","date","number","password"],function(t,i){var r=n.field(t,i,"<input/>"),u=i.fixUrl?i.fixUrl:t.options.fixUrl;return i.type=="url"&&u&&r.input.attr("fix-url",""),r.fieldContainer});n.settings.defaultOption="Select One";n.registerHandler("select",function(t,i){var r=i.defaultOption?i.defaultOption:t.options.defaultOption,u='<select><option value="">'+r+"<\/option><\/select>",f={ngOptions:i.list},e=n.field(t,i,u,f);return e.fieldContainer});n.settings.textareaRows=3;n.registerHandler("textarea",function(t,i){var r=i.rows?i.rows:t.options.textareaRows,u=n.field(t,i,"<textarea/>",{rows:r});return u.fieldContainer});n.registerHandler("checkbox",function(t,i){var r=n.field(t,i,"<input/>");return r.label&&r.label.prepend(r.input),r.fieldContainer});n.settings.displayAttributes=(n.settings.displayAttributes||[]).concat(["ng-if","ng-show","ng-hide"]);n.registerMutator("displayAttributes",function(t,i,r){return i.attr?(angular.forEach(n.settings.displayAttributes,function(n){var t=r.input.attr(n);t&&(r.fieldContainer.attr(n,t),r.input.removeAttr(n))}),r):r})}]).directive("fixUrl",[function(){return{restrict:"A",require:"ngModel",link:function(n,t,i,r){var f=/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w\.\-\?\=\&]*)$/i,e=function(){var n=r.$modelValue;n!=null&&(angular.forEach(r.$formatters,function(t){n=t(n)}),r.$viewValue=n,r.$render())},u;t.bind("blur",e);u=function(n){var r=f.test(n),t,i;return r&&(t=n.match(f),i=t[1]!=null&&t[1]!=""?t[1]:"http://",i+=t[2]+"."+t[3],typeof t[4]!="undefined"&&(i+=t[4]),n=i),n};r.$formatters.push(u);r.$parsers.unshift(u)}}}]);angular.module("autofields.validation",["autofields.core"]).config(["$autofieldsProvider",function(n){var t={CamelToTitle:function(n){return n.replace(/([A-Z])/g," $1").replace(/^./,function(n){return n.toUpperCase()})}};n.settings.validation={enabled:!0,showMessages:!0,defaultMsgs:{required:"This field is required",minlength:"This is under minimum length",maxlength:"This exceeds maximum length",min:"This is under the minumum value",max:"This exceeds the maximum value",email:"This is not a valid email address",valid:""},invalid:"$form.$property_clean.$invalid && $form.$property_clean.$dirty",valid:"$form.$property_clean.$valid"};n.settings.attributes.container.ngClass="{'invalid':"+n.settings.validation.invalid+", 'valid':"+n.settings.validation.valid+"}";n.registerMutator("validation",function(n,i,r){return(r.validation=n.options.validation.enabled&&i.validate!==!1,!r.validation)?(r.fieldContainer.removeAttr("ng-class"),r):(r.msgs=[],!n.options.validation.showMessages)?r:(angular.forEach(angular.extend({},n.options.validation.defaultMsgs,i.msgs),function(u,f){if(i.msgs&&i.msgs[f]!=null||i.type==f||i.attr&&(i.attr[f]!=null||i.attr["ng"+t.CamelToTitle(f)]!=null)){var e=i.property.replace(/\[|\]|\./g,"");r.msgs.push("("+n.formStr+"."+e+".$error."+f+"? '"+u+"' : '')")}}),r.validMsg=i.msgs&&i.msgs.valid?i.msgs.valid:n.options.validation.defaultMsgs.valid,r.msgs.length,r)})}]);angular.module("autofields",["autofields.standard","autofields.validation"]);angular.module("autoFields",["autofields"]);