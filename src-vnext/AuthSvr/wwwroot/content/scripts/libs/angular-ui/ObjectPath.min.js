"use strict";!function(){var n={parse:function(n){if(typeof n!="string")throw new TypeError("ObjectPath.parse must be passed a string");for(var i=0,f=[],e,r,u,t;i<n.length;)if(e=n.indexOf(".",i),r=n.indexOf("[",i),e===-1&&r===-1)f.push(n.slice(i,n.length)),i=n.length;else if(r===-1||e!==-1&&e<r)f.push(n.slice(i,e)),i=e+1;else if(r>i&&(f.push(n.slice(i,r)),i=r),u=n.slice(r+1,r+2),u!=='"'&&u!=="'")t=n.indexOf("]",r),t===-1&&(t=n.length),f.push(n.slice(i+1,t)),i=n.slice(t+1,t+2)==="."?t+2:t+1;else{for(t=n.indexOf(u+"]",r),t===-1&&(t=n.length);n.slice(t-1,t)==="\\"&&r<n.length;)r++,t=n.indexOf(u+"]",r);f.push(n.slice(i+2,t).replace(new RegExp("\\"+u,"g"),u));i=n.slice(t+2,t+3)==="."?t+3:t+2}return f},stringify:function(n,t){return Array.isArray(n)||(n=[n.toString()]),t=t==='"'?'"':"'",n.map(function(n){return"["+t+n.toString().replace(new RegExp(t,"g"),"\\"+t)+t+"]"}).join("")},normalize:function(t,i){return n.stringify(Array.isArray(t)?t:n.parse(t),i)},registerModule:function(t){t.module("ObjectPath",[]).provider("ObjectPath",function(){this.parse=n.parse;this.stringify=n.stringify;this.normalize=n.normalize;this.$get=function(){return n}})}};typeof define=="function"&&define.amd?define(function(){return n}):typeof exports=="object"?exports.ObjectPath=n:window.ObjectPath=n}();