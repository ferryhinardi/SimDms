var ngMap=angular.module("ngMap",[]);(function(){"use strict";function n(n){return n.replace(t,function(n,t,i,r){return r?i.toUpperCase():i}).replace(i,"Moz$1")}function r(n){try{return JSON.parse(n),n}catch(t){return n.replace(/([\$\w]+)\s*:/g,function(n,t){return'"'+t+'":'}).replace(/'([^']+)'/g,function(n,t){return'"'+t+'"'})}}var t=/([\:\-\_]+(.))/g,i=/^moz([A-Z])/,u=function(){var i=function(n){var i,t,r;for(n.length>0&&(n=n[0]),i={},t=0;t<n.attributes.length;t++)r=n.attributes[t],i[r.name]=r.value;return i},t=function(input,n){var output,key=n.key,u=n.scope,i,t,exp,matches,capitalizedKey;try{if(i=Number(input),isNaN(i))throw"Not a number";else output=i}catch(f){try{if(input.match(/^[\+\-]?[0-9\.]+,[ ]*\ ?[\+\-]?[0-9\.]+$/)&&(input="["+input+"]"),output=JSON.parse(r(input)),output instanceof Array&&(t=output[0],t.constructor!=Object))if(t.constructor==Array)output=output.map(function(n){return new google.maps.LatLng(n[0],n[1])});else if(!isNaN(parseFloat(t))&&isFinite(t))return new google.maps.LatLng(output[0],output[1])}catch(e){if(input.match(/^[A-Z][a-zA-Z0-9]+\(.*\)$/))try{exp="new google.maps."+input;output=eval(exp)}catch(o){output=input}else if(input.match(/^([A-Z][a-zA-Z0-9]+)\.([A-Z]+)$/))try{matches=input.match(/^([A-Z][a-zA-Z0-9]+)\.([A-Z]+)$/);output=google.maps[matches[1]][matches[2]]}catch(o){output=input}else if(input.match(/^[A-Z]+$/))try{capitalizedKey=key.charAt(0).toUpperCase()+key.slice(1);key.match(/temperatureUnit|windSpeedUnit|labelColor/)?(capitalizedKey=capitalizedKey.replace(/s$/,""),output=google.maps.weather[capitalizedKey][input]):output=google.maps[capitalizedKey][input]}catch(o){output=input}else output=input}}return output},u=function(t){var u=[],i,r;if(t["ng-repeat"]||t.ngRepeat)void 0;else for(i in t)r=t[i],r&&r.match(/\{\{.*\}\}/)&&(void 0,u.push(n(i)));return u},f=function(n){var i={};for(var t in n)t.match(/^\$/)||t.match(/^ng[A-Z]/)?void 0:i[t]=n[t];return i},e=function(n,i){var u={};for(var r in n)if(n[r])if(r.match(/^on[A-Z]/))continue;else if(r.match(/ControlOptions$/))continue;else u[r]=t(n[r],{scope:i,key:r});return u},o=function(n,t){var u={},e=function(n){return"_"+n.toLowerCase()},o=function(t){var i=t.match(/([^\(]+)\(([^\)]*)\)/),r=i[1],u=i[2].replace(/event[ ,]*/,""),f=n.$eval("["+u+"]");return function(t){function i(n,t){return n[t]}var u=r.split(".").reduce(i,n);u.apply(this,[t].concat(f));n.$apply()}},r,i,f;for(r in t)if(t[r]){if(!r.match(/^on[A-Z]/))continue;i=r.replace(/^on/,"");i=i.charAt(0).toLowerCase()+i.slice(1);i=i.replace(/([A-Z])/g,e);f=t[r];u[i]=new o(f)}return u},s=function(n){var e={},r,o,f,u,i,t,s,h;if(typeof n!="object")return!1;for(r in n)if(n[r]){if(!r.match(/(.*)ControlOptions$/))continue;o=n[r];f=o.replace(/'/g,'"');f=f.replace(/([^"]+)|("[^"]+")/g,function(n,t,i){return t?t.replace(/([a-zA-Z0-9]+?):/g,'"$1":'):i});try{u=JSON.parse(f);for(i in u)u[i]&&(t=u[i],typeof t=="string"?t=t.toUpperCase():i==="mapTypeIds"&&(t=t.map(function(n){return n.match(/^[A-Z]+$/)?google.maps.MapTypeId[n.toUpperCase()]:n})),i==="style"?(s=r.charAt(0).toUpperCase()+r.slice(1),h=s.replace(/Options$/,"")+"Style",u[i]=google.maps[h][t]):u[i]=i==="position"?google.maps.ControlPosition[t]:t);e[r]=u}catch(c){void 0}}return e};return{camelCase:n,filter:f,getOptions:e,getEvents:o,getControlOptions:s,toOptionValue:t,getAttrsToObserve:u,orgAttributes:i}};angular.module("ngMap").service("Attr2Options",["$parse","NavigatorGeolocation","GeoCoder",u])})(),function(){"use strict";var n=function(n){return{geocode:function(t){var i=n.defer(),r=new google.maps.Geocoder;return r.geocode(t,function(n,t){t==google.maps.GeocoderStatus.OK?i.resolve(n):i.reject("Geocoder failed due to: "+t)}),i.promise}}};angular.module("ngMap").service("GeoCoder",["$q",n])}(),function(){"use strict";var n=function(n){return{getCurrentPosition:function(){var t=n.defer();return navigator.geolocation?navigator.geolocation.getCurrentPosition(function(n){t.resolve(n)},function(n){void 0;t.reject(n)}):t.reject("Browser Geolocation service failed."),t.promise},watchPosition:function(){return"TODO"},clearWatch:function(){return"TODO"}}};angular.module("ngMap").service("NavigatorGeolocation",["$q",n])}(),function(){"use strict";var n=function(n){var t=function(t,i){i=i||t.getCenter();var r=n.defer(),u=new google.maps.StreetViewService;return u.getPanoramaByLocation(i||t.getCenter,100,function(n,t){t===google.maps.StreetViewStatus.OK?r.resolve(n.location.pano):r.resolve(!1)}),r.promise},i=function(n,t){var i=new google.maps.StreetViewPanorama(n.getDiv(),{enableCloseButton:!0});i.setPano(t)};return{getPanorama:t,setPanorama:i}};angular.module("ngMap").service("StreetView",["$q",n])}();ngMap.directive("bicyclingLayer",["Attr2Options",function(n){var t=n,i=function(n,t){var i=new google.maps.BicyclingLayer(n);for(var r in t)google.maps.event.addListener(i,r,t[r]);return i};return{restrict:"E",require:"^map",link:function(n,r,u,f){var s=t.orgAttributes(r),o=t.filter(u),h=t.getOptions(o),c=t.getEvents(n,o),e;void 0;e=i(h,c);f.addObject("bicyclingLayers",e);f.observeAttrSetObj(s,u,e);r.bind("$destroy",function(){f.deleteObject("bicyclingLayers",e)})}}}]);ngMap.directive("cloudLayer",["Attr2Options",function(n){var t=n,i=function(n,t){var i=new google.maps.weather.CloudLayer(n);for(var r in t)google.maps.event.addListener(i,r,t[r]);return i};return{restrict:"E",require:"^map",link:function(n,r,u,f){var s=t.orgAttributes(r),o=t.filter(u),h=t.getOptions(o),c=t.getEvents(n,o),e;void 0;e=i(h,c);f.addObject("cloudLayers",e);f.observeAttrSetObj(s,u,e);r.bind("$destroy",function(){f.deleteObject("cloudLayers",e)})}}}]);ngMap.directive("customControl",["Attr2Options","$compile",function(n,t){var i=n;return{restrict:"E",require:"^map",link:function(n,r,u,f){var c,e,o;r.css("display","none");var a=i.orgAttributes(r),s=i.filter(u),l=i.getOptions(s,n),h=i.getEvents(n,s);void 0;c=t(r.html().trim())(n);e=c[0];for(o in h)google.maps.event.addDomListener(e,o,h[o]);f.addObject("customControls",e);n.$on("mapInitialized",function(n,t){var i=l.position;t.controls[google.maps.ControlPosition[i]].push(e)})}}}]),function(){"use strict";var t=function(n,t){var i,r;n.panel&&(n.panel=document.getElementById(n.panel)||document.querySelector(n.panel));i=new google.maps.DirectionsRenderer(n);for(r in t)google.maps.event.addListener(i,r,t[r]);return i},n=function(n,i){var r=n,f=new google.maps.DirectionsService,u=function(n,t){var r=t,e,u;r.travelMode=r.travelMode||"DRIVING";e=["origin","destination","travelMode","transitOptions","unitSystem","durationInTraffic","waypoints","optimizeWaypoints","provideRouteAlternatives","avoidHighways","avoidTolls","region"];for(u in r)e.indexOf(u)===-1&&delete r[u];r.origin&&r.destination&&(void 0,f.route(r,function(t,r){r==google.maps.DirectionsStatus.OK&&i(function(){n.setDirections(t)})}))},e=function(n,i,f,e){var c=r.orgAttributes(i),h=r.filter(f),o=r.getOptions(h),l=r.getEvents(n,h),a=r.getAttrsToObserve(c),s=t(o,l);e.addObject("directionsRenderers",s);a.forEach(function(n){(function(n){f.$observe(n,function(t){if(o[n]!==t){var i=r.toOptionValue(t,{key:n});void 0;o[n]=i;u(s,o)}})})(n)});n.$on("mapInitialized",function(){u(s,o)})};return{restrict:"E",require:"^map",link:e}};n.$inject=["Attr2Options","$timeout"];angular.module("ngMap").directive("directions",n)}();ngMap.directive("drawingManager",["Attr2Options",function(n){var t=n;return{restrict:"E",require:"^map",link:function(n,i,r,u){var l=t.orgAttributes(i),e=t.filter(r),f=t.getOptions(e),c=t.getControlOptions(e),o=t.getEvents(n,e),s,h;void 0;s=new google.maps.drawing.DrawingManager({drawingMode:f.drawingmode,drawingControl:f.drawingcontrol,drawingControlOptions:c.drawingControlOptions,circleOptions:f.circleoptions,markerOptions:f.markeroptions,polygonOptions:f.polygonoptions,polylineOptions:f.polylineoptions,rectangleOptions:f.rectangleoptions});o=t.getEvents(n,e);for(h in o)google.maps.event.addListener(s,h,o[h]);u.addObject("mapDrawingManager",s)}}}]);ngMap.directive("dynamicMapsEngineLayer",["Attr2Options",function(n){var t=n,i=function(n,t){var i=new google.maps.visualization.DynamicMapsEngineLayer(n);for(var r in t)google.maps.event.addListener(i,r,t[r]);return i};return{restrict:"E",require:"^map",link:function(n,r,u,f){var e=t.filter(u),h=t.getOptions(e),o=t.getEvents(n,e,o),s;void 0;s=i(h,o);f.addObject("mapsEngineLayers",s)}}}]);ngMap.directive("fusionTablesLayer",["Attr2Options",function(n){var t=n,i=function(n,t){var i=new google.maps.FusionTablesLayer(n);for(var r in t)google.maps.event.addListener(i,r,t[r]);return i};return{restrict:"E",require:"^map",link:function(n,r,u,f){var e=t.filter(u),h=t.getOptions(e),o=t.getEvents(n,e,o),s;void 0;s=i(h,o);f.addObject("fusionTablesLayers",s)}}}]);ngMap.directive("heatmapLayer",["Attr2Options","$window",function(n,t){var i=n;return{restrict:"E",require:"^map",link:function(n,r,u,f){var o=i.filter(u),e=i.getOptions(o),s,h;if(e.data=t[u.data]||n[u.data],e.data instanceof Array)e.data=new google.maps.MVCArray(e.data);else throw"invalid heatmap data";s=new google.maps.visualization.HeatmapLayer(e);h=i.getEvents(n,o);void 0;f.addObject("heatmapLayers",s)}}}]),function(){"use strict";var n=function(n,t,i,r){var u=n,f=function(n,r,u){var f,e,o;!n.position||n.position instanceof google.maps.LatLng||delete n.position;f=new google.maps.InfoWindow(n);Object.keys(r).length>0&&void 0;for(e in r)e&&google.maps.event.addListener(f,e,r[e]);if(o=u.html().trim(),angular.element(o).length!=1)throw"info-window working as a template must have a container";return f.__template=o.replace(/\s?ng-non-bindable[='"]+/,""),f.__compile=function(n){var i=t(f.__template)(n);n.$apply();f.setContent(i[0])},f.__eval=function(){var n=f.__template,t=this;return n=n.replace(/{{(event|this)[^;\}]+}}/g,function(match){var expression=match.replace(/[{}]/g,"").replace("this.","_this.");return void 0,eval(expression)}),void 0,n},f.__open=function(n,t,r){i(function(){var i=f.__template;r&&(f.__template=f.__eval.apply(r));f.__compile(t);r&&r.getPosition?f.open(n,r):f.open(n);f.__template=i})},f},e=function(n,t,i,e){var h,o;t.css("display","none");var l=u.orgAttributes(t),c=u.filter(i),s=u.getOptions(c,n),a=u.getEvents(n,c);void 0;!s.position||s.position instanceof google.maps.LatLng||(h=s.position);o=f(s,a,t);h&&e.getGeoLocation(h).then(function(t){o.setPosition(t);o.__open(e.map,n,t);var u=i.geoCallback;u&&r(u)(n)});e.addObject("infoWindows",o);e.observeAttrSetObj(l,i,o);n.$on("mapInitialized",function(t,i){if(o.visible&&o.__open(i,n),o.visibleOnMarker){var r=o.visibleOnMarker;o.__open(i,n,i.markers[r])}});n.showInfoWindow=function(t,i,r){var u=e.map.infoWindows[i],f=r?r:this.getPosition?this:null;u.__open(e.map,n,f)};n.hideInfoWindow=n.hideInfoWindow||function(n,t){var i=e.map.infoWindows[t];i.close()}};return{restrict:"E",require:"^map",link:e}};n.$inject=["Attr2Options","$compile","$timeout","$parse"];angular.module("ngMap").directive("infoWindow",n)}();ngMap.directive("kmlLayer",["Attr2Options",function(n){var t=n,i=function(n,t){var i=new google.maps.KmlLayer(n);for(var r in t)google.maps.event.addListener(i,r,t[r]);return i};return{restrict:"E",require:"^map",link:function(n,r,u,f){var s=t.orgAttributes(r),o=t.filter(u),h=t.getOptions(o),c=t.getEvents(n,o),e;void 0;e=i(h,c);f.addObject("kmlLayers",e);f.observeAttrSetObj(s,u,e);r.bind("$destroy",function(){f.deleteObject("kmlLayers",e)})}}}]);ngMap.directive("mapData",["Attr2Options",function(n){var t=n;return{restrict:"E",require:"^map",link:function(n,i,r){var f=t.filter(r),e=t.getOptions(f),u=t.getEvents(n,f,u);void 0;n.$on("mapInitialized",function(t,i){var r,f,o;for(r in e)r&&(f=e[r],typeof n[f]=="function"?i.data[r](n[f]):i.data[r](f));for(o in u)u[o]&&i.data.addListener(o,u[o])})}}}]);ngMap.directive("mapLazyLoad",["$compile","$timeout",function(n,t){"use strict";return{compile:function(i,r){r.mapLazyLoad||void 0;var f=i.html(),u=r.mapLazyLoad;return document.querySelector('script[src="'+u+'?callback=lazyLoadCallback"]')?!1:(i.html(""),{pre:function(i,r){if(window.lazyLoadCallback=function(){void 0;t(function(){r.html(f);n(r.contents())(i)},100)},window.google===undefined||window.google.maps===undefined){var e=document.createElement("script");e.src=u+(u.indexOf("?")>-1?"&":"?")+"callback=lazyLoadCallback";document.body.appendChild(e)}else r.html(f),n(r.contents())(i)}})}}}]);ngMap.directive("mapType",["Attr2Options","$window",function(n,t){var i=n;return{restrict:"E",require:"^map",link:function(n,i,r,u){var e=r.name,f,o;if(!e)throw"invalid map-type name";if(r.object&&(o=n[r.object]?n:t,f=o[r.object],typeof f=="function"&&(f=new f)),!f)throw"invalid map-type object";n.$on("mapInitialized",function(n,t){t.mapTypes.set(e,f)});u.addObject("mapTypes",f)}}}]),function(){"use strict";function n(n,t){var i;return n.currentStyle?i=n.currentStyle[t]:window.getComputedStyle&&(i=document.defaultView.getComputedStyle(n,null).getPropertyValue(t)),i}var t=function(t,i,r){var u=t,f=function(t,f,e,o){var y=u.orgAttributes(f),s;t.google=google;s=document.createElement("div");s.style.width="100%";s.style.height="100%";f.prepend(s);n(f[0],"display")!="block"&&f.css("display","block");n(f[0],"height").match(/^(0|auto)/)&&f.css("height","300px");var l=function(n,u){var f=new google.maps.Map(s,{}),h,l;f.markers={};f.shapes={};i(function(){google.maps.event.trigger(f,"resize")});n.zoom=n.zoom||15;h=n.center;h?h instanceof google.maps.LatLng||(delete n.center,o.getGeoLocation(h).then(function(n){f.setCenter(n);var i=e.geoCallback;i&&r(i)(t)},function(){f.setCenter(c.geoFallbackCenter)})):n.center=new google.maps.LatLng(0,0);f.setOptions(n);for(l in u)l&&google.maps.event.addListener(f,l,u[l]);o.observeAttrSetObj(y,e,f);o.map=f;o.addObjects(o._objects);t.map=f;t.map.scope=t;google.maps.event.addListenerOnce(f,"idle",function(){t.$emit("mapInitialized",f)});t.maps=t.maps||{};t.maps[c.id||Object.keys(t.maps).length]=f;t.$emit("mapsInitialized",t.maps)},h=u.filter(e),c=u.getOptions(h,t),p=u.getControlOptions(h),a=angular.extend(c,p),v=u.getEvents(t,h);void 0;e.initEvent?t.$on(e.initEvent,function(){o.map||l(a,v)}):l(a,v)};return{restrict:"AE",controller:"MapController",link:f}};angular.module("ngMap").directive("map",["Attr2Options","$timeout","$parse",t])}(),function(){"use strict";var n=function(n,t,i,r){var u=r,f=this,e=function(n,t,i){n.$observe(t,function(n){if(n){void 0;var r=u.camelCase("set-"+t),e=u.toOptionValue(n,{key:t});void 0;i[r]&&(t.match(/center|position/)&&typeof e=="string"?f.getGeoLocation(e).then(function(n){i[r](n)}):i[r](e))}})};this.map=null;this._objects=[];this.addObject=function(n,t){if(this.map){this.map[n]=this.map[n]||{};var i=Object.keys(this.map[n]).length;this.map[n][t.id||i]=t;n!="infoWindows"&&t.setMap&&t.setMap&&t.setMap(this.map);t.centered&&t.position&&this.map.setCenter(t.position)}else t.groupName=n,this._objects.push(t)};this.deleteObject=function(n,t){var i=t.map[n];for(var r in i)i[r]===t&&delete i[r];t.map&&t.setMap&&t.setMap(null)};this.addObjects=function(n){for(var t,i=0;i<n.length;i++)t=n[i],t instanceof google.maps.Marker?this.addObject("markers",t):t instanceof google.maps.Circle||t instanceof google.maps.Polygon||t instanceof google.maps.Polyline||t instanceof google.maps.Rectangle||t instanceof google.maps.GroundOverlay?this.addObject("shapes",t):this.addObject(t.groupName,t)};this.getGeoLocation=function(r){var u=n.defer();return!r||r.match(/^current/i)?t.getCurrentPosition().then(function(n){var t=n.coords.latitude,i=n.coords.longitude,r=new google.maps.LatLng(t,i);u.resolve(r)},function(n){u.reject(n)}):i.geocode({address:r}).then(function(n){u.resolve(n[0].geometry.location)},function(n){u.reject(n)}),u.promise};this.observeAttrSetObj=function(n,t,i){var f=u.getAttrsToObserve(n),r;for(Object.keys(f).length&&void 0,r=0;r<f.length;r++)e(t,f[r],i)}};n.$inject=["$q","NavigatorGeolocation","GeoCoder","Attr2Options"];angular.module("ngMap").controller("MapController",n)}();ngMap.directive("mapsEngineLayer",["Attr2Options",function(n){var t=n,i=function(n,t){var i=new google.maps.visualization.MapsEngineLayer(n);for(var r in t)google.maps.event.addListener(i,r,t[r]);return i};return{restrict:"E",require:"^map",link:function(n,r,u,f){var e=t.filter(u),h=t.getOptions(e),o=t.getEvents(n,e,o),s;void 0;s=i(h,o);f.addObject("mapsEngineLayers",s)}}}]),function(){"use strict";var t=function(n,t){var f,i,r,u;if(n.icon instanceof Object){(""+n.icon.path).match(/^[A-Z_]+$/)&&(n.icon.path=google.maps.SymbolPath[n.icon.path]);for(i in n.icon)r=n.icon[i],i=="anchor"||i=="origin"?n.icon[i]=new google.maps.Point(r[0],r[1]):(i=="size"||i=="scaledSize")&&(n.icon[i]=new google.maps.Size(r[0],r[1]))}n.position instanceof google.maps.LatLng||(n.position=new google.maps.LatLng(0,0));f=new google.maps.Marker(n);Object.keys(t).length>0&&void 0;for(u in t)u&&google.maps.event.addListener(f,u,t[u]);return f},n=function(n,i){var r=n,u=function(n,u,f,e){var l=r.orgAttributes(u),c=r.filter(f),s=r.getOptions(c,n),a=r.getEvents(n,c),h,o;void 0;s.position instanceof google.maps.LatLng||(h=s.position.position);o=t(s,a);e.addObject("markers",o);h&&e.getGeoLocation(h).then(function(t){o.setPosition(t);s.centered&&o.map.setCenter(t);var r=f.geoCallback;r&&i(r)(n)});e.observeAttrSetObj(l,f,o);u.bind("$destroy",function(){e.deleteObject("markers",o)})};return{restrict:"E",require:"^map",link:u}};n.$inject=["Attr2Options","$parse"];angular.module("ngMap").directive("marker",n)}();ngMap.directive("overlayMapType",["Attr2Options","$window",function(n,t){var i=n;return{restrict:"E",require:"^map",link:function(n,i,r,u){var f,e=r.initMethod||"insertAt",o;if(r.object&&(o=n[r.object]?n:t,f=o[r.object],typeof f=="function"&&(f=new f)),!f)throw"invalid map-type object";n.$on("mapInitialized",function(n,t){if(e=="insertAt"){var i=parseInt(r.index,10);t.overlayMapTypes.insertAt(i,f)}else e=="push"&&t.overlayMapTypes.push(f)});u.addObject("overlayMapTypes",f)}}}]),function(){"use strict";var n=function(n,t){var i=n,r=function(n,r,u,f){var s=i.filter(u),c=i.getOptions(s),h=i.getEvents(n,s),e,o;void 0;e=new google.maps.places.Autocomplete(r[0],c);for(o in h)google.maps.event.addListener(e,o,h[o]);r[0].addEventListener("change",function(){t(function(){f&&f.$setViewValue(r.val())},100)});u.$observe("types",function(n){if(n){void 0;var t=i.toOptionValue(n,{key:"types"});void 0;e.setTypes(t)}})};return{restrict:"A",require:"?ngModel",link:r}};n.$inject=["Attr2Options","$timeout"];angular.module("ngMap").directive("placesAutoComplete",n)}(),function(){"use strict";var n=function(n){return new google.maps.LatLngBounds(n[0],n[1])},i=function(t,i){var r,o=t.name,u,f,e;if(delete t.name,void 0,t.icons)for(u=0;u<t.icons.length;u++)f=t.icons[u],f.icon.path.match(/^[A-Z_]+$/)&&(f.icon.path=google.maps.SymbolPath[f.icon.path]);switch(o){case"circle":t.center instanceof google.maps.LatLng||(t.center=new google.maps.LatLng(0,0));r=new google.maps.Circle(t);break;case"polygon":r=new google.maps.Polygon(t);break;case"polyline":r=new google.maps.Polyline(t);break;case"rectangle":t.bounds&&(t.bounds=n(t.bounds));r=new google.maps.Rectangle(t);break;case"groundOverlay":case"image":var s=t.url,h=n(t.bounds),c={opacity:t.opacity,clickable:t.clickable,id:t.id};r=new google.maps.GroundOverlay(s,h,c)}for(e in i)i[e]&&google.maps.event.addListener(r,e,i[e]);return r},t=function(n,t){var r=n,u=function(n,u,f,e){var a=r.orgAttributes(u),c=r.filter(f),s=r.getOptions(c),v=r.getEvents(n,c),h,l,o;l=s.name;s.center instanceof google.maps.LatLng||(h=s.center);o=i(s,v);e.addObject("shapes",o);h&&l=="circle"&&e.getGeoLocation(h).then(function(i){o.setCenter(i);o.centered&&o.map.setCenter(i);var r=f.geoCallback;r&&t(r)(n)});e.observeAttrSetObj(a,f,o);u.bind("$destroy",function(){e.deleteObject("shapes",o)})};return{restrict:"E",require:"^map",link:u}};t.$inject=["Attr2Options","$parse"];angular.module("ngMap").directive("shape",t)}(),function(){"use strict";var n=function(n){var t=n,i=function(n,t,i){var r,u,f;t.container&&(u=document.getElementById(t.container),u=u||document.querySelector(t.container));u?r=new google.maps.StreetViewPanorama(u,t):(r=n.getStreetView(),r.setOptions(t));for(f in i)f&&google.maps.event.addListener(r,f,i[f]);return r},r=function(n,r,u){var c=t.orgAttributes(r),f=t.filter(u),e=t.getOptions(f),o=t.getControlOptions(f),s=angular.extend(e,o),h=t.getEvents(n,f);void 0;n.$on("mapInitialized",function(n,t){var r=i(t,s,h),u;t.setStreetView(r);r.getPosition()||r.setPosition(t.getCenter());google.maps.event.addListener(r,"position_changed",function(){r.getPosition()!==t.getCenter()&&t.setCenter(r.getPosition())});u=google.maps.event.addListener(t,"center_changed",function(){r.setPosition(t.getCenter());google.maps.event.removeListener(u)})})};return{restrict:"E",require:"^map",link:r}};n.$inject=["Attr2Options"];angular.module("ngMap").directive("streetViewPanorama",n)}();ngMap.directive("trafficLayer",["Attr2Options",function(n){var t=n,i=function(n,t){var i=new google.maps.TrafficLayer(n);for(var r in t)google.maps.event.addListener(i,r,t[r]);return i};return{restrict:"E",require:"^map",link:function(n,r,u,f){var s=t.orgAttributes(r),o=t.filter(u),h=t.getOptions(o),c=t.getEvents(n,o),e;void 0;e=i(h,c);f.addObject("trafficLayers",e);f.observeAttrSetObj(s,u,e);r.bind("$destroy",function(){f.deleteObject("trafficLayers",e)})}}}]);ngMap.directive("transitLayer",["Attr2Options",function(n){var t=n,i=function(n,t){var i=new google.maps.TransitLayer(n);for(var r in t)google.maps.event.addListener(i,r,t[r]);return i};return{restrict:"E",require:"^map",link:function(n,r,u,f){var s=t.orgAttributes(r),o=t.filter(u),h=t.getOptions(o),c=t.getEvents(n,o),e;void 0;e=i(h,c);f.addObject("transitLayers",e);f.observeAttrSetObj(s,u,e);r.bind("$destroy",function(){f.deleteObject("transitLayers",e)})}}}]);ngMap.directive("weatherLayer",["Attr2Options",function(n){var t=n,i=function(n,t){var i=new google.maps.weather.WeatherLayer(n);for(var r in t)google.maps.event.addListener(i,r,t[r]);return i};return{restrict:"E",require:"^map",link:function(n,r,u,f){var s=t.orgAttributes(r),o=t.filter(u),h=t.getOptions(o),c=t.getEvents(n,o),e;void 0;e=i(h,c);f.addObject("weatherLayers",e);f.observeAttrSetObj(s,u,e);r.bind("$destroy",function(){f.deleteObject("weatherLayers",e)})}}}]);