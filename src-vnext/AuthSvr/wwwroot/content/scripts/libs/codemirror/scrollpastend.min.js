(function(n){typeof exports=="object"&&typeof module=="object"?n(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)})(function(n){"use strict";function i(i,r){n.changeEnd(r).line==i.lastLine()&&t(i)}function t(n){var t="",i,r;n.lineCount()>1&&(i=n.display.scroller.clientHeight-30,r=n.getLineHandle(n.lastLine()).height,t=i-r+"px");n.state.scrollPastEndPadding!=t&&(n.state.scrollPastEndPadding=t,n.display.lineSpace.parentNode.style.paddingBottom=t,n.setSize())}n.defineOption("scrollPastEnd",!1,function(r,u,f){if(f&&f!=n.Init&&(r.off("change",i),r.off("refresh",t),r.display.lineSpace.parentNode.style.paddingBottom="",r.state.scrollPastEndPadding=null),u){r.on("change",i);r.on("refresh",t);t(r)}})});