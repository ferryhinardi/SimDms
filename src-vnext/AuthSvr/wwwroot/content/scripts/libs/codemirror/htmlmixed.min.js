(function(n){typeof exports=="object"&&typeof module=="object"?n(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],n):n(CodeMirror)})(function(n){"use strict";function f(n,t,i){var r=n.current(),u=r.search(t);return u>-1?n.backUp(r.length-u):r.match(/<\/?$/)&&(n.backUp(r.length),n.match(t,!1)||n.match(r)),i}function e(n){var i=t[n];return i?i:t[n]=new RegExp("\\s+"+n+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*")}function o(n,t){for(var i=n.pos,r;i>=0&&n.string.charAt(i)!=="<";)i--;return i<0?i:(r=n.string.slice(i,n.pos).match(e(t)))?r[2]:""}function i(n,t){return new RegExp((t?"^":"")+"<\/s*"+n+"s*>","i")}function r(n,t){var i,f,u,r;for(i in n)for(f=t[i]||(t[i]=[]),u=n[i],r=u.length-1;r>=0;r--)f.unshift(u[r])}function s(n,t){for(var i,r=0;r<n.length;r++)if(i=n[r],!i[0]||i[1].test(o(t,i[0])))return i[2]}var u={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]},t={};n.defineMode("htmlmixed",function(t,e){function v(r,u){var e=u.htmlState.tagName&&u.htmlState.tagName.toLowerCase(),c=e&&h.hasOwnProperty(e)&&h[e],l=o.token(r,u.htmlState),a;if(c&&/\btag\b/.test(l)&&r.current()===">"&&(a=s(c,r))){var y=n.getMode(t,a),p=i(e,!0),w=i(e,!1);u.token=function(n,t){return n.match(p,!1)?(t.token=v,t.localState=t.localMode=null,null):f(n,w,t.localMode.token(n,t.localState))};u.localMode=y;u.localState=n.startState(y,o.indent(u.htmlState,""))}return l}var o=n.getMode(t,{name:"xml",htmlMode:!0,multilineTagIndentFactor:e.multilineTagIndentFactor,multilineTagIndentPastTag:e.multilineTagIndentPastTag}),h={},a=e&&e.tags,l=e&&e.scriptTypes,c;if(r(u,h),a&&r(a,h),l)for(c=l.length-1;c>=0;c--)h.script.unshift(["type",l[c].matches,l[c].mode]);return{startState:function(){var n=o.startState();return{token:v,localMode:null,localState:null,htmlState:n}},copyState:function(t){var i;return t.localState&&(i=n.copyState(t.localMode,t.localState)),{token:t.token,localMode:t.localMode,localState:i,htmlState:n.copyState(o,t.htmlState)}},token:function(n,t){return t.token(n,t)},indent:function(t,i){return!t.localMode||/^\s*<\//.test(i)?o.indent(t.htmlState,i):t.localMode.indent?t.localMode.indent(t.localState,i):n.Pass},innerMode:function(n){return{state:n.localState||n.htmlState,mode:n.localMode||o}}}},"xml","javascript","css");n.defineMIME("text/html","htmlmixed")});
//# sourceMappingURL=htmlmixed.min.js.map
