/**
 * @license HTTP Auth Interceptor Module for AngularJS
 * (c) 2012 Witold Szczerba
 * License: MIT
 */
(function(){"use strict";angular.module("http-auth-interceptor",["http-auth-interceptor-buffer"]).factory("authService",["$rootScope","httpBuffer",function(n,t){return{loginConfirmed:function(i,r){var u=r||function(n){return n};n.$broadcast("event:auth-loginConfirmed",i);t.retryAll(u)},loginCancelled:function(i,r){t.rejectAll(r);n.$broadcast("event:auth-loginCancelled",i)}}}]).config(["$httpProvider",function(n){n.interceptors.push(["$rootScope","$q","httpBuffer",function(n,t,i){return{responseError:function(r){if(!r.config.ignoreAuthModule)switch(r.status){case 401:var u=t.defer();return i.append(r.config,u),n.$broadcast("event:auth-loginRequired",r),u.promise;case 403:n.$broadcast("event:auth-forbidden",r)}return t.reject(r)}}}])}]);angular.module("http-auth-interceptor-buffer",[]).factory("httpBuffer",["$injector",function(n){function r(t,r){function u(n){r.resolve(n)}function f(n){r.reject(n)}i=i||n.get("$http");i(t).then(u,f)}var t=[],i;return{append:function(n,i){t.push({config:n,deferred:i})},rejectAll:function(n){if(n)for(var i=0;i<t.length;++i)t[i].deferred.reject(n);t=[]},retryAll:function(n){for(var i=0;i<t.length;++i)r(n(t[i].config),t[i].deferred);t=[]}}}])})();
//# sourceMappingURL=http-auth-interceptor.min.js.map
